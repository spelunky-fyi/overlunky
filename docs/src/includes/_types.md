
# Non-Entity types


## Arena types


### ArenaConfigArenas

Used in [ArenaState](#ArenaState)

Type | Name | Description
---- | ---- | -----------
array&lt;bool, 40&gt; | [list](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=list) | 
bool | [dwelling_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_1) | 
bool | [dwelling_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_2) | 
bool | [dwelling_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_3) | 
bool | [dwelling_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_4) | 
bool | [dwelling_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dwelling_5) | 
bool | [jungle_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_1) | 
bool | [jungle_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_2) | 
bool | [jungle_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_3) | 
bool | [jungle_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_4) | 
bool | [jungle_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_5) | 
bool | [volcana_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_1) | 
bool | [volcana_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_2) | 
bool | [volcana_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_3) | 
bool | [volcana_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_4) | 
bool | [volcana_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volcana_5) | 
bool | [tidepool_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_1) | 
bool | [tidepool_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_2) | 
bool | [tidepool_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_3) | 
bool | [tidepool_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_4) | 
bool | [tidepool_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tidepool_5) | 
bool | [temple_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_1) | 
bool | [temple_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_2) | 
bool | [temple_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_3) | 
bool | [temple_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_4) | 
bool | [temple_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=temple_5) | 
bool | [icecaves_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_1) | 
bool | [icecaves_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_2) | 
bool | [icecaves_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_3) | 
bool | [icecaves_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_4) | 
bool | [icecaves_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=icecaves_5) | 
bool | [neobabylon_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_1) | 
bool | [neobabylon_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_2) | 
bool | [neobabylon_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_3) | 
bool | [neobabylon_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_4) | 
bool | [neobabylon_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=neobabylon_5) | 
bool | [sunkencity_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_1) | 
bool | [sunkencity_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_2) | 
bool | [sunkencity_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_3) | 
bool | [sunkencity_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_4) | 
bool | [sunkencity_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sunkencity_5) | 

### ArenaConfigEquippedItems

Used in [ArenaState](#ArenaState)

Type | Name | Description
---- | ---- | -----------
bool | [paste](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=paste) | 
bool | [climbing_gloves](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=climbing_gloves) | 
bool | [pitchers_mitt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pitchers_mitt) | 
bool | [spike_shoes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spike_shoes) | 
bool | [spring_shoes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spring_shoes) | 
bool | [parachute](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=parachute) | 
bool | [kapala](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala) | 
bool | [scepter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scepter) | 

### ArenaConfigItems

Used in [ArenaState](#ArenaState)

Type | Name | Description
---- | ---- | -----------
bool | [rock](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rock) | 
bool | [pot](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pot) | 
bool | [bombbag](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombbag) | 
bool | [bombbox](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombbox) | 
bool | [ropepile](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropepile) | 
bool | [pickup_12bag](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pickup_12bag) | 
bool | [pickup_24bag](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pickup_24bag) | 
bool | [cooked_turkey](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cooked_turkey) | 
bool | [royal_jelly](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=royal_jelly) | 
bool | [torch](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=torch) | 
bool | [boomerang](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=boomerang) | 
bool | [machete](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=machete) | 
bool | [mattock](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mattock) | 
bool | [crossbow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crossbow) | 
bool | [webgun](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=webgun) | 
bool | [freezeray](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=freezeray) | 
bool | [shotgun](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shotgun) | 
bool | [camera](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=camera) | 
bool | [plasma_cannon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=plasma_cannon) | 
bool | [wooden_shield](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wooden_shield) | 
bool | [metal_shield](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=metal_shield) | 
bool | [teleporter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=teleporter) | 
bool | [mine](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mine) | 
bool | [snaptrap](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=snaptrap) | 
bool | [paste](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=paste) | 
bool | [climbing_gloves](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=climbing_gloves) | 
bool | [pitchers_mitt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pitchers_mitt) | 
bool | [spike_shoes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spike_shoes) | 
bool | [spring_shoes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spring_shoes) | 
bool | [parachute](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=parachute) | 
bool | [cape](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cape) | 
bool | [vlads_cape](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vlads_cape) | 
bool | [jetpack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jetpack) | 
bool | [hoverpack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hoverpack) | 
bool | [telepack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=telepack) | 
bool | [powerpack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=powerpack) | 
bool | [excalibur](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=excalibur) | 
bool | [scepter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scepter) | 
bool | [kapala](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala) | 
bool | [true_crown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=true_crown) | 

### ArenaState

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
int | [current_arena](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=current_arena) | 
array&lt;int, 4&gt; | [player_teams](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_teams) | 
int | [format](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=format) | 
int | [ruleset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ruleset) | 
array&lt;int, 4&gt; | [player_lives](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_lives) | 
array&lt;int, 4&gt; | [player_totalwins](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_totalwins) | 
array&lt;bool, 4&gt; | [player_won](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_won) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | The menu selection for timer, default values 0..20 where 0 == 30 seconds, 19 == 10 minutes and 20 == infinite. Can go higher, although this will glitch the menu text. Actual time (seconds) = (state.arena.timer + 1) x 30
int | [timer_ending](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer_ending) | 
int | [wins](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wins) | 
int | [lives](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lives) | 
int | [time_to_win](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_to_win) | 
array&lt;int, 4&gt; | [player_idolheld_countdown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_idolheld_countdown) | 
int | [health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=health) | 
int | [bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs) | 
int | [ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropes) | 
int | [stun_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stun_time) | 
int | [mount](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mount) | 
int | [arena_select](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena_select) | 
[ArenaConfigArenas](#ArenaConfigArenas) | [arenas](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arenas) | 
int | [dark_level_chance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dark_level_chance) | 
int | [crate_frequency](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crate_frequency) | 
[ArenaConfigItems](#ArenaConfigItems) | [items_enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=items_enabled) | 
[ArenaConfigItems](#ArenaConfigItems) | [items_in_crate](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=items_in_crate) | 
int | [held_item](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=held_item) | 
int | [equipped_backitem](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=equipped_backitem) | 
[ArenaConfigEquippedItems](#ArenaConfigEquippedItems) | [equipped_items](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=equipped_items) | 
int | [whip_damage](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=whip_damage) | 
bool | [final_ghost](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=final_ghost) | 
int | [breath_cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=breath_cooldown) | 
bool | [punish_ball](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=punish_ball) | 

### LogicArena1

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [crate_spawn_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crate_spawn_timer) | 

### LogicArenaAlienBlast

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### LogicArenaLooseBombs

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

## Callback context types


### GuiDrawContext


```lua
-- Draw the level boundaries
set_callback(function(draw_ctx)
    local xmin, ymax, xmax, ymin = get_bounds()
    local sx, sy = screen_position(xmin, ymax) -- top left
    local sx2, sy2 = screen_position(xmax, ymin) -- bottom right
    draw_ctx:draw_rect(sx, sy, sx2, sy2, 4, 0, rgba(255, 255, 255, 255))
end, ON.GUIFRAME)

```

Used in [register_option_callback](#register_option_callback) and [set_callback](#set_callback) with [ON](#ON).GUIFRAME

Type | Name | Description
---- | ---- | -----------
nil | [draw_line(float x1, float y1, float x2, float y2, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_line) | Draws a line on screen
nil | [draw_rect(float left, float top, float right, float bottom, float thickness, float rounding, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_rect) | Draws a rectangle on screen from top-left to bottom-right.
nil | [draw_rect(AABB rect, float thickness, float rounding, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_rect) | Draws a rectangle on screen from top-left to bottom-right.
nil | [draw_rect_filled(float left, float top, float right, float bottom, float rounding, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_rect_filled) | Draws a filled rectangle on screen from top-left to bottom-right.
nil | [draw_rect_filled(AABB rect, float rounding, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_rect_filled) | Draws a filled rectangle on screen from top-left to bottom-right.
nil | [draw_triangle(Vec2 p1, Vec2 p2, Vec2 p3, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_triangle) | Draws a triangle on screen.
nil | [draw_triangle_filled(Vec2 p1, Vec2 p2, Vec2 p3, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_triangle_filled) | Draws a filled triangle on screen.
nil | [draw_poly(array<Vec2> points, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_poly) | Draws a polyline on screen.
nil | [draw_poly_filled(array<Vec2> points, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_poly_filled) | Draws a filled convex polyline on screen.
nil | [draw_bezier_cubic(Vec2 p1, Vec2 p2, Vec2 p3, Vec2 p4, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_bezier_cubic) | Draws a cubic bezier curve on screen.
nil | [draw_bezier_quadratic(Vec2 p1, Vec2 p2, Vec2 p3, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_bezier_quadratic) | Draws a quadratic bezier curve on screen.
nil | [draw_circle(float x, float y, float radius, float thickness, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_circle) | Draws a circle on screen
nil | [draw_circle_filled(float x, float y, float radius, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_circle_filled) | Draws a filled circle on screen
nil | [draw_text(float x, float y, float size, string text, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_text) | Draws text in screen coordinates `x`, `y`, anchored top-left. Text size 0 uses the default 18.
nil | [draw_image(IMAGE image, float left, float top, float right, float bottom, float uvx1, float uvy1, float uvx2, float uvy2, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_image) | Draws an image on screen from top-left to bottom-right. Use UV coordinates `0, 0, 1, 1` to just draw the whole image.
nil | [draw_image(IMAGE image, AABB rect, AABB uv_rect, uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_image) | Draws an image on screen from top-left to bottom-right. Use UV coordinates `0, 0, 1, 1` to just draw the whole image.
nil | [draw_image_rotated(IMAGE image, float left, float top, float right, float bottom, float uvx1, float uvy1, float uvx2, float uvy2, uColor color, float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_image_rotated) | Same as `draw_image` but rotates the image by angle in radians around the pivot offset from the center of the rect (meaning `px=py=0` rotates around the center)
nil | [draw_image_rotated(IMAGE image, AABB rect, AABB uv_rect, uColor color, float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_image_rotated) | Same as `draw_image` but rotates the image by angle in radians around the pivot offset from the center of the rect (meaning `px=py=0` rotates around the center)
nil | [draw_layer(DRAW_LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_layer) | Draw on top of UI windows, including platform windows that may be outside the game area, or only in current widget window. Defaults to main viewport background.
bool | [window(string title, float x, float y, float w, float h, bool movable, function callback)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=window) | Create a new widget window. Put all win_ widgets inside the callback function. The window functions are just wrappers for the<br/>[ImGui](https://github.com/ocornut/imgui/) widgets, so read more about them there. Use screen position and distance, or `0, 0, 0, 0` to<br/>autosize in center. Use just a `##Label` as title to hide titlebar.<br/>**Important: Keep all your labels unique!** If you need inputs with the same label, add `##SomeUniqueLabel` after the text, or use pushid to<br/>give things unique ids. ImGui doesn't know what you clicked if all your buttons have the same text...<br/>Returns false if the window was closed from the X.<br/><br/>The callback signature is nil win(GuiDrawContext ctx, Vec2 pos, Vec2 size)
nil | [win_text(string text)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_text) | Add some text to window, automatically wrapped
nil | [win_separator()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_separator) | Add a separator line to window
nil | [win_separator_text(string text)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_separator_text) | Add a separator text line to window
nil | [win_inline()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_inline) | Add next thing on the same line. This is same as `win_sameline(0, -1)`
nil | [win_sameline(float offset, float spacing)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_sameline) | Add next thing on the same line, with an offset
bool | [win_button(string text)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_button) | Add a button
string | [win_input_text(string label, string value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_input_text) | Add a text field
int | [win_input_int(string label, int value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_input_int) | Add an integer field
float | [win_input_float(string label, float value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_input_float) | Add a float field
int | [win_slider_int(string label, int value, int min, int max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_slider_int) | Add an integer slider
int | [win_drag_int(string label, int value, int min, int max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_drag_int) | Add an integer dragfield
float | [win_slider_float(string label, float value, float min, float max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_slider_float) | Add an float slider
float | [win_drag_float(string label, float value, float min, float max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_drag_float) | Add an float dragfield
bool | [win_check(string label, bool value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_check) | Add a checkbox
int | [win_combo(string label, int selected, string opts)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_combo) | Add a combo box
nil | [win_pushid(int id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_pushid) | Add unique identifier to the stack, to distinguish identical inputs from each other. Put before the input.
nil | [win_pushid(string id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_pushid) | Add unique identifier to the stack, to distinguish identical inputs from each other. Put before the input.
nil | [win_popid()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_popid) | Pop unique identifier from the stack. Put after the input.
nil | [win_image(IMAGE image, float width, float height)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_image) | Draw image to window.
bool | [win_imagebutton(string label, IMAGE image, float width, float height, float uvx1, float uvy1, float uvx2, float uvy2)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_imagebutton) | Draw imagebutton to window.
nil | [win_section(string title, function callback)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_section) | Add a collapsing accordion section, put contents in the callback function.
nil | [win_indent(float width)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_indent) | Indent contents, or unindent if negative
nil | [win_width(float width)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_width) | Sets next item width (width>1: width in pixels, width<0: to the right of window, -1<width<1: fractional, multiply by available window width)
int | [key_picker(string message, KEY_TYPE flags)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=key_picker) | Returns [KEY](#KEY) flags including held OL_MOD modifiers, or -1 before any key has been pressed and released, or mouse button pressed. Also returns -1 before all initially held keys are released before the picker was opened, or if another key picker is already waiting for keys. If a modifier is released, that modifier is returned as an actual keycode (e.g. `KEY.LSHIFT`) while the other held modifiers are returned as `KEY.OL_MOD_...` flags.<br/>Shows a fullscreen key picker with a message, with the accepted input type (keyboard/mouse) filtered by flags. The picker won't show before all previously held keys have been released and other key pickers have returned a valid key.

### LoadContext

Context received in [ON](#ON).LOAD
Used to load from save_{}.dat into a string

Type | Name | Description
---- | ---- | -----------
string | [load()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=load) | 

### PostRoomGenerationContext

Context received in [ON](#ON).POST_ROOM_GENERATION.
Used to change the room templates in the level and other shenanigans that affect level gen.

Type | Name | Description
---- | ---- | -----------
bool | [set_room_template(int x, int y, LAYER layer, ROOM_TEMPLATE room_template)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_room_template) | Set the room template at the given index and layer, returns `false` if the index is outside of the level.
bool | [mark_as_machine_room_origin(int x, int y, LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mark_as_machine_room_origin) | Marks the room as the origin of a machine room, should be the top-left corner of the machine room<br/>Run this after setting the room template for the room, otherwise the machine room will not spawn correctly
bool | [mark_as_set_room(int x, int y, LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mark_as_set_room) | Marks the room as a set-room, a corresponding `setroomy-x` template must be loaded, else the game will crash
bool | [unmark_as_set_room(int x, int y, LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unmark_as_set_room) | Unmarks the room as a set-room
bool | [set_shop_type(int x, int y, LAYER layer, int shop_type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_shop_type) | Set the shop type for a specific room, does nothing if the room is not a shop
bool | [set_procedural_spawn_chance(PROCEDURAL_CHANCE chance_id, int inverse_chance)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_procedural_spawn_chance) | Force a spawn chance for this level, has the same restrictions as specifying the spawn chance in the .lvl file.<br/>Note that the actual chance to spawn is `1/inverse_chance` and that is also slightly skewed because of technical reasons.<br/>Returns `false` if the given chance is not defined.
nil | [set_num_extra_spawns(int extra_spawn_id, int num_spawns_front_layer, int num_spawns_back_layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_num_extra_spawns) | Change the amount of extra spawns for the given `extra_spawn_id`.
optional&lt;[SHORT_TILE_CODE](#Aliases)&gt; | [define_short_tile_code(ShortTileCodeDef short_tile_code_def)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=define_short_tile_code) | Defines a new short tile code, automatically picks an unused character or returns a used one in case of an exact match<br/>Returns `nil` if all possible short tile codes are already in use
nil | [change_short_tile_code(SHORT_TILE_CODE short_tile_code, ShortTileCodeDef short_tile_code_def)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=change_short_tile_code) | Overrides a specific short tile code, this means it will change for the whole level

### PreHandleRoomTilesContext

Context received in [ON](#ON).PRE_HANDLE_ROOM_TILES.
Used to change the room data as well as add a backlayer room if none is set yet.

Type | Name | Description
---- | ---- | -----------
optional&lt;[SHORT_TILE_CODE](#Aliases)&gt; | [get_short_tile_code(int tx, int ty, LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_short_tile_code) | Gets the tile code at the specified tile coordinate<br/>Valid coordinates are `0 <= tx < CONST.ROOM_WIDTH`, `0 <= ty < CONST.ROOM_HEIGHT` and `layer` in `{LAYER.FRONT, LAYER.BACK}`<br/>Also returns `nil` if `layer == LAYER.BACK` and the room does not have a back layer
bool | [set_short_tile_code(int tx, int ty, LAYER layer, SHORT_TILE_CODE short_tile_code)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_short_tile_code) | Sets the tile code at the specified tile coordinate<br/>Valid coordinates are `0 <= tx < CONST.ROOM_WIDTH`, `0 <= ty < CONST.ROOM_HEIGHT` and `layer` in `{LAYER.FRONT, LAYER.BACK, LAYER.BOTH}`<br/>Also returns `false` if `layer == LAYER.BACK` and the room does not have a back layer
vector&lt;tuple&lt;int, int, [LAYER](#LAYER)&gt;&gt; | [find_all_short_tile_codes(LAYER layer, SHORT_TILE_CODE short_tile_code)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=find_all_short_tile_codes) | Finds all places a short tile code is used in the room, `layer` must be in `{LAYER.FRONT, LAYER.BACK, LAYER.BOTH}`<br/>Returns an empty list if `layer == LAYER.BACK` and the room does not have a back layer
bool | [replace_short_tile_code(LAYER layer, SHORT_TILE_CODE short_tile_code, SHORT_TILE_CODE replacement_short_tile_code)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=replace_short_tile_code) | Replaces all instances of `short_tile_code` in the given layer with `replacement_short_tile_code`, `layer` must be in `{LAYER.FRONT, LAYER.BACK, LAYER.BOTH}`<br/>Returns `false` if `layer == LAYER.BACK` and the room does not have a back layer
bool | [has_back_layer()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=has_back_layer) | Check whether the room has a back layer
nil | [add_empty_back_layer()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_empty_back_layer) | Add a back layer filled with all `0` if there is no back layer yet<br/>Does nothing if there already is a backlayer
nil | [add_copied_back_layer()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_copied_back_layer) | Add a back layer that is a copy of the front layer<br/>Does nothing if there already is a backlayer

### PreLoadLevelFilesContext

Context received in [ON](#ON).PRE_LOAD_LEVEL_FILES, used for forcing specific `.lvl` files to load.

Type | Name | Description
---- | ---- | -----------
nil | [override_level_files(array<string> levels)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=override_level_files) | Block all loading `.lvl` files and instead load the specified `.lvl` files. This includes `generic.lvl` so if you need it specify it here.<br/>All `.lvl` files are loaded relative to `Data/Levels`, but they can be completely custom `.lvl` files that ship with your mod so long as they are in said folder.<br/>Use at your own risk, some themes/levels expect a certain level file to be loaded.
nil | [add_level_files(array<string> levels)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_level_files) | Load additional levels files other than the ones that would usually be loaded. Stacks with `override_level_files` if that was called first.<br/>All `.lvl` files are loaded relative to `Data/Levels`, but they can be completely custom `.lvl` files that ship with your mod so long as they are in said folder.

### SaveContext

Context received in [ON](#ON).SAVE
Used to save a string to some form of save_{}.dat
Future calls to this will override the save

Type | Name | Description
---- | ---- | -----------
bool | [save(string data)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=save) | 

### VanillaRenderContext

Used in [set_callback](#set_callback) [ON](#ON).RENDER_* callbacks, [set_post_render](#set_post_render), [set_post_render_screen](#set_post_render_screen), [set_pre_render](#set_pre_render), [set_pre_render_screen](#set_pre_render_screen)

Type | Name | Description
---- | ---- | -----------
nil | [draw_text(string text, float x, float y, float scale_x, float scale_y, Color color, VANILLA_TEXT_ALIGNMENT alignment, VANILLA_FONT_STYLE fontstyle)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_text) | Draw text using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_✱ events. See vanilla_rendering.lua in the example scripts.
nil | [draw_text(TextRenderingInfo tri, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_text) | 
tuple&lt;float, float&gt; | [draw_text_size(string text, float scale_x, float scale_y, int fontstyle)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_text_size) | Measure the provided text using the built-in renderer<br/>If you can, consider creating your own [TextRenderingInfo](#TextRenderingInfo) instead<br/>You can then use `:text_size()` and `draw_text` with that one object<br/>`draw_text_size` works by creating new TextRenderingInfo just to call `:text_size()`, which is not very optimal
nil | [draw_screen_texture(TEXTURE texture_id, int row, int column, float left, float top, float right, float bottom, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, int row, int column, AABB rect, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, int row, int column, AABB rect, Color color, float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer with angle, px/py is pivot for the rotation where 0,0 is center 1,1 is top right corner etc.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, int row, int column, Quad dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, Quad source, Quad dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates from top-left to bottom-right using the built-in renderer. `source` - the coordinates in the texture, `dest` - the coordinates on the screen<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_texture(TEXTURE texture_id, TextureRenderingInfo tri, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_texture) | Draw a texture in screen coordinates using [TextureRenderingInfo](#TextureRenderingInfo)<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [set_corner_finish(CORNER_FINISH c)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_corner_finish) | Set the preferred way of drawing corners for the non filled shapes
nil | [draw_screen_line(Vec2 A, Vec2 B, float thickness, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_line) | Draws a line on screen using the built-in renderer from point `A` to point `B`.<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_rect(AABB rect, float thickness, Color color, optional<float> angle, optional<float> px, optional<float> py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_rect) | Draw rectangle in screen coordinates from top-left to bottom-right using the built-in renderer with optional `angle`.<br/>`px`/`py` is pivot for the rotation where 0,0 is center 1,1 is top right corner etc. (corner from the AABB, not the visible one from adding the `thickness`)<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_rect_filled(AABB rect, Color color, optional<float> angle, optional<float> px, optional<float> py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_rect_filled) | Draw filled rectangle in screen coordinates from top-left to bottom-right using the built-in renderer with optional `angle`.<br/>`px`/`py` is pivot for the rotation where 0,0 is center 1,1 is top right corner etc.<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_triangle(Triangle triangle, float thickness, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_triangle) | Draw triangle in screen coordinates using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_triangle_filled(Triangle triangle, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_triangle_filled) | Draw filled triangle in screen coordinates using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_poly(array<Vec2> points, float thickness, Color color, bool closed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_poly) | Draw a polyline on screen from points using the built-in renderer<br/>Draws from the first to the last point, use `closed` to connect first and last as well<br/>Use in combination with ON.RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_poly(Quad points, float thickness, Color color, bool closed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_poly) | Draw quadrilateral in screen coordinates from top-left to bottom-right using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_poly_filled(array<Vec2> points, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_poly_filled) | Draw a convex polygon on screen from points using the built-in renderer<br/>Can probably draw almost any polygon, but the convex one is guaranteed to look correct<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_screen_poly_filled(Quad points, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_screen_poly_filled) | Draw filled quadrilateral in screen coordinates from top-left to bottom-right using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_✱_HUD/PAUSE_MENU/JOURNAL_PAGE events
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, float left, float top, float right, float bottom, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event<br/>For more control use the version taking a [Quad](#Quad) instead
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, AABB dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event<br/>For more control use the version taking a [Quad](#Quad) instead
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, AABB dest, Color color, float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer with angle, px/py is pivot for the rotation where 0,0 is center 1,1 is top right corner etc.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event<br/>For more control use the version taking a [Quad](#Quad) instead
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, Quad dest, Color color, WORLD_SHADER shader)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer<br/>The `shader` parameter controls how to render the texture<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_texture(TEXTURE texture_id, int row, int column, Quad dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_texture(TEXTURE texture_id, Quad source, Quad dest, Color color, WORLD_SHADER shader)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer.  `source` - the coordinates in the texture, `dest` - the coordinates on the screen<br/>The `shader` parameter controls how to render the texture<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_texture(TEXTURE texture_id, Quad source, Quad dest, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_texture) | Draw a texture in world coordinates from top-left to bottom-right using the built-in renderer.  `source` - the coordinates in the texture, `dest` - the coordinates on the screen<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_line(Vec2 A, Vec2 B, float thickness, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_line) | Draws a line in world coordinates using the built-in renderer from point `A` to point `B`.<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_rect(AABB rect, float thickness, Color color, optional<float> angle, optional<float> px, optional<float> py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_rect) | Draw rectangle in world coordinates from top-left to bottom-right using the built-in renderer with optional `angle`.<br/>`px`/`py` is pivot for the rotation where 0,0 is center 1,1 is top right corner etc. (corner from the AABB, not the visible one from adding the `thickness`)<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_rect_filled(AABB rect, Color color, optional<float> angle, optional<float> px, optional<float> py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_rect_filled) | Draw rectangle in world coordinates from top-left to bottom-right using the built-in renderer with optional `angle`.<br/>`px`/`py` is pivot for the rotation where 0,0 is center 1,1 is top right corner etc.<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_triangle(Triangle triangle, float thickness, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_triangle) | Draw triangle in world coordinates using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_triangle_filled(Triangle triangle, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_triangle_filled) | Draw filled triangle in world coordinates using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_poly(array<Vec2> points, float thickness, Color color, bool closed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_poly) | Draw a polyline in world coordinates from points using the built-in renderer<br/>Draws from the first to the last point, use `closed` to connect first and last as well<br/>Use in combination with ON.RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_poly(Quad points, float thickness, Color color, bool closed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_poly) | Draw quadrilateral in world coordinates from top-left to bottom-right using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_poly_filled(array<Vec2> points, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_poly_filled) | Draw a convex polygon in world coordinates from points using the built-in renderer<br/>Can probably draw almost any polygon, but the convex one is guaranteed to look correct<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
nil | [draw_world_poly_filled(Quad points, Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_world_poly_filled) | Draw filled quadrilateral in world coordinates from top-left to bottom-right using the built-in renderer.<br/>Use in combination with [ON](#ON).RENDER_PRE_DRAW_DEPTH event
[AABB](#AABB) | [bounding_box](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bounding_box) | 
 | [render_draw_depth](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=render_draw_depth) | 

## Entity related types


### Ai

Used in [Player](#Player)

Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [target](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target) | 
int | [target_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_uid) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | AI state (patrol, sleep, attack, aggro...)
int | [last_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_state) | 
int | [trust](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trust) | Levels completed with, 0..3
int | [whipped](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=whipped) | Number of times whipped by player
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | positive: walking, negative: waiting/idle

### Animation

Used in [EntityDB](#EntityDB)

Type | Name | Description
---- | ---- | -----------
int | [id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=id) | 
int | [first_tile](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=first_tile) | 
int | [num_tiles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=num_tiles) | 
int | [interval](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=interval) | 
[REPEAT_TYPE](#REPEAT_TYPE) | [repeat_mode](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=repeat_mode) | 

### EntityDB


> When cloning an entity type, remember to save it in the script for as long as you need it. Otherwise the memory will be freed immediately, which eventually leads to a crash when used or overwritten by other stuff:

```lua
-- Create a special fast snake type with weird animation
special_snake = EntityDB:new(ENT_TYPE.MONS_SNAKE)
special_snake.max_speed = 1
special_snake.acceleration = 2
special_snake.animations[2].num_tiles = 1

set_post_entity_spawn(function(snake)
    -- 50% chance to make snakes special
    if prng:random_chance(2, PRNG_CLASS.PROCEDURAL_SPAWNS) then
        -- Assign custom type
        snake.type = special_snake
        -- This is only really needed if types are changed during the level
        snake.current_animation = special_snake.animations[2]
    end
end, SPAWN_TYPE.ANY, MASK.MONSTER, ENT_TYPE.MONS_SNAKE)
```

> You can also use Entity.user_data to store the custom type:

```lua
-- Custom player who is buffed a bit every level
set_callback(function()
    -- Doing this to include HH
    for i,v in ipairs(get_entities_by_mask(MASK.PLAYER)) do
        local player = get_entity(v)

        -- Create new custom type on the first level, based on the original type
        if not player.user_data then
            player.user_data = {}
            player.user_data.type = EntityDB:new(player.type.id)
        end

        -- Set the player entity type to the custom type every level
        player.type = player.user_data.type

        -- Buff the player every subsequent level
        if state.level_count > 0 then
            player.type.max_speed = player.type.max_speed * 1.1
            player.type.acceleration = player.type.acceleration * 1.1
            player.type.jump = player.type.jump * 1.1
        end
    end
end, ON.POST_LEVEL_GENERATION)
```

> Illegal bad example, don't do this:

```lua
set_callback(function()
    -- Nobody owns the new type and the memory is freed immediately, eventually leading to a crash
    players[1].type = EntityDB:new(players[1].type)
    players[1].type.max_speed = 2
end, ON.POST_LEVEL_GENERATION)
```


Used in [Entity](#Entity) and [get_type](#get_type)<br/>
Stores static common data for an [ENT_TYPE](#ENT_TYPE). You can also clone entity types with the copy constructor to create new custom entities with different common properties. [This tool](https://dregu.github.io/Spelunky2ls/animation.html) can be helpful when messing with the animations. The default values are also listed in [entities.json](https://github.com/spelunky-fyi/overlunky/blob/main/docs/game_data/entities.json).

Type | Name | Description
---- | ---- | -----------
[EntityDB](#EntityDB) | [new(EntityDB other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=EntityDB) | 
[EntityDB](#EntityDB) | [new(ENT_TYPE other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=EntityDB) | 
[ENT_TYPE](#ENT_TYPE) | [id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=id) | 
[MASK](#MASK) | [search_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=search_flags) | [MASK](#MASK)
float | [width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=width) | 
float | [height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=height) | 
int | [draw_depth](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_depth) | 
float | [offsetx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offsetx) | Offset of the hitbox in relation to the entity position
float | [offsety](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offsety) | Offset of the hitbox in relation to the entity position
float | [hitboxx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hitboxx) | Half of the width of the hitbox
float | [hitboxy](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hitboxy) | Half of the height of the hitbox
[SHAPE](#SHAPE) | [default_shape](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default_shape) | 
bool | [default_hitbox_enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default_hitbox_enabled) | 
int | [collision2_mask](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collision2_mask) | [MASK](#MASK), will only call collision2 when colliding with entities that match this mask.
int | [collision_mask](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collision_mask) | [MASK](#MASK) used for collision with floors, walls etc.
int | [default_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default_flags) | 
int | [default_more_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default_more_flags) | 
int | [properties_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=properties_flags) | 
float | [friction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=friction) | 
float | [elasticity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elasticity) | 
float | [weight](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=weight) | 
float | [acceleration](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=acceleration) | 
float | [max_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=max_speed) | 
float | [sprint_factor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sprint_factor) | 
float | [jump](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump) | 
[Color](#Color) | [default_color](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default_color) | 
[TEXTURE](#TEXTURE) | [texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture) | 
int | [tilex](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tilex) | 
int | [tiley](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tiley) | 
int | [damage](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=damage) | 
int | [life](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=life) | 
int | [sacrifice_value](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sacrifice_value) | Favor for sacrificing alive. Halved when dead (health == 0).
int | [blood_content](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blood_content) | 
bool | [leaves_corpse_behind](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=leaves_corpse_behind) | 
[STRINGID](#Aliases) | [description](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=description) | 
[SOUNDID](#Aliases) | [sound_killed_by_player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound_killed_by_player) | 
[SOUNDID](#Aliases) | [sound_killed_by_other](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound_killed_by_other) | 
map&lt;int, [Animation](#Animation)&gt; | [animations](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animations) | 
float | [default_special_offsetx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default_special_offsetx) | 
float | [default_special_offsety](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default_special_offsety) | 

### HudInventory


Type | Name | Description
---- | ---- | -----------
bool | [enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enabled) | 
int | [health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=health) | 
int | [bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs) | 
int | [ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropes) | 
bool | [ankh](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ankh) | 
bool | [kapala](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala) | 
[SpritePosition](#SpritePosition) | [kapala_sprite](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala_sprite) | 
bool | [poison](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=poison) | 
bool | [curse](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=curse) | 
bool | [elixir](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elixir) | 
[ENT_TYPE](#ENT_TYPE) | [crown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crown) | [Powerup](#Powerup) type or 0
array&lt;[SpritePosition](#SpritePosition), 18&gt; | [powerup_sprites](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=powerup_sprites) | 
int | [item_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_count) | Amount of generic pickup items at the bottom. Set to 0 to not draw them.

### Inventory

Used in [Player](#Player), [PlayerGhost](#PlayerGhost) and [Items](#Items)

Type | Name | Description
---- | ---- | -----------
int | [money](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money) | Sum of the money collected in current level
int | [bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs) | 
int | [ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropes) | 
int | [player_slot](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot) | 
int | [poison_tick_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=poison_tick_timer) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
bool | [cursed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cursed) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
bool | [elixir_buff](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elixir_buff) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=health) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [kapala_blood_amount](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala_blood_amount) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [time_of_death](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_of_death) | Is set to state.time_total when player dies in coop (to determinate who should be first to re-spawn from coffin)
[ENT_TYPE](#ENT_TYPE) | [held_item](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=held_item) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [held_item_metadata](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=held_item_metadata) | Metadata of the held item (health, is cursed etc.)<br/>Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [saved_pets_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=saved_pets_count) | 
[ENT_TYPE](#ENT_TYPE) | [mount_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mount_type) | Used to transfer information to transition/next level (player riding a mount). Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [mount_metadata](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mount_metadata) | Metadata of the mount (health, is cursed etc.)<br/>Used to transfer information to transition/next level (player riding a mount). Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
int | [kills_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kills_level) | 
int | [kills_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kills_total) | 
int | [collected_money_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collected_money_total) | Total money collected during previous levels (so excluding the current one)
int | [collected_money_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collected_money_count) | Count/size for the `collected_money` arrays
array&lt;[ENT_TYPE](#ENT_TYPE), 512&gt; | [collected_money](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collected_money) | Types of gold/gems collected during this level, used later to display during the transition
array&lt;int, 512&gt; | [collected_money_values](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collected_money_values) | Values of gold/gems collected during this level, used later to display during the transition
array&lt;[ENT_TYPE](#ENT_TYPE), 256&gt; | [killed_enemies](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=killed_enemies) | Types of enemies killed during this level, used later to display during the transition
int | [companion_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_count) | Number of companions, it will determinate how many companions will be transferred to next level<br/>Increments when player acquires new companion, decrements when one of them dies
array&lt;[ENT_TYPE](#ENT_TYPE), 8&gt; | [companions](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companions) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;[ENT_TYPE](#ENT_TYPE), 8&gt; | [companion_held_items](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_held_items) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;int, 8&gt; | [companion_held_item_metadatas](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_held_item_metadatas) | Metadata of items held by companions (health, is cursed etc.)<br/>Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;int, 8&gt; | [companion_trust](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_trust) | (0..3) Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;int, 8&gt; | [companion_health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_health) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;int, 8&gt; | [companion_poison_tick_timers](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=companion_poison_tick_timers) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;bool, 8&gt; | [is_companion_cursed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_companion_cursed) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this
array&lt;[ENT_TYPE](#ENT_TYPE), 30&gt; | [acquired_powerups](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=acquired_powerups) | Used to transfer information to transition/next level. Is not updated during a level<br/>You can use `ON.PRE_LEVEL_GENERATION` to access/edit this

## Generic types


### AABB

Axis-Aligned-Bounding-Box, represents for example a hitbox of an entity or the size of a gui element

Type | Name | Description
---- | ---- | -----------
[AABB](#AABB) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=AABB) | Create a new axis aligned bounding box - defaults to all zeroes
[AABB](#AABB) | [new(AABB other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=AABB) | Copy an axis aligned bounding box
[AABB](#AABB) | [new(Vec2 top_left, Vec2 bottom_right)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=AABB) | 
[AABB](#AABB) | [new(float left_, float top_, float right_, float bottom_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=AABB) | Create a new axis aligned bounding box by specifying its values
float | [left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left) | 
float | [bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom) | 
float | [right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right) | 
float | [top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top) | 
bool | [overlaps_with(AABB other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=overlaps_with) | 
[AABB](#AABB) | [abs()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=abs) | Fixes the [AABB](#AABB) if any of the sides have negative length
[AABB](#AABB) | [extrude(float amount)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=extrude) | Grows or shrinks the [AABB](#AABB) by the given amount in all directions.<br/>If `amount < 0` and `abs(amount) > right/top - left/bottom` the respective dimension of the AABB will become `0`.
[AABB](#AABB) | [extrude(float amount_x, float amount_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=extrude) | Grows or shrinks the [AABB](#AABB) by the given amount in each direction.<br/>If `amount_x/y < 0` and `abs(amount_x/y) > right/top - left/bottom` the respective dimension of the AABB will become `0`.
[AABB](#AABB) | [offset(float off_x, float off_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset) | Offsets the [AABB](#AABB) by the given offset.
float | [area()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=area) | Compute area of the [AABB](#AABB), can be zero if one dimension is zero or negative if one dimension is inverted.
tuple&lt;float, float&gt; | [center()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=center) | Short for `(aabb.left + aabb.right) / 2.0f, (aabb.top + aabb.bottom) / 2.0f`.
float | [width()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=width) | Short for `aabb.right - aabb.left`.
float | [height()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=height) | Short for `aabb.top - aabb.bottom`.
bool | [is_point_inside(Vec2 p)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | Checks if point lies between left/right and top/bottom
bool | [is_point_inside(float x, float y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | 
[AABB](#AABB) | [set(AABB other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set) | 
tuple&lt;float, float, float, float&gt; | [split()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=split) | 

### BackgroundMusic

Used in [GameManager](#GameManager)

Type | Name | Description
---- | ---- | -----------
[BackgroundSound](#BackgroundSound) | [game_startup](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=game_startup) | 
[BackgroundSound](#BackgroundSound) | [main_backgroundtrack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_backgroundtrack) | 
[BackgroundSound](#BackgroundSound) | [basecamp](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=basecamp) | 
[BackgroundSound](#BackgroundSound) | [win_scene](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_scene) | 
[BackgroundSound](#BackgroundSound) | [arena](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena) | 
[BackgroundSound](#BackgroundSound) | [arena_intro_and_win](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena_intro_and_win) | 
[BackgroundSound](#BackgroundSound) | [level_gameplay](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_gameplay) | 
[BackgroundSound](#BackgroundSound) | [dark_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dark_level) | 
[BackgroundSound](#BackgroundSound) | [level_transition](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_transition) | 
[BackgroundSound](#BackgroundSound) | [backlayer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=backlayer) | 
[BackgroundSound](#BackgroundSound) | [shop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shop) | 
[BackgroundSound](#BackgroundSound) | [angered_shopkeeper](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=angered_shopkeeper) | 
[BackgroundSound](#BackgroundSound) | [inside_sunken_city_pipe](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inside_sunken_city_pipe) | 
[BackgroundSound](#BackgroundSound) | [pause_menu](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause_menu) | 
[BackgroundSound](#BackgroundSound) | [death_transition](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=death_transition) | 

### Bucket

Shared memory structure used for Playlunky-[Overlunky](#Overlunky) interoperability

Type | Name | Description
---- | ---- | -----------
map&lt;string, any&gt; | [data](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=data) | You can store arbitrary simple values here in Playlunky to be read in on [Overlunky](#Overlunky) script for example.
[Overlunky](#Overlunky) | [overlunky](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=overlunky) | Access [Overlunky](#Overlunky) options here, nil if [Overlunky](#Overlunky) is not loaded.
[PauseAPI](#PauseAPI) | [pause](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause) | [PauseAPI](#PauseAPI) is used by [Overlunky](#Overlunky) and can be used to control the [Overlunky](#Overlunky) pause options from scripts. Can be accessed from the global `pause` more easily.
[SharedIO](#SharedIO) | [io](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=io) | Shared part of [ImGuiIO](#ImGuiIO) to block keyboard/mouse input across API instances.
int | [count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=count) | Number of API instances present
map&lt;[STRINGID](#Aliases), string&gt; | [custom_strings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=custom_strings) | Holds all the custom strings added thru [add_string](#add_string), read only 

### Color


```lua
-- make a semi transparent red color and print it in different formats
local color = Color:red()
color.a = 0.5
local r, g, b, a = color:get_rgba()
prinspect(r, g, b, a) -- 255, 0, 0, 128
prinspect(color.r, color.g, color.b, color.a) -- 1.0, 0.0, 0.0, 0.5
prinspect(string.format("%x"), color:get_ucolor()) -- 800000ff

```


Type | Name | Description
---- | ---- | -----------
[Color](#Color) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Color) | Create a new color - defaults to black
[Color](#Color) | [new(Color other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Color) | 
[Color](#Color) | [new(Color color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Color) | 
[Color](#Color) | [new(float r_, float g_, float b_, float a_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Color) | Create a new color by specifying its values
[Color](#Color) | [new(float (c)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Color) | Create a color from an array of 4 floats
[Color](#Color) | [new(string color_name, optional<int> alpha = nullopt)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Color) | 
float | [r](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=r) | 
float | [g](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=g) | 
float | [b](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=b) | 
float | [a](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=a) | 
[Color](#Color) | [white()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=white) | 
[Color](#Color) | [silver()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=silver) | 
[Color](#Color) | [gray()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gray) | 
[Color](#Color) | [black()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=black) | 
[Color](#Color) | [red()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=red) | 
[Color](#Color) | [maroon()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=maroon) | 
[Color](#Color) | [yellow()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=yellow) | 
[Color](#Color) | [olive()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=olive) | 
[Color](#Color) | [lime()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lime) | 
[Color](#Color) | [green()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=green) | 
[Color](#Color) | [aqua()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=aqua) | 
[Color](#Color) | [teal()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=teal) | 
[Color](#Color) | [blue()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blue) | 
[Color](#Color) | [navy()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=navy) | 
[Color](#Color) | [fuchsia()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fuchsia) | 
[Color](#Color) | [purple()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=purple) | 
tuple&lt;int, int, int, int&gt; | [get_rgba()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_rgba) | Returns RGBA colors in 0..255 range
[Color](#Color) | [set_rgba(int red, int green, int blue, int alpha)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_rgba) | Changes color based on given RGBA colors in 0..255 range
[uColor](#Aliases) | [get_ucolor()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_ucolor) | Returns the `uColor` used in `GuiDrawContext` drawing functions
[Color](#Color) | [set_ucolor(uColor color)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_ucolor) | Changes color based on given [uColor](#Aliases)
[Color](#Color) | [set(Color other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set) | Copies the values of different [Color](#Color) to this one

### ControllerButton


Type | Name | Description
---- | ---- | -----------
bool | [down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=down) | [Button](#Button) is being held
bool | [pressed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pressed) | [Button](#Button) was just pressed down this frame

### CutsceneBehavior


Type | Name | Description
---- | ---- | -----------

### Hud


```lua
set_callback(function(ctx, hud)
    -- draw on screen bottom but keep neat animations
    if hud.y > 0 then hud.y = -hud.y end
    -- spoof some values
    hud.data.inventory[1].health = prng:random_int(1, 99, 0)
    -- hide generic pickup items
    hud.data.inventory[1].item_count = 0
    -- hide money element
    hud.data.money.opacity = 0
    -- get real current opacity of p1 inventory element
    prinspect(hud.data.players[1].opacity * hud.data.opacity * hud.opacity)
end, ON.RENDER_PRE_HUD)

```


Type | Name | Description
---- | ---- | -----------
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
float | [opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=opacity) | 
[HudData](#HudData) | [data](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=data) | 

### HudData


Type | Name | Description
---- | ---- | -----------
array&lt;[HudInventory](#HudInventory), MAX_PLAYERS&gt; | [inventory](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inventory) | 
bool | [udjat](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=udjat) | 
int | [money_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_total) | 
int | [money_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_counter) | 
int | [time_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_total) | in ms
int | [time_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_level) | in ms
int | [world_num](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world_num) | 
int | [level_num](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_num) | 
bool | [angry_shopkeeper](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=angry_shopkeeper) | 
bool | [seed_shown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seed_shown) | 
int | [seed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seed) | 
float | [opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=opacity) | 
float | [roll_in](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=roll_in) | 
array&lt;[HudPlayer](#HudPlayer), MAX_PLAYERS&gt; | [players](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players) | 
[HudMoney](#HudMoney) | [money](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [money_increase_sparkles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_increase_sparkles) | 
[HudElement](#HudElement) | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
[HudElement](#HudElement) | [level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level) | 
float | [clover_falling_apart_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clover_falling_apart_timer) | 
array&lt;[ParticleEmitterInfo](#ParticleEmitterInfo), MAX_PLAYERS&gt; | [player_cursed_particles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_cursed_particles) | 
array&lt;[ParticleEmitterInfo](#ParticleEmitterInfo), MAX_PLAYERS&gt; | [player_poisoned_particles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_poisoned_particles) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [player_highlight](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_highlight) | For player related icons, they use the same TextureRendering, just offset while drawing
[TextureRenderingInfo](#TextureRenderingInfo) | [player_heart](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_heart) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [player_ankh](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_ankh) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [kapala_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [player_crown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_crown) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [player_bomb](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_bomb) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [player_rope](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_rope) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [udjat_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=udjat_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [money_and_time_highlight](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_and_time_highlight) | Money and time use the same TextureRendering, just offset while drawing
[TextureRenderingInfo](#TextureRenderingInfo) | [dollar_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dollar_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [hourglass_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hourglass_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [clover_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clover_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [level_highlight](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_highlight) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [level_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [seed_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seed_background) | 

### HudElement


Type | Name | Description
---- | ---- | -----------
bool | [dim](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dim) | Hide background and dim if using the auto adjust setting.
float | [opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=opacity) | Background will be drawn if this is not 0.5
int | [time_dim](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_dim) | Level time when element should dim again after highlighted, INT_MAX if dimmed on auto adjust. 0 on opaque.

### HudMoney

Derived from [HudElement](#HudElement)


Type | Name | Description
---- | ---- | -----------
int | [total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=total) | 
int | [counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=counter) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### HudPlayer

Derived from [HudElement](#HudElement)


Type | Name | Description
---- | ---- | -----------
int | [health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=health) | 
int | [bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs) | 
int | [ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropes) | 

### ItemOwnerDetails

Used in [RoomOwnersInfo](#RoomOwnersInfo)

Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [owner_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owner_type) | 
int | [owner_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owner_uid) | 

### JournalPageData

Used in [SaveRelated](#SaveRelated)

Type | Name | Description
---- | ---- | -----------
int | [page_nr](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=page_nr) | 
int | [sprite_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sprite_id) | 
[STRINGID](#Aliases) | [name](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=name) | 
[STRINGID](#Aliases) | [description](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=description) | 
float | [scale](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale) | 
float | [offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_x) | 
float | [offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_y) | 

### KeyboardKey


Type | Name | Description
---- | ---- | -----------
bool | [down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=down) | Key is being held
bool | [pressed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pressed) | Key was just pressed down this frame

### Letter


Type | Name | Description
---- | ---- | -----------
[Triangle](#Triangle) | [bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom) | 
[Triangle](#Triangle) | [top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top) | 
[Quad](#Quad) | [get_quad()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_quad) | Get the [Quad](#Quad) of a letter (easier to work with compared to the two triangles)<br/>This assumes that the triangles are in the correct 'touching each other' position<br/>if the positions were altered the results may not end up as expected
nil | [set_quad(Quad quad)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_quad) | Inverse of the get_quad
[Vec2](#Vec2) | [center()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=center) | Get's approximated center of a letter by finding the highest and lowest values, then finding the center of a rectangle build from those values

### MagmamanSpawnPosition

Used in [LogicMagmamanSpawn](#LogicMagmamanSpawn)

Type | Name | Description
---- | ---- | -----------
[MagmamanSpawnPosition](#MagmamanSpawnPosition) | [new(int x_, int y_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=MagmamanSpawnPosition) | 
int | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
int | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### MovableBehavior

Opaque handle to a movable behavior used in some [Movable](#Movable) functions

Type | Name | Description
---- | ---- | -----------
int | [get_state_id()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_state_id) | 
int | [get_state_id()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_state_id) | Get the `state_id` of a behavior, this is the id that needs to be returned from a behavior's<br/>`get_next_state_id` to enter this state, given that the behavior is added to the movable.

### Overlunky

Used to get and set [Overlunky](#Overlunky) settings in [Bucket](#Bucket)

Type | Name | Description
---- | ---- | -----------
map&lt;string, any&gt; | [options](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=options) | Current [Overlunky](#Overlunky) options. Read only.
map&lt;string, any&gt; | [set_options](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_options) | Write [some select options](https://github.com/search?q=repo%3Aspelunky-fyi%2Foverlunky+legal_options+language%3AC%2B%2B&type=code&l=C%2B%2B) here to change [Overlunky](#Overlunky) options.
map&lt;string, [KEY](#KEY)&gt; | [keys](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keys) | Current [Overlunky](#Overlunky) key bindings. Read only. You can use this to bind some custom feature to the same unknown key as currently bound by the user.
set&lt;string&gt; | [ignore_keys](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ignore_keys) | Disable some key bindings in [Overlunky](#Overlunky), whatever key they are actually bound to. Remember this might not be bound to the default any more, so only use this if you also plan on overriding the current keybinding, or just need to disable some feature and don't care what key it is bound on.
set&lt;[KEY](#KEY)&gt; | [ignore_keycodes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ignore_keycodes) | Disable keys that may or may not be used by [Overlunky](#Overlunky). You should probably write the keycodes you need here just in case if you think using OL will interfere with your keybinds.
set&lt;string&gt; | [ignore_features](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ignore_features) | TODO: Disable [Overlunky](#Overlunky) features. Doesn't do anything yet.
int | [selected_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_uid) | Currently selected uid in the entity picker or -1 if nothing is selected.
vector&lt;int&gt; | [selected_uids](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_uids) | Currently selected uids in the entity finder.
int | [hovered_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hovered_uid) | Currently hovered entity uid or -1 if nothing is hovered.
optional&lt;int&gt; | [set_selected_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_selected_uid) | Set currently selected uid in the entity picker or -1 to clear selection.
optional&lt;vector&lt;int&gt;&gt; | [set_selected_uids](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_selected_uids) | Set currently selected uids in the entity finder.

### PRNG

[PRNG](#PRNG) (short for Pseudo-Random-Number-Generator) holds 10 128bit wide buffers of memory that are mutated on every generation of a random number.
The game uses specific buffers for specific scenarios, for example the third buffer is used every time particles are spawned to determine a random velocity.
The used buffer is determined by [PRNG_CLASS](#PRNG_CLASS). If you want to make a mod that does not affect level generation but still uses the prng then you want to stay away from specific buffers.
If you don't care what part of the game you affect just use [prng](#prng)`.random`.

Type | Name | Description
---- | ---- | -----------
nil | [seed(int seed)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seed) | Same as `seed_prng`
float | [random_float(PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random_float) | Generate a random floating point number in the range `[0, 1)`
bool | [random_chance(int inverse_chance, PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random_chance) | Returns true with a chance of `1/inverse_chance`
optional&lt;int&gt; | [random_index(int i, PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random_index) | Generate a integer number in the range `[1, i]` or `nil` if `i < 1`
int | [random_int(int min, int max, PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random_int) | Generate a integer number in the range `[min, max]`
float | [random()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random) | Drop-in replacement for `math.random()`
optional&lt;int&gt; | [random(int i)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random) | Drop-in replacement for `math.random(i)`
int | [random(int min, int max)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=random) | Drop-in replacement for `math.random(min, max)`
tuple&lt;int, int&gt; | [get_pair(PRNG_CLASS type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_pair) | 
nil | [set_pair(PRNG_CLASS type, int first, int second)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pair) | 

### PauseAPI

Control the pause API

Type | Name | Description
---- | ---- | -----------
[PAUSE_TYPE](#PAUSE_TYPE) | [pause](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause) | Current pause state bitmask. Use custom [PAUSE_TYPE](#PAUSE_TYPE).PRE_✱ (or multiple) to freeze the game at the specified callbacks automatically. Checked after the matching [ON](#ON) update callbacks, so can be set on the same callback you want to block at the latest. Vanilla [PAUSE](#PAUSE) flags will be forwarded to state.pause, but use of vanilla [PAUSE](#PAUSE) flags is discouraged and might not work with other [PauseAPI](#PauseAPI) features.
[PAUSE_TYPE](#PAUSE_TYPE) | [pause_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause_type) | Pause mask to toggle when using the [PauseAPI](#PauseAPI) methods to set or get pause state.
[PAUSE_TRIGGER](#PAUSE_TRIGGER) | [pause_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause_trigger) | Bitmask for conditions when the current `pause_type` should be automatically enabled in `pause`, can have multiple conditions.
[PAUSE_SCREEN](#PAUSE_SCREEN) | [pause_screen](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause_screen) | Bitmask to only enable [PAUSE_TRIGGER](#PAUSE_TRIGGER).[SCREEN](#SCREEN) during specific [SCREEN](#SCREEN), or any screen when NONE.
[PAUSE_TRIGGER](#PAUSE_TRIGGER) | [unpause_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unpause_trigger) | Bitmask for conditions when the current `pause_type` should be automatically disabled in `pause`, can have multiple conditions.
[PAUSE_SCREEN](#PAUSE_SCREEN) | [unpause_screen](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unpause_screen) | Bitmask to only enable [PAUSE_TRIGGER](#PAUSE_TRIGGER).[SCREEN](#SCREEN) during specific [SCREEN](#SCREEN), or any screen when NONE.
[PAUSE_SCREEN](#PAUSE_SCREEN) | [ignore_screen](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ignore_screen) | Bitmask for game [SCREEN](#SCREEN) where the PRE_✱ pause types are ignored, even though enabled in `pause`. Can also use the special cases [FADE, EXIT] to unfreeze temporarily during fades (or other screen transitions where player input is probably impossible) or the level exit walk of shame.
[PAUSE_SCREEN](#PAUSE_SCREEN) | [ignore_screen_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ignore_screen_trigger) | Bitmask for game [SCREEN](#SCREEN) where the triggers are ignored.
bool | [skip](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=skip) | Set to true to unfreeze the game for one update cycle. Sets back to false after [ON](#ON).POST_GAME_LOOP, so it can be used to check if current frame is a frame advance frame.
bool | [update_camera](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=update_camera) | Set to true to enable normal camera movement when the game is paused or frozen on a callback by [PauseAPI](#PauseAPI).
bool | [blocked](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blocked) | Is true when [PauseAPI](#PauseAPI) is freezing the game.
bool | [skip_fade](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=skip_fade) | Set to true to skip all fade transitions, forcing fade_timer and fade_value to 0 on every update.
bool | [last_instance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_instance) | Set to true to run pause logic and triggers only in the last API instance in the chain (Playlunky) when multiple instances of the API ([Overlunky](#Overlunky) and Playlunky) are injected.
int | [last_trigger_frame](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_trigger_frame) | Global frame stamp when one of the triggers was last triggered, used to prevent running them again on the same frame on unpause.
int | [last_fade_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_fade_timer) | Fade timer stamp when fade triggers were last checked.
nil | [frame_advance()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=frame_advance) | Sets skip
[PAUSE_TYPE](#PAUSE_TYPE) | [get_pause()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_pause) | Get the current pause flags
nil | [set_pause(PAUSE_TYPE flags)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pause) | Set the current pause flags
bool | [set_paused(bool enable = true)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_paused) | Enable/disable the current pause_type flags in pause state
bool | [paused()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=paused) | Is the game currently paused and that pause state matches any of the current the pause_type
bool | [toggle()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=toggle) | Toggles pause state
bool | [loading()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=loading) | Is the game currently loading and [PAUSE_SCREEN](#PAUSE_SCREEN).LOADING would be triggered, based on state.loading and some arbitrary checks.
int | [modifiers_down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=modifiers_down) | Bitmask of modifier KEYs that are currently held
int | [modifiers_block](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=modifiers_block) | Bitmask of modifier KEYs that will block all game input
bool | [modifiers_clear_input](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=modifiers_clear_input) | Enable to clear affected input when modifiers are held, disable to ignore all input events, i.e. keep held button state as it was before pressing the modifier key

### Quad


Type | Name | Description
---- | ---- | -----------
[Quad](#Quad) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
[Quad](#Quad) | [new(Quad other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
[Quad](#Quad) | [new(Vec2 bottom_left_, Vec2 bottom_right_, Vec2 top_right_, Vec2 top_left_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
[Quad](#Quad) | [new(float _bottom_left_x, float _bottom_left_y, float _bottom_right_x, float _bottom_right_y, float _top_right_x, float _top_right_y, float _top_left_x, float _top_left_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
[Quad](#Quad) | [new(AABB aabb)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Quad) | 
float | [bottom_left_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_left_x) | 
float | [bottom_left_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_left_y) | 
float | [bottom_right_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_right_x) | 
float | [bottom_right_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_right_y) | 
float | [top_right_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_right_x) | 
float | [top_right_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_right_y) | 
float | [top_left_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_left_x) | 
float | [top_left_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_left_y) | 
[AABB](#AABB) | [get_AABB()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_AABB) | Returns the max/min values of the [Quad](#Quad)
[Quad](#Quad) | [offset(Vec2 off)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset) | 
[Quad](#Quad) | [offset(float off_x, float off_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset) | 
[Quad](#Quad) | [rotate(float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotate) | Rotates a [Quad](#Quad) by an angle, px/py are not offsets, use `:get_AABB():center()` to get approximated center for symmetrical quadrangle
[Quad](#Quad) | [flip_horizontally()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flip_horizontally) | 
[Quad](#Quad) | [flip_vertically()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flip_vertically) | 
bool | [is_point_inside(Vec2 p, optional<float> epsilon)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | Check if point lies inside of triangle<br/>Because of the imprecise nature of floating point values, the `epsilon` value is needed to compare the floats, the default value is `0.00001`
bool | [is_point_inside(float x, float y, optional<float> epsilon)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | 
[Quad](#Quad) | [set(Quad other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set) | 
tuple&lt;[Vec2](#Vec2), [Vec2](#Vec2), [Vec2](#Vec2), [Vec2](#Vec2)&gt; | [split()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=split) | Returns the corners in order: bottom_left, bottom_right, top_right, top_left

### RenderInfo


> For using a custom normal map:

```lua
set_post_entity_spawn(function(ent)
  -- Doesn't really make sense with this texture, you can use your custom normal texture id here
  ent.rendering_info:set_normal_map_texture(TEXTURE.DATA_TEXTURES_FLOORSTYLED_GOLD_NORMAL_0)
  ent.rendering_info.shader = 30 -- Make sure to set the shader to one that uses normal map
end, SPAWN_TYPE.LEVEL_GEN, MASK.FLOOR, ENT_TYPE.FLOORSTYLED_MINEWOOD)
```

> Note: if using set_texture_num, make sure to have used set_second_texture/set_third_texture before, since not doing so can lead to crashes


Some information used to render the entity, can not be changed, used in [Entity](#Entity)

Type | Name | Description
---- | ---- | -----------
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
float | [offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_x) | 
float | [offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_y) | 
[WORLD_SHADER](#WORLD_SHADER) | [shader](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shader) | 
[Quad](#Quad) | [source](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source) | 
[Quad](#Quad) | [destination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination) | 
float | [tilew](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tilew) | 
float | [tileh](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tileh) | 
bool | [facing_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=facing_left) | 
float | [angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=angle) | 
int | [animation_frame](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animation_frame) | 
bool | [render_inactive](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=render_inactive) | 
float | [brightness](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brightness) | 
int | [texture_num](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture_num) | 
[Entity](#Entity) | [get_entity()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_entity) | 
bool | [set_normal_map_texture(TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_normal_map_texture) | Sets second_texture to the texture specified, then sets third_texture to SHINE_0 and texture_num to 3. You still have to change shader to 30 to render with normal map (same as COG normal maps)
optional&lt;[TEXTURE](#TEXTURE)&gt; | [get_second_texture()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_second_texture) | 
optional&lt;[TEXTURE](#TEXTURE)&gt; | [get_third_texture()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_third_texture) | 
bool | [set_second_texture(TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_second_texture) | 
bool | [set_third_texture(TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_third_texture) | 
bool | [set_texture_num(int num)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_texture_num) | Set the number of textures that may be used, need to have them set before for it to work
[CallbackId](#Aliases) | [set_pre_virtual(RENDER_INFO_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(RENDER_INFO_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_dtor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_dtor) | Hooks before the virtual function.<br/>The callback signature is `nil dtor(RenderInfo self)`
[CallbackId](#Aliases) | [set_post_dtor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_dtor) | Hooks after the virtual function.<br/>The callback signature is `nil dtor(RenderInfo self)`
[CallbackId](#Aliases) | [set_pre_draw(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_draw) | Hooks before the virtual function.<br/>The callback signature is `bool draw(RenderInfo self)`<br/>Virtual function docs:<br/>Called when the entity enters the camera view, using its hitbox with an extra threshold. Handles low-level graphics tasks related to the GPU
[CallbackId](#Aliases) | [set_post_draw(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_draw) | Hooks after the virtual function.<br/>The callback signature is `nil draw(RenderInfo self)`<br/>Virtual function docs:<br/>Called when the entity enters the camera view, using its hitbox with an extra threshold. Handles low-level graphics tasks related to the GPU
[CallbackId](#Aliases) | [set_pre_render(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_render) | Hooks before the virtual function.<br/>The callback signature is `bool render(RenderInfo self, Vec2 offset, VanillaRenderContext vanilla_render_context)`<br/>Virtual function docs:<br/>Offset used in CO to draw the fake image of the entity on the other side of a level
[CallbackId](#Aliases) | [set_post_render(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_render) | Hooks after the virtual function.<br/>The callback signature is `nil render(RenderInfo self, Vec2 offset, VanillaRenderContext vanilla_render_context)`<br/>Virtual function docs:<br/>Offset used in CO to draw the fake image of the entity on the other side of a level

### RoomOwnerDetails

Used in [RoomOwnersInfo](#RoomOwnersInfo)

Type | Name | Description
---- | ---- | -----------
int | [layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=layer) | 
int | [room_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=room_index) | 
int | [owner_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owner_uid) | 

### RoomOwnersInfo

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
map&lt;int, [ItemOwnerDetails](#ItemOwnerDetails)&gt; | [owned_items](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owned_items) | key/index is the uid of an item
vector&lt;[RoomOwnerDetails](#RoomOwnerDetails)&gt; | [owned_rooms](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owned_rooms) | 

### SaveState


Type | Name | Description
---- | ---- | -----------
[SaveState](#SaveState) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=SaveState) | Create a new temporary [SaveState](#SaveState)/clone of the main level state. Unlike save_state slots that are preallocated by the game anyway, these will use 32MiB a pop and aren't freed automatically, so make sure to clear them or reuse the same one to save memory. The garbage collector will eventually clear the SaveStates you don't have a handle to any more though.
nil | [load()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=load) | Load a [SaveState](#SaveState)
nil | [save()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=save) | Save over a previously allocated [SaveState](#SaveState)
nil | [clear()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear) | Delete the [SaveState](#SaveState) and free the memory. The [SaveState](#SaveState) can't be used after this.
[StateMemory](#StateMemory) | [get_state()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_state) | Access the [StateMemory](#StateMemory) inside a [SaveState](#SaveState)
int | [get_frame()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_frame) | Get the current frame from the [SaveState](#SaveState), equivelent to the [get_frame](#Get_frame) global function that returns the frame from the "loaded in state"
[PRNG](#PRNG) | [get_prng()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_prng) | Access the [PRNG](#PRNG) inside a [SaveState](#SaveState)
[SaveState](#SaveState) | [get(int save_slot)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get) | Get the pre-allocated by the game save slot 1-4. Call as `SaveState.get(slot)`

### SharedIO


Type | Name | Description
---- | ---- | -----------
optional&lt;bool&gt; | [wantkeyboard](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wantkeyboard) | 
optional&lt;bool&gt; | [wantmouse](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wantmouse) | 

### ShortTileCodeDef

Used in [get_short_tile_code](#get_short_tile_code), [get_short_tile_code_definition](#get_short_tile_code_definition) and [PostRoomGenerationContext](#PostRoomGenerationContext)

Type | Name | Description
---- | ---- | -----------
[TILE_CODE](#TILE_CODE) | [tile_code](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tile_code) | Tile code that is used by default when this short tile code is encountered. Defaults to 0.
int | [chance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chance) | Chance in percent to pick `tile_code` over `alt_tile_code`, ignored if `chance == 0`. Defaults to 100.
[TILE_CODE](#TILE_CODE) | [alt_tile_code](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=alt_tile_code) | Alternative tile code, ignored if `chance == 100`. Defaults to 0.

### SpawnInfo


Type | Name | Description
---- | ---- | -----------
[ROOM_TEMPLATE](#ROOM_TEMPLATE) | [room_template](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=room_template) | 
[Entity](#Entity) | [grid_entity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_entity) | Grid entity at this position, will only try to spawn procedural if this is nil
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 

### SpritePosition


Type | Name | Description
---- | ---- | -----------
int | [column](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=column) | 
int | [row](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=row) | 

### StickersData

Used in [SaveRelated](#SaveRelated)

Type | Name | Description
---- | ---- | -----------
int | [sprite_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sprite_id) | 
[TEXTURE](#TEXTURE) | [texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture) | 

### Triangle


Type | Name | Description
---- | ---- | -----------
[Triangle](#Triangle) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Triangle) | 
[Triangle](#Triangle) | [new(Triangle other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Triangle) | 
[Triangle](#Triangle) | [new(Vec2 _a, Vec2 _b, Vec2 _c)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Triangle) | 
[Triangle](#Triangle) | [new(float ax, float ay, float bx, float by, float cx, float cy)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Triangle) | 
[Vec2](#Vec2) | [A](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=A) | 
[Vec2](#Vec2) | [B](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=B) | 
[Vec2](#Vec2) | [C](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=C) | 
[Triangle](#Triangle) | [offset(Vec2 off)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset) | 
[Triangle](#Triangle) | [offset(float x, float y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset) | 
[Triangle](#Triangle) | [rotate(float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotate) | Rotate triangle by an angle, the px/py are just coordinates, not offset from the center
[Vec2](#Vec2) | [center()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=center) | Also known as centroid
tuple&lt;float, float, float&gt; | [get_angles()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_angles) | Returns ABC, BCA, CAB angles in radians
[Triangle](#Triangle) | [scale(float scale)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale) | 
float | [area()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=area) | 
bool | [is_point_inside(Vec2 p, optional<float> epsilon)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | Check if point lies inside of triangle<br/>Because of the imprecise nature of floating point values, the `epsilon` value is needed to compare the floats, the default value is `0.0001`
bool | [is_point_inside(float x, float y, optional<float> epsilon)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_point_inside) | 
[Triangle](#Triangle) | [set(Triangle other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set) | 
tuple&lt;[Vec2](#Vec2), [Vec2](#Vec2), [Vec2](#Vec2)&gt; | [split()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=split) | Returns the corner points

### UdpServer


Type | Name | Description
---- | ---- | -----------

### Vec2

Simple object to hold pair of coordinates

Type | Name | Description
---- | ---- | -----------
[Vec2](#Vec2) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Vec2) | 
[Vec2](#Vec2) | [new(Vec2 other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Vec2) | 
[Vec2](#Vec2) | [new(float x_, float y_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=Vec2) | 
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
[Vec2](#Vec2) | [rotate(float angle, float px, float py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotate) | 
[Vec2](#Vec2) | [rotate(float angle, Vec2 p)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotate) | 
float | [distance_to(Vec2 other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=distance_to) | Just simple Pythagoras theorem
[Vec2](#Vec2) | [set(Vec2 other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set) | 
tuple&lt;float, float&gt; | [split()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=split) | 

## Input types


### ControllerInput


Type | Name | Description
---- | ---- | -----------
array&lt;[ControllerButton](#ControllerButton), 16&gt; | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | Zero-based indexing. Use [PlayerSlot](#PlayerSlot).input_mapping_controller or [RAW_BUTTON](#RAW_BUTTON) (or RAW_DUALSHOCK) to index this.

### Gamepad

Used in [ImGuiIO](#ImGuiIO)

Type | Name | Description
---- | ---- | -----------
bool | [enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enabled) | 
[GAMEPAD](#GAMEPAD) | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 
float | [lt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lt) | 
float | [rt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rt) | 
float | [lx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lx) | 
float | [ly](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ly) | 
float | [rx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rx) | 
float | [ry](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ry) | 

### ImGuiIO

Used in [get_io](#get_io), also see [set_hotkey](#set_hotkey) and [GuiDrawContext](#GuiDrawContext)::key_picker.

- Functions are static, not class methods expecting `self` (call with `get_io().keydown(key)`, not `:`)
- The clicked/pressed actions only work in `ON.GUIFRAME` (they are true for one GUIFRAME), but get_io() can be used anywhere for the other parts.
- You can use `KEY` or other standard virtual keycodes < 0xFF to index `keys[]` or in the functions.
- You can use chords `KEY.OL_MOD_CTRL | KEY.X` in the keydown/keypressed/keyreleased functions.
- You can also use mouse buttons (e.g. `KEY.OL_MOUSE_1`) or anything returned by GuiDrawContext:key_picker in the keydown/keypressed/keyreleased functions.
- A modifier key as a keycode (`keypressed(KEY.LCONTROL)`) is not the same as modifier flags OL_MOD_... `keypressed(KEY.OL_MOD_CTRL)` won't work, `keypressed(KEY.OL_MOD_CTRL | KEY.LSHIFT)` will trigger on "Ctrl+Shift" but not "Shift+Ctrl"
- All held modifiers must be present in the chord, e.g. `keypressed(KEY.OL_MOD_CTRL | KEY.X)` won't trigger when Ctrl+Shift+X is pressed, `keydown(KEY.Y)` won't trigger when Ctrl+Y is pressed.
- Most fields are read only, except `wantkeyboard`, `wantmouse` and `showcursor`.
- Setting `wantkeyboard` early (e.g. already when `modifierdown(KEY.OL_MOD_CTRL | KEY.X)`) will prevent the game and UI from reacting to your actual combo later (e.g. `keypressed(KEY.OL_MOD_CTRL | KEY.X)`)
- [Gamepad](#Gamepad) is basically [XINPUT_GAMEPAD](https://docs.microsoft.com/en-us/windows/win32/api/xinput/ns-xinput-xinput_gamepad) but variables are renamed and values are normalized to -1.0..1.0 range.

Type | Name | Description
---- | ---- | -----------
[Vec2](#Vec2) | [displaysize](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=displaysize) | 
float | [framerate](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=framerate) | 
bool | [wantkeyboard](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wantkeyboard) | True if anyone else (i.e. some input box, OL hotkey) is already capturing keyboard or reacted to this keypress and you probably shouldn't.<br/>Set this to true every GUIFRAME while you want to capture keyboard and disable UI key bindings and game keys. Won't affect UI or game keys on this frame though, that train has already sailed. Also see [Bucket](#Bucket)::[Overlunky](#Overlunky) for other ways to override key bindings.<br/>Do not set this to false, unless you want the player input to bleed through input fields.<br/> 
array&lt;bool, 652&gt; | [keys](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keys) | ZeroIndexArray<bool> of currently held keys, indexed by [KEY](#KEY) <= 0xFF<br/> 
 | [keydown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keydown) | Returns true if key or chord is down.<br/>bool keydown([KEY](#KEY) keychord)<br/>bool keydown(char key)<br/> 
 | [keypressed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keypressed) | Returns true if key or chord was pressed this GUIFRAME.<br/>bool keypressed([KEY](#KEY) keychord, bool repeat = false)<br/>bool keypressed(char key, bool repeat = false)<br/> 
 | [keyreleased](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keyreleased) | Returns true if key or chord was released this GUIFRAME.<br/>bool keyreleased([KEY](#KEY) keychord)<br/>bool keyreleased(char key)<br/> 
bool | [keyctrl](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keyctrl) | 
bool | [keyshift](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keyshift) | 
bool | [keyalt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keyalt) | 
bool | [keysuper](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keysuper) | 
bool | [modifierdown(int chord)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=modifierdown) | bool modifierdown([KEY](#KEY) keychord)<br/>Returns true if modifiers in chord are down, ignores other keys in chord.<br/> 
bool | [wantmouse](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wantmouse) | True if anyone else (i.e. hovering some window) is already capturing mouse and you probably shouldn't.<br/>Set this to true if you want to capture mouse and override UI mouse binding.<br/> 
[Vec2](#Vec2) | [mousepos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mousepos) | 
array&lt;bool, 5&gt; | [mousedown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mousedown) | 
array&lt;bool, 5&gt; | [mouseclicked](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mouseclicked) | 
array&lt;bool, 5&gt; | [mousedoubleclicked](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mousedoubleclicked) | 
array&lt;bool, 5&gt; | [mousereleased](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mousereleased) | 
float | [mousewheel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mousewheel) | 
[Gamepad](#Gamepad) | [gamepad](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gamepad) | 
[Gamepad](#Gamepad) | [gamepads(int index)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gamepads) | [Gamepad](#Gamepad) gamepads(int index)<br/>This is the XInput index 1..4, might not be the same as the player slot.<br/> 
bool | [showcursor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=showcursor) | True when the cursor is visible.<br/>Set to true to force the cursor visible.<br/> 

### InputMapping

Used in [PlayerSlot](#PlayerSlot)

Type | Name | Description
---- | ---- | -----------
int | [jump](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump) | 
int | [attack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack) | 
int | [bomb](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bomb) | 
int | [rope](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rope) | 
int | [walk_run](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_run) | 
int | [use_door_buy](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=use_door_buy) | 
int | [pause_menu](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause_menu) | 
int | [journal](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal) | 
int | [left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left) | 
int | [right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right) | 
int | [up](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=up) | 
int | [down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=down) | 
array&lt;[RAW_KEY](#RAW_KEY), 12&gt; | [mapping](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mapping) | Can be indexed with [INPUT_FLAG](#INPUT_FLAG). Keyboard uses [RAW_KEY](#RAW_KEY) values, controller uses [RAW_BUTTON](#RAW_BUTTON) values.

### PlayerInputs

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
array&lt;[PlayerSlot](#PlayerSlot), MAX_PLAYERS&gt; | [player_slots](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slots) | 
[PlayerSlot](#PlayerSlot) | [player_slot_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_1) | 
[PlayerSlot](#PlayerSlot) | [player_slot_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_2) | 
[PlayerSlot](#PlayerSlot) | [player_slot_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_3) | 
[PlayerSlot](#PlayerSlot) | [player_slot_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_4) | 
array&lt;[PlayerSlotSettings](#PlayerSlotSettings), MAX_PLAYERS&gt; | [player_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_settings) | 
[PlayerSlotSettings](#PlayerSlotSettings) | [player_slot_1_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_1_settings) | 
[PlayerSlotSettings](#PlayerSlotSettings) | [player_slot_2_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_2_settings) | 
[PlayerSlotSettings](#PlayerSlotSettings) | [player_slot_3_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_3_settings) | 
[PlayerSlotSettings](#PlayerSlotSettings) | [player_slot_4_settings](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot_4_settings) | 

### RawInput


Type | Name | Description
---- | ---- | -----------
array&lt;[KeyboardKey](#KeyboardKey), 112&gt; | [keyboard](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=keyboard) | State of all keyboard buttons in a random game order as usual, most key indexes can be found in [RAW_KEY](#RAW_KEY). Zero-based indexing, i.e. use [PlayerSlot](#PlayerSlot).input_mapping_keyboard directly to index this.
array&lt;[ControllerInput](#ControllerInput), 12&gt; | [controller](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=controller) | State of controller buttons per controller. Zero-based indexing, i.e. use [GameProps](#GameProps).input_index directly to index this.

## Journal types


### JournalBestiaryData

Used in [SaveRelated](#SaveRelated)
Derived from [JournalPageData](#JournalPageData)


Type | Name | Description
---- | ---- | -----------
[TEXTURE](#TEXTURE) | [texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture) | 
int | [background_sprite_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=background_sprite_id) | 
bool | [killed_by_NA](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=killed_by_NA) | 
bool | [defeated_NA](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=defeated_NA) | 

### JournalPage

Used in [set_callback](#set_callback) with [ON](#ON).RENDER_POST_JOURNAL_PAGE

Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=background) | 
int | [page_number](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=page_number) | 
bool | [is_right_side_page()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_right_side_page) | background.x < 0
[JOURNAL_PAGE_TYPE](#JOURNAL_PAGE_TYPE) | [get_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_type) | 

### JournalPageBestiary

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [monster_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=monster_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [monster_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=monster_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [defeated_killedby_black_bars](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=defeated_killedby_black_bars) | 
[TextRenderingInfo](#TextRenderingInfo) | [defeated_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=defeated_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [defeated_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=defeated_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [killedby_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=killedby_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [killedby_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=killedby_value_text_info) | 

### JournalPageDeathCause

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextRenderingInfo](#TextRenderingInfo) | [death_cause_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=death_cause_text_info) | 

### JournalPageDeathMenu

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextRenderingInfo](#TextRenderingInfo) | [game_over_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=game_over_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [level_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [level_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [money_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [money_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [time_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [time_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_value_text_info) | 

### JournalPageDiscoverable

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
bool | [show_main_image](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=show_main_image) | 
[TextRenderingInfo](#TextRenderingInfo) | [title_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=title_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [entry_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entry_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [chapter_title_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chapter_title_text_info) | 

### JournalPageFeats

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextRenderingInfo](#TextRenderingInfo) | [chapter_title_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chapter_title_text_info) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [feat_icons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=feat_icons) | 

### JournalPageItems

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [item_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_background) | 

### JournalPageJournalMenu

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextRenderingInfo](#TextRenderingInfo) | [journal_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_text_info) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [completion_badge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=completion_badge) | 

### JournalPageLastGamePlayed

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [main_image](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_image) | 
[TextRenderingInfo](#TextRenderingInfo) | [last_game_played_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_game_played_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [level_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [level_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [money_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [money_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [time_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [time_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_value_text_info) | 
int | [sticker_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sticker_count) | 
array&lt;[TextureRenderingInfo](#TextureRenderingInfo), 20&gt; | [stickers](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stickers) | 

### JournalPagePeople

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [character_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character_drawing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_drawing) | 

### JournalPagePlaces

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [main_image](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_image) | 

### JournalPagePlayerProfile

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [player_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_icon) | 
int | [player_icon_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_icon_id) | 
[TextRenderingInfo](#TextRenderingInfo) | [player_profile_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_profile_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [plays_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=plays_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [plays_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=plays_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [wins_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wins_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [wins_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wins_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deaths_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deaths_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deaths_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deaths_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [win_pct_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_pct_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [win_pct_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_pct_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [average_score_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=average_score_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [average_score_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=average_score_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [top_score_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_score_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [top_score_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_score_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deepest_level_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deepest_level_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deepest_level_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deepest_level_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deadliest_level_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deadliest_level_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [deadliest_level_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deadliest_level_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [average_time_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=average_time_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [average_time_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=average_time_value_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [best_time_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=best_time_text_info) | 
[TextRenderingInfo](#TextRenderingInfo) | [best_time_value_text_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=best_time_value_text_info) | 

### JournalPageProgress

Derived from [JournalPage](#JournalPage)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [coffeestain_top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=coffeestain_top) | 

### JournalPageTraps

Derived from [JournalPage](#JournalPage) [JournalPageDiscoverable](#JournalPageDiscoverable)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [trap_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trap_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [trap_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trap_background) | 

### JournalPeopleData

Used in [SaveRelated](#SaveRelated)
Derived from [JournalPageData](#JournalPageData)


Type | Name | Description
---- | ---- | -----------
[TEXTURE](#TEXTURE) | [texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture) | 
int | [background_sprite_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=background_sprite_id) | 
bool | [killed_by_NA](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=killed_by_NA) | 
bool | [defeated_NA](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=defeated_NA) | 
[TEXTURE](#TEXTURE) | [portrait_texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=portrait_texture) | 

### JournalTrapData

Used in [SaveRelated](#SaveRelated)
Derived from [JournalPageData](#JournalPageData)


Type | Name | Description
---- | ---- | -----------
[TEXTURE](#TEXTURE) | [texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture) | 
int | [background_sprite_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=background_sprite_id) | 

## Levelgen types


### DoorCoords

Deprecated
 kept for backward compatibility, don't use, check [LevelGenSystem](#LevelGenSystem).exit_doors

Type | Name | Description
---- | ---- | -----------
float | [door1_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door1_x) | 
float | [door1_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door1_y) | 
float | [door2_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door2_x) | door2 only valid when there are two in the level, like Volcana drill, [Olmec](#Olmec), ...
float | [door2_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door2_y) | 

### LevelGenSystem

Data relating to level generation, changing anything in here from [ON](#ON).LEVEL or later will likely have no effect, used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
[SHOP_TYPE](#SHOP_TYPE) | [shop_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shop_type) | 
[SHOP_TYPE](#SHOP_TYPE) | [backlayer_shop_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=backlayer_shop_type) | 
int | [shop_music](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shop_music) | 
int | [backlayer_shop_music](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=backlayer_shop_music) | 
float | [spawn_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_x) | 
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 
int | [spawn_room_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_room_x) | 
int | [spawn_room_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_room_y) | 
vector&lt;[Vec2](#Vec2)&gt; | [exit_doors](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=exit_doors) | 
array&lt;[ThemeInfo](#ThemeInfo), 18&gt; | [themes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=themes) | 
int | [flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flags) | 
int | [flags2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flags2) | 
int | [flags3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flags3) | 
array&lt;int, 17&gt; | [level_config](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_config) | 

## Lighting types


### Illumination

Generic object for lights in the game, you can make your own with [create_illumination](#create_illumination)<br/>
Used in [StateMemory](#StateMemory), [Player](#Player), [PlayerGhost](#PlayerGhost), [BurningRopeEffect](#BurningRopeEffect) ...

Type | Name | Description
---- | ---- | -----------
array&lt;[LightParams](#LightParams), 4&gt; | [lights](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lights) | Table of light1, light2, ... etc.
[LightParams](#LightParams) | [light1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light1) | 
[LightParams](#LightParams) | [light2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light2) | 
[LightParams](#LightParams) | [light3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light3) | 
[LightParams](#LightParams) | [light4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light4) | It's rendered on objects around, not as an actual bright spot
float | [brightness](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brightness) | 
float | [brightness_multiplier](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brightness_multiplier) | 
float | [light_pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light_pos_x) | 
float | [light_pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light_pos_y) | 
float | [offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_x) | 
float | [offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_y) | 
float | [distortion](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=distortion) | 
int | [entity_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entity_uid) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
int | [flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flags) | see [flags.hpp](https://github.com/spelunky-fyi/overlunky/blob/main/src/game_api/flags.hpp) illumination_flags
[LIGHT_TYPE](#LIGHT_TYPE) | [type_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=type_flags) | 
bool | [enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enabled) | 
int | [layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=layer) | 

### LightParams

Used in [Illumination](#Illumination)

Type | Name | Description
---- | ---- | -----------
float | [red](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=red) | 
float | [green](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=green) | 
float | [blue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blue) | 
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | 
[Color](#Color) | [as_color()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=as_color) | Returns [LightParams](#LightParams) as [Color](#Color), note that size = alpha

## Liquid types


### LiquidPhysics

Use [LIQUID_POOL](#LIQUID_POOL) enum for the index<br/>
Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
array&lt;[LiquidPool](#LiquidPool), 5&gt; | [pools](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pools) | 

### LiquidPhysicsEngine

Used in [LiquidPool](#LiquidPool)

Type | Name | Description
---- | ---- | -----------
bool | [pause](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause) | 
float | [gravity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gravity) | 
float | [cohesion](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cohesion) | 
float | [elasticity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elasticity) | 
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | 
float | [weight](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=weight) | 
int | [count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=count) | 

### LiquidPhysicsParams

Used in [LiquidPool](#LiquidPool)

Type | Name | Description
---- | ---- | -----------
float | [gravity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gravity) | 
float | [cohesion](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cohesion) | 
float | [elasticity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elasticity) | 

### LiquidPool

Used in [LiquidPhysics](#LiquidPhysics)

Type | Name | Description
---- | ---- | -----------
[LiquidPhysicsParams](#LiquidPhysicsParams) | [default](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=default) | 
[LiquidPhysicsEngine](#LiquidPhysicsEngine) | [engine](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=engine) | 

## Logic types


### Logic

Used in [LogicList](#LogicList)

Type | Name | Description
---- | ---- | -----------
[LOGIC](#LOGIC) | [logic_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=logic_index) | 

### LogicApepTrigger

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [spawn_cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_cooldown) | 
bool | [cooling_down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cooling_down) | 
bool | [apep_journal_entry_logged](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=apep_journal_entry_logged) | 

### LogicBasecampSpeedrun

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [administrator](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=administrator) | entity uid of the character that keeps the time
int | [crate](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crate) | entity uid. you must break this crate for the run to be valid, otherwise you're cheating

### LogicCOGAnkhSacrifice

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### LogicChallenge

Used in [LogicMoonChallenge](#LogicMoonChallenge), [LogicStarChallenge](#LogicStarChallenge), [LogicSunChallenge](#LogicSunChallenge)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [floor_challenge_entrance_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=floor_challenge_entrance_uid) | 
int | [floor_challenge_waitroom_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=floor_challenge_waitroom_uid) | 
bool | [challenge_active](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=challenge_active) | 
int | [forcefield_countdown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=forcefield_countdown) | 

### LogicDiceShop

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [boss_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=boss_uid) | 
[ENT_TYPE](#ENT_TYPE) | [boss_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=boss_type) | 
int | [bet_machine](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bet_machine) | entity uid
int | [die1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=die1) | entity uid
int | [die2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=die2) | entity uid
int | [die_1_value](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=die_1_value) | 
int | [die_2_value](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=die_2_value) | 
int | [prize_dispenser](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=prize_dispenser) | entity uid
int | [prize](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=prize) | entity uid
int | [forcefield](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=forcefield) | entity uid
bool | [bet_active](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bet_active) | 
bool | [forcefield_deactivated](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=forcefield_deactivated) | 
int | [result_announcement_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=result_announcement_timer) | the time the boss waits after your second die throw to announce the results
int | [won_prizes_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=won_prizes_count) | 
int | [balance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=balance) | cash balance of all the games

### LogicGhostToast

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [toast_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=toast_timer) |  default 90

### LogicList

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
[LogicTutorial](#LogicTutorial) | [tutorial](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tutorial) | Handles dropping of the torch and rope in intro routine (first time play)
[LogicOuroboros](#LogicOuroboros) | [ouroboros](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ouroboros) | 
[LogicBasecampSpeedrun](#LogicBasecampSpeedrun) | [basecamp_speedrun](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=basecamp_speedrun) | Keep track of time, player position passing official
[Logic](#Logic) | [ghost_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ghost_trigger) | It's absence is the only reason why ghost doesn't spawn at boss levels or CO
[LogicGhostToast](#LogicGhostToast) | [ghost_toast_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ghost_toast_trigger) | 
[Logic](#Logic) | [tun_aggro](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tun_aggro) | Spawns tun at the door at 30s mark
[LogicDiceShop](#LogicDiceShop) | [diceshop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=diceshop) | 
[LogicTunPreChallenge](#LogicTunPreChallenge) | [tun_pre_challenge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tun_pre_challenge) | 
[LogicMoonChallenge](#LogicMoonChallenge) | [tun_moon_challenge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tun_moon_challenge) | 
[LogicStarChallenge](#LogicStarChallenge) | [tun_star_challenge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tun_star_challenge) | 
[LogicSunChallenge](#LogicSunChallenge) | [tun_sun_challenge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tun_sun_challenge) | 
[LogicMagmamanSpawn](#LogicMagmamanSpawn) | [magmaman_spawn](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=magmaman_spawn) | 
[LogicUnderwaterBubbles](#LogicUnderwaterBubbles) | [water_bubbles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=water_bubbles) | Only the bubbles that spawn from the floor (no border tiles, checks decoration flag), also spawn droplets falling from ceiling<br/>Even without it, entities moving in water still spawn bubbles
[LogicOlmecCutscene](#LogicOlmecCutscene) | [olmec_cutscene](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=olmec_cutscene) | 
[LogicTiamatCutscene](#LogicTiamatCutscene) | [tiamat_cutscene](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tiamat_cutscene) | 
[LogicApepTrigger](#LogicApepTrigger) | [apep_spawner](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=apep_spawner) | Triggers and spawns Apep only in rooms set as [ROOM_TEMPLATE](#ROOM_TEMPLATE).APEP
[LogicCOGAnkhSacrifice](#LogicCOGAnkhSacrifice) | [city_of_gold_ankh_sacrifice](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=city_of_gold_ankh_sacrifice) | All it does is it runs transition to Duat after time delay (sets the state next theme etc. and state.items for proper player respawn)
[Logic](#Logic) | [duat_bosses_spawner](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=duat_bosses_spawner) | 
[LogicTiamatBubbles](#LogicTiamatBubbles) | [bubbler](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bubbler) | Spawn rising bubbles at [Tiamat](#Tiamat) (position hardcoded)
[LogicTuskPleasurePalace](#LogicTuskPleasurePalace) | [tusk_pleasure_palace](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tusk_pleasure_palace) | Triggers aggro on everyone when non-high roller enters door
[Logic](#Logic) | [discovery_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=discovery_info) | black market, vlad, wet fur discovery, logic shows the toast
[Logic](#Logic) | [black_market](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=black_market) | Changes the camera bounds when you reach black market
[Logic](#Logic) | [jellyfish_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jellyfish_trigger) | 
[LogicArena1](#LogicArena1) | [arena_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena_1) | Handles create spawns and more, is cleared as soon as the winner is decided (on last player alive)
[Logic](#Logic) | [arena_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena_2) | 
[Logic](#Logic) | [arena_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena_3) | Handles time end death
[LogicArenaAlienBlast](#LogicArenaAlienBlast) | [arena_alien_blast](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena_alien_blast) | 
[LogicArenaLooseBombs](#LogicArenaLooseBombs) | [arena_loose_bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena_loose_bombs) | 
[Logic](#Logic) | [start_logic(LOGIC idx)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_logic) | This only properly constructs the base class<br/>you may still need to initialise the parameters correctly
nil | [stop_logic(LOGIC idx)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stop_logic) | 
nil | [stop_logic(Logic log)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stop_logic) | 

### LogicMagmamanSpawn

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
vector&lt;[MagmamanSpawnPosition](#MagmamanSpawnPosition)&gt; | [magmaman_positions](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=magmaman_positions) | 
nil | [add_spawn(int x, int y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_spawn) | 
nil | [add_spawn(MagmamanSpawnPosition ms)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_spawn) | 
nil | [remove_spawn(int x, int y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=remove_spawn) | 
nil | [remove_spawn(MagmamanSpawnPosition ms)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=remove_spawn) | 

### LogicMoonChallenge

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic) [LogicChallenge](#LogicChallenge)


Type | Name | Description
---- | ---- | -----------
int | [mattock_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mattock_uid) | entity uid

### LogicOlmecCutscene

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [fx_olmecpart_large](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_olmecpart_large) | 
[Entity](#Entity) | [olmec](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=olmec) | 
[Entity](#Entity) | [player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player) | 
[Entity](#Entity) | [cinematic_anchor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cinematic_anchor) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### LogicOuroboros

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### LogicStarChallenge

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic) [LogicChallenge](#LogicChallenge)


Type | Name | Description
---- | ---- | -----------
vector&lt;[Entity](#Entity)&gt; | [torches](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=torches) | 
int | [start_countdown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_countdown) | 

### LogicSunChallenge

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic) [LogicChallenge](#LogicChallenge)


Type | Name | Description
---- | ---- | -----------
int | [start_countdown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_countdown) | 

### LogicTiamatBubbles

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [bubble_spawn_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bubble_spawn_timer) | 

### LogicTiamatCutscene

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [tiamat](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tiamat) | 
[Entity](#Entity) | [player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player) | 
[Entity](#Entity) | [cinematic_anchor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cinematic_anchor) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### LogicTuskPleasurePalace

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
int | [locked_door](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=locked_door) | 

### LogicTutorial

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [pet_tutorial](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pet_tutorial) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### LogicUnderwaterBubbles

Used in [LogicList](#LogicList)
Derived from [Logic](#Logic)


Type | Name | Description
---- | ---- | -----------
float | [gravity_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gravity_direction) | 1.0 = normal, -1.0 = inversed, other values have undefined behavior<br/>this value basically have to be the same as return from `ThemeInfo:get_liquid_gravity()`
int | [droplets_spawn_chance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=droplets_spawn_chance) | It's inverse chance, so the lower the number the higher the chance, values below 10 may crash the game
bool | [droplets_enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=droplets_enabled) | Enable/disable spawn of [ENT_TYPE](#ENT_TYPE).FX_WATER_DROP from ceiling (or ground if liquid gravity is inverse)

## Online types


### Online

Can be accessed via global [online](#online)

Type | Name | Description
---- | ---- | -----------
array&lt;[OnlinePlayer](#OnlinePlayer), 4&gt; | [online_players](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=online_players) | 
[OnlinePlayer](#OnlinePlayer) | [local_player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=local_player) | 
[OnlineLobby](#OnlineLobby) | [lobby](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lobby) | 
bool | [is_active()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_active) | 

### OnlineLobby

Used in [Online](#Online)

Type | Name | Description
---- | ---- | -----------
int | [code](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=code) | 
int | [local_player_slot](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=local_player_slot) | 
string | [get_code()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_code) | Gets the string equivalent of the code

### OnlinePlayer

Used in [Online](#Online)

Type | Name | Description
---- | ---- | -----------
[GAME_MODE](#GAME_MODE) | [game_mode](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=game_mode) | 
[PLATFORM](#PLATFORM) | [platform](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=platform) | 
[READY_STATE](#READY_STATE) | [ready_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ready_state) | 
int | [character](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character) | 
string | [player_name](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_name) | 

## Particle types


### Particle

Used in [ParticleEmitterInfo](#ParticleEmitterInfo)

Type | Name | Description
---- | ---- | -----------
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
float | [velocityx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocityx) | 
float | [velocityy](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocityy) | 
[uColor](#Aliases) | [color](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=color) | 
float | [width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=width) | 
float | [height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=height) | 
int | [lifetime](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lifetime) | 
int | [max_lifetime](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=max_lifetime) | 

### ParticleDB

Used in [ParticleDB](#ParticleDB), [get_particle_type](#get_particle_type)

Type | Name | Description
---- | ---- | -----------
[ParticleDB](#ParticleDB) | [new(ParticleDB other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ParticleDB) | 
[ParticleDB](#ParticleDB) | [new(PARTICLEEMITTER particle_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ParticleDB) | 
[PARTICLEEMITTER](#PARTICLEEMITTER) | [id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=id) | 
int | [spawn_count_min](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_count_min) | 
int | [spawn_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_count) | 
int | [lifespan_min](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lifespan_min) | 
int | [lifespan](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lifespan) | 
int | [sheet_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sheet_id) | 
int | [animation_sequence_length](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animation_sequence_length) | 
float | [spawn_interval](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_interval) | 
float | [shrink_growth_factor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shrink_growth_factor) | 
float | [rotation_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_speed) | 
float | [opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=opacity) | 
float | [hor_scattering](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hor_scattering) | 
float | [ver_scattering](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ver_scattering) | 
float | [scale_x_min](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale_x_min) | 
float | [scale_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale_x) | 
float | [scale_y_min](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale_y_min) | 
float | [scale_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale_y) | 
float | [hor_deflection_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hor_deflection_1) | 
float | [ver_deflection_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ver_deflection_1) | 
float | [hor_deflection_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hor_deflection_2) | 
float | [ver_deflection_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ver_deflection_2) | 
float | [hor_velocity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hor_velocity) | 
float | [ver_velocity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ver_velocity) | 
int | [red](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=red) | 
int | [green](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=green) | 
int | [blue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blue) | 
bool | [permanent](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=permanent) | 
bool | [invisible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=invisible) | 
[TEXTURE](#TEXTURE) | [get_texture()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_texture) | 
bool | [set_texture(TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_texture) | 

### ParticleEmitterInfo

Generic type for creating particles in the game, you can make your own with [generate_world_particles](#generate_world_particles) or [generate_screen_particles](#generate_screen_particles)<br/>
Used in [ScreenCharacterSelect](#ScreenCharacterSelect), [ScreenTitle](#ScreenTitle), [CursedEffect](#CursedEffect), [OnFireEffect](#OnFireEffect), [PoisonedEffect](#PoisonedEffect) ...

Type | Name | Description
---- | ---- | -----------
[ParticleDB](#ParticleDB) | [particle_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_type) | 
[ParticleDB](#ParticleDB) | [particle_type2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_type2) | 
int | [particle_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_count) | 
int | [particle_count_back_layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_count_back_layer) | 
int | [entity_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entity_uid) | 
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
float | [offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_x) | 
float | [offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_y) | 
int | [layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=layer) | 
int | [draw_depth](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_depth) | 
array&lt;[Particle](#Particle)&gt; | [emitted_particles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_particles) | 
array&lt;[Particle](#Particle)&gt; | [emitted_particles_back_layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_particles_back_layer) | 

## Savegame types


### Constellation


Type | Name | Description
---- | ---- | -----------
int | [star_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=star_count) | 
array&lt;[ConstellationStar](#ConstellationStar), 45&gt; | [stars](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stars) | 
float | [scale](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale) | 
int | [line_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=line_count) | 
array&lt;[ConstellationLine](#ConstellationLine), 90&gt; | [lines](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lines) | 
float | [line_red_intensity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=line_red_intensity) | 

### ConstellationLine


Type | Name | Description
---- | ---- | -----------
int | [from](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=from) | 
int | [to](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=to) | 

### ConstellationStar


Type | Name | Description
---- | ---- | -----------
int | [type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=type) | 
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | 
float | [red](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=red) | 
float | [green](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=green) | 
float | [blue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blue) | 
float | [alpha](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=alpha) | 
float | [halo_red](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=halo_red) | 
float | [halo_green](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=halo_green) | 
float | [halo_blue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=halo_blue) | 
float | [halo_alpha](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=halo_alpha) | 
bool | [canis_ring](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=canis_ring) | 
bool | [fidelis_ring](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fidelis_ring) | 

### SaveData


Type | Name | Description
---- | ---- | -----------
array&lt;bool, 16&gt; | [places](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=places) | 
array&lt;bool, 78&gt; | [bestiary](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bestiary) | 
array&lt;bool, 38&gt; | [people](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=people) | 
array&lt;bool, 54&gt; | [items](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=items) | 
array&lt;bool, 24&gt; | [traps](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=traps) | 
string | [last_daily](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_daily) | 
int | [characters](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=characters) | 20bit bitmask of unlocked characters
int | [tutorial_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tutorial_state) | Tutorial state 0..4. Changes the camp layout, camera and lighting. (0=nothing, 1=journal got, 2=key spawned, 3=door unlocked, 4=complete)
int | [shortcuts](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shortcuts) | [Terra](#Terra) quest state 0..10 (0=not met ... 10=complete)
array&lt;int, 78&gt; | [bestiary_killed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bestiary_killed) | 
array&lt;int, 78&gt; | [bestiary_killed_by](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bestiary_killed_by) | 
array&lt;int, 38&gt; | [people_killed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=people_killed) | 
array&lt;int, 38&gt; | [people_killed_by](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=people_killed_by) | 
int | [plays](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=plays) | 
int | [deaths](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deaths) | 
int | [wins_normal](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wins_normal) | 
int | [wins_hard](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wins_hard) | 
int | [wins_special](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wins_special) | 
int | [score_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=score_total) | 
int | [score_top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=score_top) | 
int | [deepest_area](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deepest_area) | 
int | [deepest_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deepest_level) | 
int | [time_best](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_best) | 
int | [time_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_total) | 
int | [time_tutorial](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_tutorial) | 
array&lt;int, 20&gt; | [character_deaths](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_deaths) | 
array&lt;int, 3&gt; | [pets_rescued](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pets_rescued) | 
bool | [completed_normal](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=completed_normal) | 
bool | [completed_ironman](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=completed_ironman) | 
bool | [completed_hard](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=completed_hard) | 
bool | [profile_seen](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=profile_seen) | 
bool | [seeded_unlocked](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seeded_unlocked) | 
int | [world_last](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world_last) | 
int | [level_last](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_last) | 
int | [theme_last](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme_last) | 
int | [score_last](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=score_last) | 
int | [time_last](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_last) | 
array&lt;[ENT_TYPE](#ENT_TYPE), 20&gt; | [stickers](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stickers) | 
array&lt;int, 4&gt; | [players](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players) | 
[Constellation](#Constellation) | [constellation](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=constellation) | 

## Screen types


### FlyingThing


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [texture_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture_info) | 
[ENT_TYPE](#ENT_TYPE) | [entity_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entity_type) | 
float | [spritesheet_column](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spritesheet_column) | 
float | [spritesheet_row](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spritesheet_row) | 
float | [spritesheet_animation_length](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spritesheet_animation_length) | 
float | [velocity_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocity_x) | 
float | [amplitude](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=amplitude) | 
float | [frequency](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=frequency) | 
float | [sinewave_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sinewave_angle) | 

### JournalPopupUI

Used in [SaveRelated](#SaveRelated)

Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [wiggling_page_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wiggling_page_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [black_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=black_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [button_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=button_icon) | 
float | [wiggling_page_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wiggling_page_angle) | 
int | [chapter_to_show](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chapter_to_show) | 
int | [entry_to_show](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entry_to_show) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
float | [slide_position](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=slide_position) | 

### JournalUI


Type | Name | Description
---- | ---- | -----------
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | 
[JOURNALUI_PAGE_SHOWN](#JOURNALUI_PAGE_SHOWN) | [chapter_shown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chapter_shown) | 
int | [current_page](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=current_page) | 
int | [flipping_to_page](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flipping_to_page) | 
int | [max_page_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=max_page_count) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [book_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=book_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [arrow_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrow_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [arrow_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrow_right) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [entire_book](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entire_book) | 
int | [fade_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fade_timer) | 
int | [page_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=page_timer) | 
float | [opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=opacity) | 
vector&lt;[JournalPage](#JournalPage)&gt; | [pages](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pages) | Stores pages loaded into memory. It's not cleared after the journal is closed or when you go back to the main (menu) page.<br/>Use `:get_type()` to check page type and cast it correctly (see ON.[RENDER_PRE_JOURNAL_PAGE](#ON-RENDER_PRE_JOURNAL_PAGE))

### MenuScreenPanels


Type | Name | Description
---- | ---- | -----------
float | [woodpanels_velocity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanels_velocity) | 
float | [woodpanels_progress](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanels_progress) | 
float | [scroll_unfurl_progress](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll_unfurl_progress) | 
float | [bottom_woodpanel_speed_multiplayer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_woodpanel_speed_multiplayer) | 
float | [bottom_woodpanel_y_offset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_woodpanel_y_offset) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [bottom_woodpanel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_woodpanel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [top_woodpanel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_woodpanel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [top_woodpanel_left_scrollhandle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_woodpanel_left_scrollhandle) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [top_woodpanel_right_scrollhandle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_woodpanel_right_scrollhandle) | 
[STRINGID](#Aliases) | [scroll_text](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll_text) | 
[STRINGID](#Aliases) | [bottom_left_text](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_left_text) | 
[STRINGID](#Aliases) | [bottom_right_text](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_right_text) | 
[STRINGID](#Aliases) | [bottom_middle_text](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_middle_text) | 
bool | [top_woodpanel_visible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_woodpanel_visible) | 
bool | [bottom_woodpanel_visible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_woodpanel_visible) | 
bool | [toggle_woodpanel_slidein_animation](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=toggle_woodpanel_slidein_animation) | 
bool | [capitalize_scroll_text](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=capitalize_scroll_text) | 

### OnlineLobbyScreenPlayer


Type | Name | Description
---- | ---- | -----------
int | [platform_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=platform_icon) | 16 = PC, 17 = Discord, 18 = Steam, 19 = Xbox, 32 = switch, 48 = PS, 49 = PS again?
int | [character](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character) | 0 - Ana Spelunky, 1 - Margaret Tunnel, 2 - Colin Northward, 3 - Roffy D. Sloth.. and so on. Same order as in [ENT_TYPE](#ENT_TYPE)
bool | [ready](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ready) | 
bool | [searching](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=searching) | 

### PauseUI


Type | Name | Description
---- | ---- | -----------
float | [menu_slidein_progress](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=menu_slidein_progress) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [blurred_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blurred_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_middle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_middle) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_right) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_top) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [confirmation_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=confirmation_panel) | Prompt background
int | [selected_option](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_option) | It's set wh game displays the prompt
bool | [prompt_visible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=prompt_visible) | 
array&lt;int, MAX_PLAYERS&gt; | [buttons_actions](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons_actions) | 
array&lt;int, MAX_PLAYERS&gt; | [buttons_movement](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons_movement) | 
int | [visibility](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=visibility) | 0 - Invisible, 1 - Sliding down, 2 - Visible, 3 - Sliding up

### SaveRelated

Used in [GameManager](#GameManager)

Type | Name | Description
---- | ---- | -----------
[JournalPopupUI](#JournalPopupUI) | [journal_popup_ui](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_popup_ui) | 
map&lt;int, [JournalPageData](#JournalPageData)&gt; | [places_data](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=places_data) | Scale and offset not used in those pages. Can't add more
map&lt;[ENT_TYPE](#ENT_TYPE), [JournalBestiaryData](#JournalBestiaryData)&gt; | [bestiary_data](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bestiary_data) | 
map&lt;[ENT_TYPE](#ENT_TYPE), [ENT_TYPE](#ENT_TYPE)&gt; | [monster_part_to_main](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=monster_part_to_main) | used to map stuff like Osiris_Hand -> Osiris_Head, [Hundun](#Hundun) limbs -> [Hundun](#Hundun) etc.
map&lt;[ENT_TYPE](#ENT_TYPE), [JournalPeopleData](#JournalPeopleData)&gt; | [people_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=people_info) | 
map&lt;[ENT_TYPE](#ENT_TYPE), [ENT_TYPE](#ENT_TYPE)&gt; | [people_part_to_main](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=people_part_to_main) | used to map shopkeeper clone to shopkeeper only
map&lt;[ENT_TYPE](#ENT_TYPE), [JournalPageData](#JournalPageData)&gt; | [item_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_info) | 
map&lt;[ENT_TYPE](#ENT_TYPE), [JournalPageData](#JournalPageData)&gt; | [trap_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trap_info) | 
map&lt;[ENT_TYPE](#ENT_TYPE), [ENT_TYPE](#ENT_TYPE)&gt; | [trap_part_to_main](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trap_part_to_main) | used for stuff like upsidedown_spikes -> spikes, skulldrop skulls -> skulldrop trap etc.
map&lt;[ENT_TYPE](#ENT_TYPE), [StickersData](#StickersData)&gt; | [stickers_data](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stickers_data) | 
[SaveData](#SaveData) | [get_savegame()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_savegame) | Gets local version of the [SaveData](#SaveData)

### Screen


Type | Name | Description
---- | ---- | -----------
float | [render_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=render_timer) | 
nil | [init()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=init) | Initializes the screen.

### ScreenArenaIntro

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [players](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [background_colors](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=background_colors) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [vertical_lines](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vertical_lines) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [vertical_line_electricity_effect](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vertical_line_electricity_effect) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [left_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left_scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [right_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right_scroll) | 
float | [scroll_unfurl](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll_unfurl) | 
bool | [waiting](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=waiting) | 
float | [names_opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=names_opacity) | 
float | [line_electricity_effect_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=line_electricity_effect_timer) | 
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | 
int | [countdown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=countdown) | 
array&lt;[ParticleEmitterInfo](#ParticleEmitterInfo), 9&gt; | [particles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particles) | 

### ScreenArenaItems

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[MenuScreenPanels](#MenuScreenPanels) | [screen_panels](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_panels) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [brick_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brick_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [black_background_bottom_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=black_background_bottom_right) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_bottom) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [scroll_bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll_bottom) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [scroll_right_handle_bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll_right_handle_bottom) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [held_item_crate_on_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=held_item_crate_on_scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [held_item_on_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=held_item_on_scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [toggles_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=toggles_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_selection_gold_outline](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_selection_gold_outline) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_icons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_icons) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_held_badge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_held_badge) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_equipped_badge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_equipped_badge) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_off_gray_overlay](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_off_gray_overlay) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [esc_woodpanel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=esc_woodpanel) | 
map&lt;int, float&gt; | [items_to_gray_out](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=items_to_gray_out) | 
float | [center_panels_horizontal_slide_position](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=center_panels_horizontal_slide_position) | 
float | [esc_panel_slide_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=esc_panel_slide_timer) | 
int | [selected_item_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_item_index) | 
[ScreenControls](#ScreenControls) | [controls](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=controls) | 

### ScreenArenaLevel

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [get_ready](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_ready) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [get_ready_gray_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_ready_gray_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [get_ready_outline](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_ready_outline) | 
array&lt;[ParticleEmitterInfo](#ParticleEmitterInfo), 11&gt; | [particles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particles) | 

### ScreenArenaMenu

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[MenuScreenPanels](#MenuScreenPanels) | [screen_panels](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_panels) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [brick_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brick_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [blurry_border](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blurry_border) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [blurry_border2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blurry_border2) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [characters_drawing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=characters_drawing) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [info_black_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=info_black_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_panel_top_left_corner](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_top_left_corner) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_panel_top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_top) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_panel_top_right_corner](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_top_right_corner) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_panel_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_panel_center](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_center) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_panel_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_right) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_panel_bottom_left_corner](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_bottom_left_corner) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_panel_bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_bottom) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_panel_bottom_right_corner](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_bottom_right_corner) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [rules_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rules_scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [black_option_boxes_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=black_option_boxes_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [black_option_boxes_center](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=black_option_boxes_center) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [black_option_boxes_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=black_option_boxes_right) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [gold_option_outline](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gold_option_outline) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [option_icons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=option_icons) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [option_left_arrow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=option_left_arrow) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [option_right_arrow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=option_right_arrow) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [bottom_left_bricks](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_left_bricks) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [top_left_esc_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_left_esc_panel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [next_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=next_panel) | 
float | [center_panels_hor_slide_position](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=center_panels_hor_slide_position) | 
float | [esc_next_panels_slide_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=esc_next_panels_slide_timer) | 
float | [main_panel_vertical_scroll_position](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_panel_vertical_scroll_position) | 
int | [selected_option_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_option_index) | 
[ScreenControls](#ScreenControls) | [controls](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=controls) | 

### ScreenArenaScore

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
float | [woodpanel_slide](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_slide) | 
float | [scroll_unfurl](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll_unfurl) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_left_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_left_scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_right_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_right_scroll) | 
[STRINGID](#Aliases) | [text_id_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=text_id_1) | 
[STRINGID](#Aliases) | [text_id_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=text_id_2) | 
bool | [woodpanel_visible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_visible) | 
bool | [woodpanel_slide_toggle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_slide_toggle) | 
int | [animation_sequence](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animation_sequence) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [ok_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ok_panel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [ready_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ready_panel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [ready_speechbubble_indicator](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ready_speechbubble_indicator) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [pillars](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pillars) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [bottom_lava](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_lava) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [players](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [player_shadows](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_shadows) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [score_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=score_counter) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [lava_bubbles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lava_bubbles) | 
array&lt;bool, MAX_PLAYERS&gt; | [player_won](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_won) | 
float | [victory_jump_y_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=victory_jump_y_pos) | 
float | [victory_jump_velocity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=victory_jump_velocity) | 
bool | [squash_and_celebrate](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=squash_and_celebrate) | 
array&lt;bool, MAX_PLAYERS&gt; | [player_ready](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_ready) | 
int | [next_transition_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=next_transition_timer) | 
array&lt;float, MAX_PLAYERS&gt; | [player_bottom_pillar_offset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_bottom_pillar_offset) | 
array&lt;float, MAX_PLAYERS&gt; | [player_crushing_pillar_height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_crushing_pillar_height) | 
array&lt;bool, MAX_PLAYERS&gt; | [player_create_giblets](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_create_giblets) | 
float | [next_sidepanel_slidein_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=next_sidepanel_slidein_timer) | 
array&lt;[ParticleEmitterInfo](#ParticleEmitterInfo), 13&gt; | [particles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particles) | 
array&lt;[ScreenArenaScoreLavaBubble](#ScreenArenaScoreLavaBubble), 15&gt; | [lava_bubbles_positions](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lava_bubbles_positions) | 

### ScreenArenaScoreLavaBubble


Type | Name | Description
---- | ---- | -----------
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
int | [timer1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer1) | 
int | [timer2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer2) | 
bool | [visible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=visible) | 

### ScreenArenaStagesSelect

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[MenuScreenPanels](#MenuScreenPanels) | [screen_panels](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_panels) | 
int | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [brick_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brick_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [info_black_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=info_black_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodenpanel_center](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodenpanel_center) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [blocky_level_representation](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blocky_level_representation) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [theme_indicator](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme_indicator) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [bricks_bottom_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bricks_bottom_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_row_0](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_row_0) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_row_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_row_1) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_row_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_row_2) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_row_3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_row_3) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_row_4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_row_4) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_row_5](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_row_5) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_row_6](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_row_6) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_row_7](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_row_7) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_disabled_cross](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_disabled_cross) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_background_manipulators](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_background_manipulators) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [unknown21](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unknown21) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_disabled_cross](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_disabled_cross) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_yellow_highlighter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_yellow_highlighter) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_esc](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_esc) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_fight](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_fight) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [big_player_drawing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=big_player_drawing) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [players_turn_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players_turn_scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [players_turn_scroll_handle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players_turn_scroll_handle) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [grid_player_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_player_icon) | 
map&lt;int, float&gt; | [stages_to_gray_out](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stages_to_gray_out) | 
float | [panels_slide_from_both_sides](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=panels_slide_from_both_sides) | 
float | [visibility_all_stages](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=visibility_all_stages) | 
int | [selected_stage_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_stage_index) | 
[ScreenControls](#ScreenControls) | [controls](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=controls) | 

### ScreenCamp

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
int | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 

### ScreenCharacterSelect

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
float | [main_background_zoom_progress](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_background_zoom_progress) | 
float | [main_background_zoom_target](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_background_zoom_target) | 
float | [blurred_border_zoom_progress](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blurred_border_zoom_progress) | 
float | [blurred_border_zoom_target](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blurred_border_zoom_target) | 
[MenuScreenPanels](#MenuScreenPanels) | [screen_panels](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_panels) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [mine_entrance_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mine_entrance_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character_shadow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_shadow) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character_flag](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_flag) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character_left_arrow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_left_arrow) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character_right_arrow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_right_arrow) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [mine_entrance_border](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mine_entrance_border) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [mine_entrance_shutter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mine_entrance_shutter) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [blurred_border](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blurred_border) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [blurred_border2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blurred_border2) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [topleft_woodpanel_esc](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=topleft_woodpanel_esc) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [start_sidepanel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_sidepanel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [quick_select_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=quick_select_panel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [quick_select_selected_char_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=quick_select_selected_char_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [quick_select_panel_related](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=quick_select_panel_related) | 
array&lt;float, MAX_PLAYERS&gt; | [player_shutter_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_shutter_timer) | 
array&lt;float, MAX_PLAYERS&gt; | [player_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_x) | 
array&lt;float, MAX_PLAYERS&gt; | [player_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_y) | 
array&lt;array&lt;float, 2&gt;, MAX_PLAYERS&gt; | [player_arrow_slidein_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_arrow_slidein_timer) | 
array&lt;bool, MAX_PLAYERS&gt; | [player_facing_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_facing_left) | 
array&lt;bool, MAX_PLAYERS&gt; | [player_quickselect_shown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_quickselect_shown) | 
array&lt;float, MAX_PLAYERS&gt; | [player_quickselect_fadein_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_quickselect_fadein_timer) | 
array&lt;array&lt;float, 2&gt;, MAX_PLAYERS&gt; | [player_quickselect_coords](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_quickselect_coords) | 
array&lt;float, MAX_PLAYERS&gt; | [player_quickselect_wiggle_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_quickselect_wiggle_angle) | 
float | [topleft_woodpanel_esc_slidein](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=topleft_woodpanel_esc_slidein) | 
float | [start_panel_slidein](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_panel_slidein) | 
float | [action_buttons_keycap_size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=action_buttons_keycap_size) | 
bool | [screen_loading](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_loading) | 
bool | [seeded_run](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seeded_run) | 
bool | [daily_challenge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=daily_challenge) | 
bool | [arena](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena) | Short for `screen->next_screen_to_load == SCREEN.TEAM_SELECT and not screen->seeded_run and not screen->daily_challenge` 
int | [next_screen_to_load](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=next_screen_to_load) | 
bool | [not_ready_to_start_yet](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=not_ready_to_start_yet) | 
int | [available_mine_entrances](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=available_mine_entrances) | 
int | [amount_of_mine_entrances_activated](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=amount_of_mine_entrances_activated) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [screen_blackout](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_blackout) | 
float | [blackout_transparency](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blackout_transparency) | 
bool | [start_pressed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_pressed) | 
bool | [transition_to_game_started](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=transition_to_game_started) | 
bool | [disable_controls](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=disable_controls) | 
array&lt;[FlyingThing](#FlyingThing), 6&gt; | [flying_things](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flying_things) | 
int | [flying_thing_countdown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flying_thing_countdown) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_ceilingdust_smoke](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_ceilingdust_smoke) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_ceilingdust_rubble](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_ceilingdust_rubble) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_mist](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_mist) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_smoke1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_smoke1) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_flames1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_flames1) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_smoke2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_smoke2) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_flames2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_flames2) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_smoke3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_smoke3) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_flames3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_flames3) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_smoke4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_smoke4) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_flames4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_flames4) | 
array&lt;[SoundMeta](#SoundMeta), 4&gt; | [torch_sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=torch_sound) | 
array&lt;int, MAX_PLAYERS&gt; | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 

### ScreenCodeInput

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[MenuScreenPanels](#MenuScreenPanels) | [screen_panels](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_panels) | 
bool | [allow_random](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=allow_random) | needs to be set before opening the screen to show the correct text at the bottom
int | [selected_button_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_button_index) | 
bool | [pressed_select](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pressed_select) | 
float | [topleft_woodpanel_esc_slidein](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=topleft_woodpanel_esc_slidein) | 
[STRINGID](#Aliases) | [scroll_text_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll_text_id) | 
[STRINGID](#Aliases) | [start_text_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_text_id) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_woodpanel_left_border](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_woodpanel_left_border) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_woodpanel_center](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_woodpanel_center) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [main_woodpanel_right_border](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_woodpanel_right_border) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [top_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [letter_cutouts](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=letter_cutouts) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [hand_pointer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hand_pointer) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [key_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=key_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [topleft_woodpanel_esc](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=topleft_woodpanel_esc) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [start_sidepanel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_sidepanel) | 
float | [start_sidepanel_slidein](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_sidepanel_slidein) | 
int | [seed_length](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seed_length) | Current input length (0-8). You probably shouldn't write to this, except to set it to 0.
optional&lt;int&gt; | [get_seed()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_seed) | Get the seed currently entered in the seed dialog or nil if nothing is entered. Will also return incomplete seeds, check seed_length to verify it's ready.
nil | [set_seed(optional<int> seed, optional<int> length)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_seed) | Set the seed entered in the seed dialog. Call without arguments to clear entered seed. Optionally enter a length to set partial seed.

### ScreenConstellation


```lua
-- forces any level transition to immediately go to constellation ending with custom text
set_callback(function()
    if state.screen_next == SCREEN.TRANSITION then
      if state.level_count == 0 then state.level_count = 1 end -- no /0
      state.win_state = WIN_STATE.COSMIC_OCEAN_WIN
      state.screen_next = SCREEN.CONSTELLATION
      state.world_next = 8
      state.level_next = 99
      state.theme_next = THEME.COSMIC_OCEAN
      state.level_gen.themes[THEME.COSMIC_OCEAN].sub_theme = state.level_gen.themes[state.theme]
      state:force_current_theme(THEME.COSMIC_OCEAN)
      set_global_interval(function()
        if state.screen_constellation.sequence_state == 2 then
          state.screen_constellation.constellation_text = "Lol u stars now"
          clear_callback()
        end
      end, 1)
    end
  end, ON.PRE_LOAD_SCREEN)

```

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
int | [sequence_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sequence_state) | 
int | [animation_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animation_timer) | 
float | [constellation_text_opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=constellation_text_opacity) | 
string | [constellation_text](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=constellation_text) | 
[SoundMeta](#SoundMeta) | [explosion_and_loop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=explosion_and_loop) | 
[SoundMeta](#SoundMeta) | [music](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=music) | 

### ScreenControls


Type | Name | Description
---- | ---- | -----------
bool | [up](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=up) | 
bool | [down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=down) | 
bool | [left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left) | 
bool | [right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right) | 
int | [direction_input](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=direction_input) | -1 - none, 0 - UP, 1 - DOWN, 2 - LEFT, 3 - RIGHT
int | [hold_down_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hold_down_timer) | Delay after which fast scroll activates (can stop at different value, only matters when you hold down the direction button)
int | [fast_scroll_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fast_scroll_timer) | 

### ScreenCredits

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
float | [credits_progression](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=credits_progression) | 
[SoundMeta](#SoundMeta) | [bg_music_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bg_music_info) | 

### ScreenDeath

The POST render call will only be visible in the polaroid area on the left of the book. The Journal is drawn on top of that.
Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------

### ScreenEnterOnlineCode

Available in [ScreenOnlineLobby](#ScreenOnlineLobby)
Derived from [Screen](#Screen) [ScreenCodeInput](#ScreenCodeInput)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [enter_code_your_code_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enter_code_your_code_scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [enter_code_your_code_scroll_left_handle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enter_code_your_code_scroll_left_handle) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [enter_code_your_code_scroll_right_handle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enter_code_your_code_scroll_right_handle) | 

### ScreenIntro

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [blackout_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blackout_background) | 
float | [blackout_alpha](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blackout_alpha) | 
bool | [active](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=active) | ends the intro immediately if set to false
bool | [skip_prologue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=skip_prologue) | skips prologue and goes straight to the title screen after the intro

### ScreenLevel

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
int | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 

### ScreenLogo

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [logo_mossmouth](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=logo_mossmouth) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [logo_blitworks](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=logo_blitworks) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [logo_fmod](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=logo_fmod) | 
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | 0 - mossmouth, 1 - blitworks, 2 - fmod, 3 - end (next screen)
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### ScreenMenu

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | 0: "cthulhu_pre_movement",<br/>1: "cthulhu_rotating",<br/>2: "cthulhu_separating",<br/>3: "cthulhu_lowering",<br/>4: "cthulhu_transition_to_menu",<br/>5: "return_from_backlayer",<br/>6: "highlight_selection",<br/>7: "idle",<br/>8: "to_submenu",<br/>9: "to_backlayer",<br/>10: "backlayer_idle"
[TextureRenderingInfo](#TextureRenderingInfo) | [tunnel_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tunnel_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [cthulhu_disc](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cthulhu_disc) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [tunnel_ring_darkbrown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tunnel_ring_darkbrown) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [cthulhu_body](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cthulhu_body) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [tunnel_ring_lightbrown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tunnel_ring_lightbrown) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [vine_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vine_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [vine_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vine_right) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [skull_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=skull_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [salamander_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=salamander_right) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [left_spear](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left_spear) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [right_spear](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right_spear) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [spear_dangler_related](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spear_dangler_related) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [play_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=play_scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [info_toast](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=info_toast) | 
[SoundMeta](#SoundMeta) | [cthulhu_sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cthulhu_sound) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_smoke](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_smoke) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_rubble](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_rubble) | 
float | [cthulhu_disc_ring_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cthulhu_disc_ring_angle) | 
float | [cthulhu_disc_split_progress](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cthulhu_disc_split_progress) | 
float | [cthulhu_disc_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cthulhu_disc_y) | 
float | [cthulhu_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cthulhu_timer) | 
[ScreenControls](#ScreenControls) | [controls](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=controls) | 
int | [selected_menu_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_menu_index) | 
int | [sides_hold_down_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sides_hold_down_timer) | 
int | [sides_fast_scroll_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sides_fast_scroll_timer) | 
bool | [loop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=loop) | Allow going up from first to last option
int | [menu_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=menu_id) | 0 = main menu, 1 = play, 2 = online
int | [transfer_to_menu_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=transfer_to_menu_id) | 
float | [menu_text_opacity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=menu_text_opacity) | 
array&lt;float, 6&gt; | [spear_position](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spear_position) | 
array&lt;[SpritePosition](#SpritePosition), 6&gt; | [spear_dangler](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spear_dangler) | 
array&lt;int, 6&gt; | [spear_dangle_momentum](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spear_dangle_momentum) | 
array&lt;int, 6&gt; | [spear_dangle_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spear_dangle_angle) | 
float | [play_scroll_descend_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=play_scroll_descend_timer) | 
[STRINGID](#Aliases) | [scroll_text](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll_text) | 
float | [shake_offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake_offset_x) | 
float | [shake_offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake_offset_y) | 
bool | [loaded_once](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=loaded_once) | Set to true when going from title to menu screen for the first time, makes sure the animation play once

### ScreenOnlineLoading

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [ouroboros](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ouroboros) | 
float | [ouroboros_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ouroboros_angle) | 

### ScreenOnlineLobby

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[MenuScreenPanels](#MenuScreenPanels) | [screen_panels](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_panels) | 
array&lt;[OnlineLobbyScreenPlayer](#OnlineLobbyScreenPlayer), 4&gt; | [players](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [background_image](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=background_image) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [topleft_woodpanel_esc](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=topleft_woodpanel_esc) | 
float | [topleft_woodpanel_esc_slidein](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=topleft_woodpanel_esc_slidein) | 
float | [character_walk_offset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_walk_offset) | 
bool | [character_facing_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character_facing_left) | 
int | [move_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_direction) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [character](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [player_ready_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_ready_icon) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [arrow_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrow_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [arrow_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrow_right) | 
float | [arrow_left_hor_offset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrow_left_hor_offset) | 
float | [arrow_right_hor_offset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrow_right_hor_offset) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [platform_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=platform_icon) | 
int | [player_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_count) | 
bool | [searching_for_players](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=searching_for_players) | 
bool | [show_code_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=show_code_panel) | 
[ScreenEnterOnlineCode](#ScreenEnterOnlineCode) | [screen_code_input](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_code_input) | 

### ScreenOptions

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
bool | [down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=down) | 
bool | [up](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=up) | 
int | [direction_input](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=direction_input) | -1 = none, 0 = down, 1 = up
int | [hold_down_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hold_down_timer) | 
int | [fast_scroll_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fast_scroll_timer) | 
int | [selected_menu_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_menu_index) | 
int | [sides_hold_down_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sides_hold_down_timer) | 
int | [sides_fast_scroll_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sides_fast_scroll_timer) | 
bool | [loop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=loop) | Allow going up from first to last option
[MenuScreenPanels](#MenuScreenPanels) | [screen_panels](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_panels) | 
int | [menu_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=menu_id) | 
int | [transfer_to_menu_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=transfer_to_menu_id) | 
bool | [show_apply_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=show_apply_button) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [topleft_woodpanel_esc](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=topleft_woodpanel_esc) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [brick_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brick_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [brick_middlelayer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brick_middlelayer) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [brick_foreground](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brick_foreground) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [selected_item_rounded_rect](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_item_rounded_rect) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [selected_item_scarab](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_item_scarab) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_option_arrow_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_option_arrow_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [item_option_arrow_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_option_arrow_right) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [tooltip_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tooltip_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [progressbar_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=progressbar_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [volume_progressbar_foreground](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volume_progressbar_foreground) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [progressbar_foreground](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=progressbar_foreground) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [volume_progressbar_position_indicator](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=volume_progressbar_position_indicator) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [sectionheader_background](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sectionheader_background) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [pet_icons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pet_icons) | In "Gameplay" menu
[TextureRenderingInfo](#TextureRenderingInfo) | [bottom_scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_scroll) | For the code in the sync menu
[TextureRenderingInfo](#TextureRenderingInfo) | [bottom_left_scrollhandle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_left_scrollhandle) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [bottom_right_scrollhandle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom_right_scrollhandle) | 
float | [topleft_woodpanel_esc_slidein](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=topleft_woodpanel_esc_slidein) | 
float | [text_fadein](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=text_fadein) | 
float | [vertical_scroll_effect](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vertical_scroll_effect) | 
bool | [options_visiable](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=options_visiable) | 
bool | [show_highlight](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=show_highlight) | Shows the red background behind the option, the scarab on the left and left/right arrows
vector&lt;[STRINGID](#Aliases)&gt; | [tooltip_text](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tooltip_text) | 
bool | [disable_controls](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=disable_controls) | Used for sync progress
int | [sync_progress_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sync_progress_state) | 0 - none, 1 - waiting for the code, 2 - code acquired, 3 - sync in progress, 4 - sync completed
float | [credits_progression](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=credits_progression) | 

### ScreenPrologue

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[STRINGID](#Aliases) | [line1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=line1) | 
[STRINGID](#Aliases) | [line2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=line2) | 
[STRINGID](#Aliases) | [line3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=line3) | 
float | [line1_alpha](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=line1_alpha) | 
float | [line2_alpha](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=line2_alpha) | 
float | [line3_alpha](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=line3_alpha) | 

### ScreenRecap

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------

### ScreenScores

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
int | [animation_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animation_state) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel1) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel2) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel3) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_cutout](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_cutout) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [dollarsign](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dollarsign) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [hourglass](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hourglass) | 
int | [animation_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animation_timer) | 
float | [woodpanel_slidedown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_slidedown_timer) | 

### ScreenStateCamp

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
int | [time_till_reset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_till_reset) | Delay after player death to reset camp

### ScreenStateLevel

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
int | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 
int | [time_till_death_screen](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_till_death_screen) | Delay after player death to open the death screen

### ScreenTeamSelect

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [player_portrait](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_portrait) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [scroll_bottom_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll_bottom_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [scrollend_bottom_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scrollend_bottom_left) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [four_ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=four_ropes) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [gems_above_the_ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gems_above_the_ropes) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [four_characters](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=four_characters) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [left_arrow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left_arrow) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [right_arrow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right_arrow) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [start_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_panel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [go_back_wooden_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=go_back_wooden_panel) | 
float | [start_panel_slide](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_panel_slide) | 
float | [go_back_wooden_panel_slide](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=go_back_wooden_panel_slide) | 
float | [pulsating_arrows_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pulsating_arrows_timer) | 
int | [selected_player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=selected_player) | 
int | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 
bool | [ready](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ready) | 

### ScreenTitle

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
[TextureRenderingInfo](#TextureRenderingInfo) | [logo_spelunky2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=logo_spelunky2) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [ana](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ana) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [ana_right_eyeball_torch_reflection](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ana_right_eyeball_torch_reflection) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [ana_left_eyeball_torch_reflection](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ana_left_eyeball_torch_reflection) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_smoke](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_smoke) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_backflames](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_backflames) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_flames](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_flames) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_backflames_animated](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_backflames_animated) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_flames_animated](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_flames_animated) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_torchflame_ash](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_torchflame_ash) | 
float | [brightness](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=brightness) | 
[SoundMeta](#SoundMeta) | [music](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=music) | 
[SoundMeta](#SoundMeta) | [torch_sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=torch_sound) | 

### ScreenTransition

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
float | [woodpanel_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_pos) | 
float | [stats_scroll_horizontal_posaa](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stats_scroll_horizontal_posaa) | 
float | [stats_scroll_vertical_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stats_scroll_vertical_pos) | 
float | [level_completed_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_completed_pos) | 
float | [stats_scroll_unfurl_actualvalue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stats_scroll_unfurl_actualvalue) | 
float | [stats_scroll_unfurl_targetvalue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stats_scroll_unfurl_targetvalue) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel1) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel2) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel3) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_cutout1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_cutout1) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_cutout2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_cutout2) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_cutout3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_cutout3) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodplank](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodplank) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_bottomcutout1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_bottomcutout1) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_bottomcutout2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_bottomcutout2) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_bottomcutout3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_bottomcutout3) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [scroll](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scroll) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [stats_scroll_top_bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stats_scroll_top_bottom) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [killcount_rounded_rect](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=killcount_rounded_rect) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [level_completed_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_completed_panel) | 
int | [stats_scroll_state_1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stats_scroll_state_1) | 
int | [stats_scroll_state_2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stats_scroll_state_2) | 
bool | [hide_press_to_go_next_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hide_press_to_go_next_level) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [mama_tunnel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [speechbubble](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speechbubble) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [speechbubble_arrow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speechbubble_arrow) | 
float | [mama_tunnel_fade_targetvalue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel_fade_targetvalue) | 
float | [mama_tunnel_fade_targetvalue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel_fade_targetvalue) | 
[STRINGID](#Aliases) | [mama_tunnel_text_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel_text_id) | 
bool | [mama_tunnel_choice_visible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel_choice_visible) | 
bool | [mama_tunnel_agree_with_gift](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel_agree_with_gift) | 
bool | [mama_tunnel_face_invisible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel_face_invisible) | 
float | [mama_tunnel_face_transparency](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel_face_transparency) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [mama_tunnel_agree_panel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel_agree_panel) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [mama_tunnel_agree_panel_indicator](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mama_tunnel_agree_panel_indicator) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_cutout_big_money1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_cutout_big_money1) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_cutout_big_money2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_cutout_big_money2) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [woodpanel_cutout_big_money3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=woodpanel_cutout_big_money3) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [big_dollar_sign](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=big_dollar_sign) | 
int | [stats_scroll_unfurl_sequence](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stats_scroll_unfurl_sequence) | 
array&lt;int, MAX_PLAYERS&gt; | [player_stats_scroll_numeric_value](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_stats_scroll_numeric_value) | 
array&lt;[TextureRenderingInfo](#TextureRenderingInfo), MAX_PLAYERS&gt; | [player_secondary_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_secondary_icon) | 
array&lt;[TextureRenderingInfo](#TextureRenderingInfo), MAX_PLAYERS&gt; | [player_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_icon) | 
array&lt;int, MAX_PLAYERS&gt; | [player_secondary_icon_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_secondary_icon_type) | 
array&lt;int, MAX_PLAYERS&gt; | [player_icon_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_icon_index) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [hourglasses](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hourglasses) | 
[TextureRenderingInfo](#TextureRenderingInfo) | [small_dollar_signs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=small_dollar_signs) | 
[Color](#Color) | [this_level_money_color](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=this_level_money_color) | 
array&lt;int, MAX_PLAYERS&gt; | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 

### ScreenWin

Derived from [Screen](#Screen)


Type | Name | Description
---- | ---- | -----------
int | [sequence_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sequence_timer) | 
int | [frame_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=frame_timer) | 
int | [animation_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animation_state) | 
[Entity](#Entity) | [rescuing_ship_entity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rescuing_ship_entity) | 

## Sound types


### BackgroundSound

Derived from [SoundMeta](#SoundMeta)


Type | Name | Description
---- | ---- | -----------

### CustomSound

Handle to a loaded sound, can be used to play the sound and receive a `PlayingSound` for more control
It is up to you to not release this as long as any sounds returned by `CustomSound:play()` are still playing

Type | Name | Description
---- | ---- | -----------
[PlayingSound](#PlayingSound) | [play()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=play) | 
[PlayingSound](#PlayingSound) | [play(bool paused)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=play) | 
[PlayingSound](#PlayingSound) | [play(bool paused, SOUND_TYPE sound_type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=play) | 
map&lt;[VANILLA_SOUND_PARAM](#VANILLA_SOUND_PARAM), string&gt; | [get_parameters()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_parameters) | 

### PlayingSound

Handle to a playing sound, start the sound paused to make sure you can apply changes before playing it
You can just discard this handle if you do not need extended control anymore

Type | Name | Description
---- | ---- | -----------
bool | [is_playing()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_playing) | 
bool | [stop()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stop) | 
bool | [set_pause(bool pause)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pause) | 
bool | [set_mute(bool mute)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_mute) | 
bool | [set_pitch(float pitch)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pitch) | 
bool | [set_pan(float pan)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pan) | 
bool | [set_volume(float volume)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_volume) | 
bool | [set_looping(SOUND_LOOP_MODE loop_mode)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_looping) | 
bool | [set_callback(function callback)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_callback) | 
map&lt;[VANILLA_SOUND_PARAM](#VANILLA_SOUND_PARAM), string&gt; | [get_parameters()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_parameters) | 
optional&lt;float&gt; | [get_parameter(VANILLA_SOUND_PARAM parameter_index)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_parameter) | 
bool | [set_parameter(VANILLA_SOUND_PARAM parameter_index, float value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_parameter) | 

### SoundInfo


Type | Name | Description
---- | ---- | -----------
[SOUNDID](#Aliases) | [sound_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound_id) | 
[VANILLA_SOUND](#VANILLA_SOUND) | [sound_name](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound_name) | 

### SoundMeta


Type | Name | Description
---- | ---- | -----------
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
[SoundInfo](#SoundInfo) | [sound_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound_info) | 
array&lt;float, 38&gt; | [left_channel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left_channel) | Use [VANILLA_SOUND_PARAM](#VANILLA_SOUND_PARAM) as index, warning: special case with first index at 0, loop using pairs will get you all results but the key/index will be wrong, ipairs will have correct key/index but will skip the first element
array&lt;float, 38&gt; | [right_channel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right_channel) | Use [VANILLA_SOUND_PARAM](#VANILLA_SOUND_PARAM) as index warning: special case with first index at 0, loop using pairs will get you all results but the key/index will be wrong, ipairs will have correct key/index but will skip the first element
bool | [start_over](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_over) | when false, current track starts from the beginning, is immediately set back to true
bool | [playing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=playing) | set to false to turn off
nil | [start()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start) | 

## State types


### Camera


Type | Name | Description
---- | ---- | -----------
float | [bounds_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bounds_left) | 
float | [bounds_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bounds_right) | 
float | [bounds_bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bounds_bottom) | 
float | [bounds_top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bounds_top) | 
float | [calculated_focus_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=calculated_focus_x) | 
float | [calculated_focus_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=calculated_focus_y) | 
float | [adjusted_focus_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=adjusted_focus_x) | 
float | [adjusted_focus_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=adjusted_focus_y) | 
float | [focus_offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=focus_offset_x) | 
float | [focus_offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=focus_offset_y) | 
float | [focus_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=focus_x) | 
float | [focus_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=focus_y) | 
float | [vertical_pan](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vertical_pan) | 
int | [shake_countdown_start](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake_countdown_start) | 
int | [shake_countdown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake_countdown) | 
float | [shake_amplitude](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake_amplitude) | 
float | [shake_multiplier_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake_multiplier_x) | 
float | [shake_multiplier_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake_multiplier_y) | 
bool | [uniform_shake](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=uniform_shake) | 
int | [focused_entity_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=focused_entity_uid) | if set to -1, you have free control over camera focus through focus_x, focus_y
float | [inertia](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inertia) | This is a bad name, but it represents the camera tweening speed. [0..5] where 0=still, 1=default (move 20% of distance per frame), 5=max (move 5*20% or 100% aka instantly to destination per frame)
int | [peek_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=peek_timer) | amount of frames to freeze camera in place and move to the peek_layer<br/>during the peek you can freely set camera position no matter if focused_entity_uid is set to -1 or not
int | [peek_layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=peek_layer) | 
[AABB](#AABB) | [get_bounds()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_bounds) | 
nil | [set_bounds(AABB bounds)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_bounds) | 

### GameManager

Can be accessed via global [game_manager](#game_manager)

Type | Name | Description
---- | ---- | -----------
[BackgroundMusic](#BackgroundMusic) | [music](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=music) | 
[GameProps](#GameProps) | [game_props](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=game_props) | 
[ScreenLogo](#ScreenLogo) | [screen_logo](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_logo) | 
[ScreenIntro](#ScreenIntro) | [screen_intro](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_intro) | 
[ScreenPrologue](#ScreenPrologue) | [screen_prologue](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_prologue) | 
[ScreenTitle](#ScreenTitle) | [screen_title](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_title) | 
[ScreenMenu](#ScreenMenu) | [screen_menu](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_menu) | 
[ScreenOptions](#ScreenOptions) | [screen_options](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_options) | 
[Screen](#Screen) | [screen_player_profile](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_player_profile) | It just opens journal
[Screen](#Screen) | [screen_leaderboards](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_leaderboards) | All handled by the [Online](#Online)
[ScreenCodeInput](#ScreenCodeInput) | [screen_seed_input](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_seed_input) | 
[ScreenCamp](#ScreenCamp) | [screen_camp](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_camp) | 
[ScreenLevel](#ScreenLevel) | [screen_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_level) | 
[Screen](#Screen) | [screen_transition](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_transition) | 
[Screen](#Screen) | [screen_arena_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_arena_level) | 
[Screen](#Screen) | [screen_arena_score](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_arena_score) | 
[ScreenOnlineLoading](#ScreenOnlineLoading) | [screen_online_loading](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_online_loading) | 
[ScreenOnlineLobby](#ScreenOnlineLobby) | [screen_online_lobby](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_online_lobby) | 
[PauseUI](#PauseUI) | [pause_ui](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause_ui) | 
[JournalUI](#JournalUI) | [journal_ui](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_ui) | 
[SaveRelated](#SaveRelated) | [save_related](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=save_related) | 
[BackgroundSound](#BackgroundSound) | [main_menu_music](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=main_menu_music) | 
array&lt;int, MAX_PLAYERS&gt; | [buttons_controls](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons_controls) | Yet another place to get player inputs, in some format
array&lt;int, MAX_PLAYERS&gt; | [buttons_movement](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons_movement) | Yet another place to get player inputs, in some format

### GameProps


Type | Name | Description
---- | ---- | -----------
array&lt;int, MAX_PLAYERS&gt; | [input](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=input) | Used for player input and might be used for some menu inputs not found in buttons_menu. You can probably capture and edit this in [ON](#ON).POST_PROCESS_INPUT. These are raw inputs, without things like autorun applied.
array&lt;int, MAX_PLAYERS&gt; | [input_previous](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=input_previous) | 
[MENU_INPUT](#MENU_INPUT) | [input_menu](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=input_menu) | Inputs used to control all the menus, separate from player inputs. You can probably capture and edit this in [ON](#ON).POST_PROCESS_INPUT
[MENU_INPUT](#MENU_INPUT) | [input_menu_previous](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=input_menu_previous) | Previous state of buttons_menu
bool | [game_has_focus](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=game_has_focus) | 
bool | [menu_open](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=menu_open) | 
array&lt;int, 5&gt; | [input_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=input_index) | Input index for players 1-4 and maybe for the menu controls. -1: disabled, 0..3: keyboards, 4..7: Xinput, 8..11: other controllers

### Items

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
int | [player_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_count) | 
int | [saved_pets_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=saved_pets_count) | Only for the level transition, the actual number is held in player inventory
array&lt;[ENT_TYPE](#ENT_TYPE), 4&gt; | [saved_pets](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=saved_pets) | [Pet](#Pet) information for level transition
array&lt;bool, 4&gt; | [is_pet_cursed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_pet_cursed) | 
array&lt;bool, 4&gt; | [is_pet_poisoned](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_pet_poisoned) | 
int | [leader](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=leader) | Index of leader player in coop
array&lt;[SelectPlayerSlot](#SelectPlayerSlot), MAX_PLAYERS&gt; | [player_select](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_select) | 
array&lt;[Inventory](#Inventory), MAX_PLAYERS&gt; | [player_inventory](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_inventory) | 
array&lt;[Player](#Player), MAX_PLAYERS&gt; | [players](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players) | Table of players, also keeps the dead body until they are destroyed (necromancer revive also destroys the old body)

### JournalProgressStainSlot

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
float | [angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=angle) | 
float | [scale](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale) | 
int | [texture_column](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture_column) | 
int | [texture_row](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture_row) | 
int | [texture_range](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture_range) | 

### JournalProgressStickerSlot

Used in [StateMemory](#StateMemory)

Type | Name | Description
---- | ---- | -----------
int | [theme](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme) | 
int | [grid_position](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grid_position) | 
[ENT_TYPE](#ENT_TYPE) | [entity_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entity_type) | 
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
float | [angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=angle) | 

### PlayerSlot


Type | Name | Description
---- | ---- | -----------
[INPUTS](#INPUTS) | [buttons_gameplay](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons_gameplay) | 
[INPUTS](#INPUTS) | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 
[InputMapping](#InputMapping) | [input_mapping_keyboard](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=input_mapping_keyboard) | 
[InputMapping](#InputMapping) | [input_mapping_controller](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=input_mapping_controller) | 
int | [player_slot](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_slot) | 
bool | [is_participating](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_participating) | 

### PlayerSlotSettings


Type | Name | Description
---- | ---- | -----------
bool | [controller_vibration](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=controller_vibration) | 
bool | [auto_run_enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=auto_run_enabled) | 
bool | [controller_right_stick](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=controller_right_stick) | 

### QuestsInfo


Type | Name | Description
---- | ---- | -----------
int | [yang_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=yang_state) | 
int | [jungle_sisters_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jungle_sisters_flags) | 
int | [van_horsing_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=van_horsing_state) | 
int | [sparrow_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sparrow_state) | 
int | [madame_tusk_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=madame_tusk_state) | 
int | [beg_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=beg_state) | 

### SelectPlayerSlot

Used in [Items](#Items)

Type | Name | Description
---- | ---- | -----------
bool | [activated](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=activated) | 
[ENT_TYPE](#ENT_TYPE) | [character](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=character) | 
[TEXTURE](#TEXTURE) | [texture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture) | 

### StateMemory

Can be accessed via global [state](#state)

Type | Name | Description
---- | ---- | -----------
[SCREEN](#SCREEN) | [screen_last](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_last) | Previous [SCREEN](#SCREEN), used to check where we're coming from when loading another [SCREEN](#SCREEN)
[SCREEN](#SCREEN) | [screen](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen) | Current [SCREEN](#SCREEN), generally read-only or weird things will happen
[SCREEN](#SCREEN) | [screen_next](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_next) | Next [SCREEN](#SCREEN), used to load the right screen when loading. Can be changed in PRE_LOAD_SCREEN to go somewhere else instead. Also see `state.loading`.
[PAUSE](#PAUSE) | [pause](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause) | 8bit flags, multiple might be active at the same time<br/>1: Menu: Pauses the level timer and engine. Can't set, controlled by the menu.<br/>2: Fade/Loading: Pauses all timers and engine.<br/>4: Cutscene: Pauses total/level time but not engine. Used by boss cutscenes.<br/>8: Unknown: Pauses total/level time and engine. Does not pause the global counter so set_global_interval still runs.<br/>16: Unknown: Pauses total/level time and engine. Does not pause the global counter so set_global_interval still runs.<br/>32: Ankh: Pauses all timers, engine, but not camera. Used by the ankh cutscene.
int | [width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=width) | level width in rooms (number of rooms horizontally)
int | [height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=height) | level height in rooms (number of rooms vertically)
int | [kali_favor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kali_favor) | 
int | [kali_status](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kali_status) | 
int | [kali_altars_destroyed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kali_altars_destroyed) | Also affects if the player has punish ball, if the punish ball is destroyed it is set to -1
int | [kali_gifts](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kali_gifts) | 0 - none, 1 - item, 3 - kapala
int | [seed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seed) | Current seed in seeded mode, just set to a funny value and does nothing in adventure mode
int | [time_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_total) | Total frames of current run, equal to the final game time on win
int | [world](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world) | Current world number, shown in hud and used by some game logic like choosing the next level on transition
int | [world_next](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world_next) | Next world number, used when loading a new level or transition
int | [world_start](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world_start) | World number to start new runs in
int | [level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level) | Current level number, shown in hud and used by some game logic like choosing the next level on transition
int | [level_next](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_next) | Next level number, used when loading a new level or transition
int | [level_start](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_start) | Level number to start new runs in
[THEME](#THEME) | [theme](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme) | Current [THEME](#THEME) number, used to pick the music and by some game logic like choosing the next level on transition
[THEME](#THEME) | [theme_next](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme_next) | Next [THEME](#THEME) number, used when loading a new level or transition
[THEME](#THEME) | [theme_start](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme_start) | [THEME](#THEME) to start new runs in
[ThemeInfo](#ThemeInfo) | [current_theme](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=current_theme) | Points to the current [ThemeInfo](#ThemeInfo)
nil | [force_current_theme(THEME t)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=force_current_theme) | This function should only be used in a very specific circumstance (forcing the exiting theme when manually transitioning). Will crash the game if used inappropriately!
int | [shoppie_aggro](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shoppie_aggro) | Current shoppie aggro
int | [shoppie_aggro_next](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shoppie_aggro_next) | Shoppie aggro to use in the next level
int | [outposts_spawned](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=outposts_spawned) | 
int | [merchant_aggro](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=merchant_aggro) | [Tun](#Tun) aggro
int | [kills_npc](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kills_npc) | 
int | [level_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_count) | Current zero-based level count, or number of levels completed
int | [damage_taken](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=damage_taken) | Total amount of damage taken, excluding cause of death
[JOURNAL_FLAG](#JOURNAL_FLAG) | [journal_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_flags) | 
int | [time_last_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_last_level) | Level time of previous level in frames, used by game logic to decide dark levels etc
int | [time_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_level) | Level time of current level in frames, show on the hud
int | [level_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_flags) | 
[QUEST_FLAG](#QUEST_FLAG) | [quest_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=quest_flags) | 32bit flags, can be written to trigger a run reset on next level load etc.
[PRESENCE_FLAG](#PRESENCE_FLAG) | [presence_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=presence_flags) | 
[FADE](#FADE) | [loading](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=loading) | Current loading/fade state. Pauses all updates if > [FADE](#FADE).NONE. Writing [FADE](#FADE).OUT or [FADE](#FADE).LOAD will trigger a screen load to `screen_next`.
float | [fade_value](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fade_value) | Current fade-to-black amount (0.0 = all visible; 1.0 = all black). Manipulated by the loading routine when loading > 0.
int | [fade_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fade_timer) | Remaining frames for fade-in/fade-out when loading. Counts down to 0.
int | [fade_length](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fade_length) | Total frames for fade-in/fade-out when loading.
int | [fade_delay](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fade_delay) | Additional delay after fade_timer reaches 0, before moving to the next fading state. Used after Ouroboros, in credits etc. for longer black screens, but also works after [FADE](#FADE).IN.
bool | [fade_enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fade_enabled) | Enables the fade effect on [FADE](#FADE).IN, setting to false makes loading skip [FADE](#FADE).IN state instantly
bool | [fade_circle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fade_circle) | Makes loading use circle iris effect instead of fade on [FADE](#FADE).IN
int | [saved_dogs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=saved_dogs) | Run totals
int | [saved_cats](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=saved_cats) | 
int | [saved_hamsters](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=saved_hamsters) | 
int | [win_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=win_state) | 0 = no win 1 = tiamat win 2 = hundun win 3 = CO win; set this and next doorway leads to victory scene
[Illumination](#Illumination) | [illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination) | The global level illumination, very big and bright.
int | [money_last_levels](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_last_levels) | 
int | [money_shop_total](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=money_shop_total) | Total amount spent in shops and sold idols during the run<br><br/>The total money currently available is `loop (players[].inventory.money + players[].inventory.collected_money_total) + state.money_shop_total`
[PlayerInputs](#PlayerInputs) | [player_inputs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_inputs) | Access the player inputs even when no player entities are available
[QuestsInfo](#QuestsInfo) | [quests](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=quests) | [NPC](#NPC) quest states
[Camera](#Camera) | [camera](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=camera) | [Camera](#Camera) bounds and position
int | [special_visibility_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=special_visibility_flags) | 
[CAUSE_OF_DEATH](#CAUSE_OF_DEATH) | [cause_of_death](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cause_of_death) | 
[ENT_TYPE](#ENT_TYPE) | [cause_of_death_entity_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cause_of_death_entity_type) | 
int | [toast_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=toast_timer) | 
int | [speechbubble_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speechbubble_timer) | 
int | [speechbubble_owner](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speechbubble_owner) | 
[LevelGenSystem](#LevelGenSystem) | [level_gen](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_gen) | Entrance and exit coordinates, shop types and all themes
int | [correct_ushabti](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=correct_ushabti) | See `get_correct_ushabti`. == anim_frame - (2 * floor(anim_frame/12))
[Items](#Items) | [items](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=items) | Has the current player count, player inventories and character selections
int | [camera_layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=camera_layer) | 
int | [layer_transition_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=layer_transition_timer) | 
int | [transition_to_layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=transition_to_layer) | 
[ScreenCharacterSelect](#ScreenCharacterSelect) | [screen_character_select](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_character_select) | 
[ScreenTeamSelect](#ScreenTeamSelect) | [screen_team_select](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_team_select) | For the arena
[ScreenStateCamp](#ScreenStateCamp) | [screen_camp](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_camp) | 
[ScreenStateLevel](#ScreenStateLevel) | [screen_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_level) | 
[ScreenTransition](#ScreenTransition) | [screen_transition](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_transition) | 
[ScreenDeath](#ScreenDeath) | [screen_death](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_death) | 
[ScreenWin](#ScreenWin) | [screen_win](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_win) | 
[ScreenCredits](#ScreenCredits) | [screen_credits](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_credits) | The spaceship minigame
[ScreenScores](#ScreenScores) | [screen_scores](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_scores) | Landing on the moon after win
[ScreenConstellation](#ScreenConstellation) | [screen_constellation](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_constellation) | 
[ScreenRecap](#ScreenRecap) | [screen_recap](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_recap) | Journal after CO win
[ScreenArenaStagesSelect](#ScreenArenaStagesSelect) | [screen_arena_stages_select](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_arena_stages_select) | 
[ScreenArenaIntro](#ScreenArenaIntro) | [screen_arena_intro](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_arena_intro) | 
[ScreenArenaLevel](#ScreenArenaLevel) | [screen_arena_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_arena_level) | 
[ScreenArenaScore](#ScreenArenaScore) | [screen_arena_score](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_arena_score) | 
[ScreenArenaMenu](#ScreenArenaMenu) | [screen_arena_menu](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_arena_menu) | 
[ScreenArenaItems](#ScreenArenaItems) | [screen_arena_items](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_arena_items) | 
int | [get_correct_ushabti()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_correct_ushabti) | Returns animation_frame of the correct ushabti
nil | [set_correct_ushabti(int animation_frame)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_correct_ushabti) | 
[ArenaState](#ArenaState) | [arena](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arena) | 
[ENT_TYPE](#ENT_TYPE) | [speedrun_character](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speedrun_character) | Who administers the tutorial speedrun in base camp
bool | [speedrun_activation_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speedrun_activation_trigger) | must transition from true to false to activate it
[ENT_TYPE](#ENT_TYPE) | [end_spaceship_character](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=end_spaceship_character) | Who pops out the spaceship for a tiamat/hundun win, this is set upon the spaceship door open
bool | [world2_coffin_spawned](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world2_coffin_spawned) | 
bool | [world4_coffin_spawned](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world4_coffin_spawned) | 
bool | [world6_coffin_spawned](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world6_coffin_spawned) | 
[ENT_TYPE](#ENT_TYPE) | [first_damage_cause](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=first_damage_cause) | 
int | [first_damage_world](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=first_damage_world) | 
int | [first_damage_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=first_damage_level) | 
int | [time_speedrun](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_speedrun) | 
[ENT_TYPE](#ENT_TYPE) | [coffin_contents](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=coffin_contents) | the contents of the special coffin that will be spawned during levelgen
int | [screen_change_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=screen_change_counter) | 
int | [time_startup](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=time_startup) | Number of frames since the game was launched
int | [storage_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=storage_uid) | entity uid of the first floor_storage entity
array&lt;[ENT_TYPE](#ENT_TYPE), 99&gt; | [waddler_storage](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=waddler_storage) | 
array&lt;int, 99&gt; | [waddler_metadata](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=waddler_metadata) | 
int | [journal_progress_sticker_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_progress_sticker_count) | 
array&lt;[JournalProgressStickerSlot](#JournalProgressStickerSlot), 40&gt; | [journal_progress_sticker_slots](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_progress_sticker_slots) | stickers for notable items and entities in journal progress page
int | [journal_progress_stain_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_progress_stain_count) | 
array&lt;[JournalProgressStainSlot](#JournalProgressStainSlot), 30&gt; | [journal_progress_stain_slots](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_progress_stain_slots) | blood splats and paw prints in journal progress page
int | [journal_progress_theme_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_progress_theme_count) | 
array&lt;[THEME](#THEME), 9&gt; | [journal_progress_theme_slots](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=journal_progress_theme_slots) | visited themes in journal progress page
[ThemeInfo](#ThemeInfo) | [theme_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme_info) | Points to the current [ThemeInfo](#ThemeInfo)
[LogicList](#LogicList) | [logic](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=logic) | Level logic like dice game and cutscenes
[LiquidPhysics](#LiquidPhysics) | [liquid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=liquid) | 
int | [next_entity_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=next_entity_uid) | Next entity spawned will have this uid
[RoomOwnersInfo](#RoomOwnersInfo) | [room_owners](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=room_owners) | Holds info about owned rooms and items (shops, challenge rooms, vault etc.)
any | [user_data](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=user_data) | You can store a table (or lua primitive) here and it will store data correctly in online multiplayer, by having a different copy on each state and being copied over when the game does.<br/>Doesn't support recursive tables / cyclic references. Metatables will be transferred by reference instead of being copied<br/> 

## Texture types


### TextRenderingInfo


Type | Name | Description
---- | ---- | -----------
 | [new](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=new) | [TextRenderingInfo](#TextRenderingInfo):new(string text, float scale_x, float scale_y, [VANILLA_TEXT_ALIGNMENT](#VANILLA_TEXT_ALIGNMENT) alignment, [VANILLA_FONT_STYLE](#VANILLA_FONT_STYLE) fontstyle)<br/>[TextRenderingInfo](#TextRenderingInfo):new(string text, float x, float y, float scale_x, float scale_y, [VANILLA_TEXT_ALIGNMENT](#VANILLA_TEXT_ALIGNMENT) alignment, [VANILLA_FONT_STYLE](#VANILLA_FONT_STYLE) fontstyle)<br/>Creates new [TextRenderingInfo](#TextRenderingInfo) that can be used in [VanillaRenderContext](#VanillaRenderContext) draw_text<br/>For static text, it is better to use one object and call draw_text with it, instead of relaying on draw_text creating this object for you<br/> 
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
int | [text_length](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=text_length) | You can also just use `#` operator on the whole TextRenderingInfo to get the text length
float | [width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=width) | 
float | [height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=height) | 
[TEXTURE](#TEXTURE) | [special_texture_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=special_texture_id) | Used to draw buttons and stuff, default is -1 which uses the buttons texture
span&lt;[Letter](#Letter)&gt; | [get_dest()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_dest) | Returns reference to the letter coordinates relative to the x,y position
span&lt;[Letter](#Letter)&gt; | [get_source()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_source) | Returns reference to the letter coordinates in the texture
tuple&lt;float, float&gt; | [text_size()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=text_size) | {width, height}, is only updated when you set/change the text. This is equivalent to draw_text_size
nil | [rotate(float angle, optional<float> px, optional<float> py)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotate) | Rotates the text around the pivot point (default 0), pivot is relative to the text position (x, y), use px and py to offset it
nil | [set_text(string text, float scale_x, float scale_y, VANILLA_TEXT_ALIGNMENT alignment, VANILLA_FONT_STYLE fontstyle)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_text) | Changes the text, only position stays the same, everything else (like rotation) is reset or set according to the parameters
[TEXTURE](#TEXTURE) | [get_font()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_font) | 
bool | [set_font(TEXTURE id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_font) | 

### TextureDefinition

Use `TextureDefinition.new()` to get a new instance to this and pass it to [define_texture](#define_texture).
`width` and `height` always have to be the size of the image file. They should be divisible by `tile_width` and `tile_height` respectively.
`tile_width` and `tile_height` define the size of a single tile, the image will automatically be divided into these tiles.
Tiles are labeled in sequence starting at the top left, going right and down at the end of the image (you know, like sentences work in the English language). Use those numbers in `Entity::animation_frame`.
`sub_image_offset_x`, `sub_image_offset_y`, `sub_image_width` and `sub_image_height` can be used if only a part of the image should be used. Leave them at zero to ignore this.

Type | Name | Description
---- | ---- | -----------
string | [texture_path](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=texture_path) | 
int | [width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=width) | 
int | [height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=height) | 
int | [tile_width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tile_width) | 
int | [tile_height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tile_height) | 
int | [sub_image_offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sub_image_offset_x) | 
int | [sub_image_offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sub_image_offset_y) | 
int | [sub_image_width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sub_image_width) | 
int | [sub_image_height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sub_image_height) | 

### TextureRenderingInfo


Type | Name | Description
---- | ---- | -----------
 | [new](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=new) | 
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | 
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | 
float | [destination_bottom_left_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination_bottom_left_x) | destination is relative to the x,y center point
float | [destination_bottom_left_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination_bottom_left_y) | 
float | [destination_bottom_right_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination_bottom_right_x) | 
float | [destination_bottom_right_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination_bottom_right_y) | 
float | [destination_top_left_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination_top_left_x) | 
float | [destination_top_left_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination_top_left_y) | 
float | [destination_top_right_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination_top_right_x) | 
float | [destination_top_right_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destination_top_right_y) | 
nil | [set_destination(AABB bbox)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_destination) | 
[Quad](#Quad) | [dest_get_quad()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dest_get_quad) | 
nil | [dest_set_quad(Quad quad)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dest_set_quad) | 
float | [source_bottom_left_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_bottom_left_x) | 
float | [source_bottom_left_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_bottom_left_y) | 
float | [source_bottom_right_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_bottom_right_x) | 
float | [source_bottom_right_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_bottom_right_y) | 
float | [source_top_left_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_top_left_x) | 
float | [source_top_left_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_top_left_y) | 
float | [source_top_right_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_top_right_x) | 
float | [source_top_right_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_top_right_y) | 
[Quad](#Quad) | [source_get_quad()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_get_quad) | 
nil | [source_set_quad(Quad quad)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=source_set_quad) | 

## Theme types


### CustomTheme


> Very basic example how to use a CustomTheme in the procedural levels. Search the examples or check [Eternal Flame of Gehenna](https://spelunky.fyi/mods/m/gehenna/) for custom levels.

```lua
-- create a new theme based on dwelling
local my_theme = CustomTheme:new()
-- get some ember effects from volcana
my_theme:override(THEME_OVERRIDE.SPAWN_EFFECTS, THEME.VOLCANA)
-- change level size
my_theme:post(THEME_OVERRIDE.INIT_LEVEL, function()
    state.width = 5
    state.height = 15
end)
-- set floor textures to eggy
my_theme.textures[DYNAMIC_TEXTURE.FLOOR] = TEXTURE.DATA_TEXTURES_FLOOR_EGGPLANT_0
set_callback(function(ctx)
    -- use the level gen from ice caves
    ctx:override_level_files({"generic.lvl", "icecavesarea.lvl"})
    -- force our theme instead of the default
    force_custom_theme(my_theme)
end, ON.PRE_LOAD_LEVEL_FILES)
```

> You can call theme functions from other themes, for example to make all growable tile codes work in your theme:

```lua
local custom = CustomTheme:new()
custom:post(THEME_OVERRIDE.SPAWN_LEVEL, function()
    state.level_gen.themes[THEME.VOLCANA]:spawn_traps()
    state.level_gen.themes[THEME.TIDE_POOL]:spawn_traps()
    state.level_gen.themes[THEME.JUNGLE]:spawn_traps()
end)
```


Customizable [ThemeInfo](#ThemeInfo) with ability to override certain theming functions from different themes or write custom functions. Check [ThemeInfo](#ThemeInfo) for some notes on the vanilla theme functions. Warning: We WILL change these function names, especially the unknown ones, when you figure out what they do.
Derived from [ThemeInfo](#ThemeInfo)


Type | Name | Description
---- | ---- | -----------
[CustomTheme](#CustomTheme) | [new(int theme_id_, int base_theme_, bool defaults)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=CustomTheme) | Create a new theme with an id and base theme, overriding defaults. Check [theme functions that are default enabled here](https://github.com/spelunky-fyi/overlunky/blob/main/src/game_api/script/usertypes/level_lua.cpp).
[CustomTheme](#CustomTheme) | [new(int theme_id_, int base_theme_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=CustomTheme) | Create a new theme with defaults.
[CustomTheme](#CustomTheme) | [new()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=CustomTheme) | Create a new theme with base dwelling and id 100.
string | [level_file](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level_file) | Level file to load. Probably doesn't do much in custom themes, especially if you're forcing them in PRE_LOAD_LEVEL_FILES.
int | [theme](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme) | Theme index. Probably shouldn't collide with the vanilla ones. Purpose unknown.
map&lt;[DYNAMIC_TEXTURE](#DYNAMIC_TEXTURE), [TEXTURE](#TEXTURE)&gt; | [textures](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=textures) | Add TEXTUREs here to override different dynamic textures.
nil | [override(THEME_OVERRIDE index, bool enabled_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=override) | To disable or enable theme functions using the base_theme.
nil | [override(THEME_OVERRIDE index, int theme_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=override) | To override a theme function with another theme.
nil | [override(THEME_OVERRIDE index, function func_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=override) | To override a theme function with a lua function.
nil | [pre(THEME_OVERRIDE index, function func_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pre) | Set a callback to be called before this theme function.
nil | [post(THEME_OVERRIDE index, function func_)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=post) | Set a callback to be called after this theme function, to fix some changes it did for example.
int | [base_theme](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=base_theme) | Base [THEME](#THEME) to load enabled functions from, when no other theme is specified.
nil | [reset_theme_flags()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=reset_theme_flags) | 
nil | [init_flags()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=init_flags) | 
nil | [init_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=init_level) | 
nil | [init_rooms()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=init_rooms) | 
nil | [generate_path(bool reset)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=generate_path) | 
nil | [add_special_rooms()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_special_rooms) | 
nil | [add_player_coffin()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_player_coffin) | 
nil | [add_dirk_coffin()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_dirk_coffin) | 
nil | [add_idol()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_idol) | 
nil | [add_vault()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_vault) | 
nil | [add_coffin()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_coffin) | 
nil | [add_special_feeling()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_special_feeling) | 
nil | [spawn_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_level) | 
nil | [spawn_border()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_border) | 
nil | [post_process_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=post_process_level) | 
nil | [spawn_traps()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_traps) | 
nil | [post_process_entities()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=post_process_entities) | 
nil | [spawn_procedural()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_procedural) | 
nil | [spawn_background()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_background) | 
nil | [spawn_lights()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_lights) | 
nil | [spawn_transition()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_transition) | 
nil | [post_transition()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=post_transition) | 
nil | [spawn_players()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_players) | 
nil | [spawn_effects()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_effects) | 
string | [get_level_file()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_level_file) | 
int | [get_theme_id()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_theme_id) | 
int | [get_base_id()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_base_id) | 
int | [get_floor_spreading_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_floor_spreading_type) | 
int | [get_floor_spreading_type2()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_floor_spreading_type2) | 
bool | [get_transition_styled_floor()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_transition_styled_floor) | 
int | [get_transition_floor_modifier()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_transition_floor_modifier) | 
int | [get_transition_styled_floor_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_transition_styled_floor_type) | 
int | [get_backwall_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_backwall_type) | 
int | [get_border_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_border_type) | 
int | [get_critter_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_critter_type) | 
float | [get_liquid_gravity()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_liquid_gravity) | 
bool | [get_player_damage()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_player_damage) | 
bool | [get_explosion_soot()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_explosion_soot) | 
int | [get_backlayer_lut()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_backlayer_lut) | 
float | [get_backlayer_light_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_backlayer_light_level) | 
bool | [get_loop()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_loop) | 
int | [get_vault_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_vault_level) | 
bool | [get_theme_flag(int index)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_theme_flag) | 
[TEXTURE](#TEXTURE) | [get_dynamic_texture(DYNAMIC_TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_dynamic_texture) | Add [TEXTURE](#TEXTURE) s to `textures` map of the CustomTheme to override different dynamic textures easily.
nil | [pre_transition()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pre_transition) | 
int | [get_exit_room_y_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_exit_room_y_level) | 
int | [get_shop_chance()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_shop_chance) | 
nil | [spawn_decoration()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_decoration) | 
nil | [spawn_decoration2()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_decoration2) | 
nil | [spawn_extra()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_extra) | 
nil | [do_procedural_spawn(SpawnInfo info)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=do_procedural_spawn) | 

### ThemeInfo


```lua
-- When hell freezes over: Examples for hooking ThemeInfo virtuals

state.level_gen.themes[THEME.VOLCANA]:set_pre_texture_dynamic(function(theme, id)
    -- change volcana floor to ice floor
    if id == DYNAMIC_TEXTURE.FLOOR then
        return TEXTURE.DATA_TEXTURES_FLOOR_ICE_0
    end
end)

state.level_gen.themes[THEME.VOLCANA]:set_pre_spawn_effects(function(theme)
    -- run the effects function from another theme to get cool ice particle effects
    for i=1,50 do
        state.level_gen.themes[THEME.ICE_CAVES]:spawn_effects()
    end
    -- then we run this to fix the weird camera bounds set by ice caves
    state.level_gen.themes[THEME.DWELLING]:spawn_effects()
    -- don't spawn volcanic effects
    return true
end)

-- make players cold
state.level_gen.themes[THEME.VOLCANA]:set_post_spawn_players(function(theme)
    for i,p in pairs(get_local_players()) do
        spawn_over(ENT_TYPE.LOGICAL_FROST_BREATH, p.uid, 0, 0)
    end
end)

-- make vlads bluish
state.level_gen.themes[THEME.VOLCANA]:set_pre_texture_backlayer_lut(function(theme)
    return TEXTURE.DATA_TEXTURES_LUT_ICECAVES_0
end)

```


Type | Name | Description
---- | ---- | -----------
int | [unknown3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unknown3) | 
int | [unknown4](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unknown4) | 
int | [theme](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme) | 
bool | [allow_beehive](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=allow_beehive) | 
bool | [allow_leprechaun](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=allow_leprechaun) | 
[ThemeInfo](#ThemeInfo) | [sub_theme](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sub_theme) | 
nil | [reset_theme_flags()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=reset_theme_flags) | Sets the beehive and leprechaun flags
nil | [init_flags()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=init_flags) | Initializes some flags in the [LevelGenSystem](#LevelGenSystem), also dark level flag in state.level_flags.
nil | [init_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=init_level) | Adds the entrance room and sets spawn_room_x/y. Sets the level size and toast for echoes feeling. Sets some other level_flags, shop related flags and shop_type.
nil | [init_rooms()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=init_rooms) | 
nil | [generate_path(bool reset)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=generate_path) | Generates and adds the path rooms and exit room<br/>Params: reset to start over from the beginning if other rooms didn't fit
nil | [add_special_rooms()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_special_rooms) | Adds rooms related to udjat, black market, castle etc
nil | [add_player_coffin()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_player_coffin) | Adds a player revival coffin room
nil | [add_dirk_coffin()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_dirk_coffin) | Adds a Dirk coffin room
nil | [add_idol()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_idol) | Adds an idol room
nil | [add_vault()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_vault) | Adds a vault room
nil | [add_coffin()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_coffin) | Adds a character unlock coffin room
nil | [add_special_feeling()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_special_feeling) | Adds the metal clanking or oppression rooms
nil | [spawn_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_level) | Calls many other theme functions to spawn the floor, enemies, items etc, but not background and players. (Disable this to only spawn background and players.)
nil | [spawn_border()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_border) | Spawns the border entities (some floor or teleportingborder)
nil | [post_process_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=post_process_level) | Theme specific specialties like randomizing ushabti and Coco coffin location, spawns impostor lakes
nil | [spawn_traps()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_traps) | Spawns theme specific random traps, pushblocks and critters. Sets special exit doors.
nil | [post_process_entities()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=post_process_entities) | Fixes textures on pleasure palace ladders, adds some decorations
nil | [spawn_procedural()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_procedural) | Adds legs under platforms, random pots, goldbars, monsters, compass indicator, initialises quests, random shadows...
nil | [spawn_background()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_background) | Adds the main level background , e.g. CO stars / Duat moon / Plain backwall for other themes
nil | [spawn_lights()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_lights) | Adds room lights to udjat chest room or black market
nil | [spawn_transition()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_transition) | Spawns the transition tunnel and players in it
nil | [post_transition()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=post_transition) | Handles loading the next level screen from a transition screen
nil | [spawn_players()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_players) | Spawns the players with inventory at `state.level_gen.spawn_x/y`. Also shop and kali background and probably other stuff for some stupid reason.
nil | [spawn_effects()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_effects) | Sets the camera bounds and position. Spawns jelly and orbs and the flag in coop. Sets timers/conditions for more jellies and ghosts. Enables the special fog/ember/ice etc particle effects. Spawns beg and handles it's quest flags
string | [get_level_file()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_level_file) | Returns: The .lvl file to load (e.g. dwelling = dwellingarea.lvl except when level == 4 (cavebossarea.lvl))
int | [get_theme_id()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_theme_id) | Returns: [THEME](#THEME), or subtheme in CO
int | [get_base_id()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_base_id) | Returns: [THEME](#THEME), or logical base [THEME](#THEME) for special levels (Abzu->Tide Pool etc)
[ENT_TYPE](#ENT_TYPE) | [get_floor_spreading_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_floor_spreading_type) | Returns: [ENT_TYPE](#ENT_TYPE) used for floor spreading (generic or one of the styled floors)
[ENT_TYPE](#ENT_TYPE) | [get_floor_spreading_type2()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_floor_spreading_type2) | Returns: [ENT_TYPE](#ENT_TYPE) used for floor spreading (stone or one of the styled floors)
bool | [get_transition_styled_floor()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_transition_styled_floor) | Returns: true if transition should use styled floor
int | [get_transition_floor_modifier()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_transition_floor_modifier) | Determines the types of FLOOR_TUNNEL_NEXT/CURRENT (depending on where you are transitioning from/to)<br/>Returns: 85 by default, except for: olmec: 15, cog: 23
[ENT_TYPE](#ENT_TYPE) | [get_transition_styled_floor_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_transition_styled_floor_type) | Returns: [ENT_TYPE](#ENT_TYPE) used for the transition floor
[ENT_TYPE](#ENT_TYPE) | [get_backwall_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_backwall_type) | Returns: [ENT_TYPE](#ENT_TYPE) used for the backwall (BG_LEVEL_BACKWALL by default)
[ENT_TYPE](#ENT_TYPE) | [get_border_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_border_type) | Returns: [ENT_TYPE](#ENT_TYPE) to use for the border tiles
[ENT_TYPE](#ENT_TYPE) | [get_critter_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_critter_type) | Returns: [ENT_TYPE](#ENT_TYPE) for theme specific critter
float | [get_liquid_gravity()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_liquid_gravity) | Returns: gravity used to initialize liquid pools (-1..1)
bool | [get_player_damage()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_player_damage) | Returns: false to disable most player damage and the usage of bombs and ropes. Enabled in parts of base camp.
bool | [get_explosion_soot()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_explosion_soot) | Returns: true if explosions should spawn background soot
int | [get_backlayer_lut()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_backlayer_lut) | Returns: [TEXTURE](#TEXTURE) for the LUT to be applied to the special back layer, e.g. vlad's castle
float | [get_backlayer_light_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_backlayer_light_level) | Returns: dynamic backlayer light level (0..1)
bool | [get_loop()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_loop) | Returns: true if the loop rendering should be enabled (Combine with the right get_border_type)
int | [get_vault_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_vault_level) | Returns: highest y-level a vault can spawn
bool | [get_theme_flag(int index)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_theme_flag) | Returns: allow_beehive or allow_leprechaun flag<br/>Params: index: 0 or 1
[TEXTURE](#TEXTURE) | [get_dynamic_texture(DYNAMIC_TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_dynamic_texture) | Returns: [TEXTURE](#TEXTURE) based on texture_id<br/>Params: [DYNAMIC_TEXTURE](#DYNAMIC_TEXTURE) texture_id
nil | [pre_transition()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pre_transition) | Sets state.level_next, world_next and theme_next (or state.win_state) based on level number. Runs when exiting a level.
int | [get_exit_room_y_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_exit_room_y_level) | Returns: usually state.height - 1. For special levels fixed heights are returned.
int | [get_shop_chance()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_shop_chance) | Returns: inverse shop chance
nil | [spawn_decoration()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_decoration) | Spawns some specific decoration, e.g. [Vlad](#Vlad)'s big banner
nil | [spawn_decoration2()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_decoration2) | Spawns some other specific decorations, e.g. grass, flowers, udjat room decal
nil | [spawn_extra()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_extra) | Spawns specific extra entities and decorations, like gold key, seaweed, lanterns, banners, signs, wires...
nil | [do_procedural_spawn(SpawnInfo info)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=do_procedural_spawn) | Spawns a single procedural entity, used in spawn_procedural (mostly monsters, scarab in dark levels etc.)
[CallbackId](#Aliases) | [set_pre_virtual(THEME_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(THEME_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_dtor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_dtor) | Hooks before the virtual function.<br/>The callback signature is `nil dtor(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_dtor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_dtor) | Hooks after the virtual function.<br/>The callback signature is `nil dtor(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_reset_theme_flags(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_reset_theme_flags) | Hooks before the virtual function.<br/>The callback signature is `bool reset_theme_flags(ThemeInfo self)`<br/>Virtual function docs:<br/>Sets the beehive and leprechaun flags
[CallbackId](#Aliases) | [set_post_reset_theme_flags(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_reset_theme_flags) | Hooks after the virtual function.<br/>The callback signature is `nil reset_theme_flags(ThemeInfo self)`<br/>Virtual function docs:<br/>Sets the beehive and leprechaun flags
[CallbackId](#Aliases) | [set_pre_init_flags(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_init_flags) | Hooks before the virtual function.<br/>The callback signature is `bool init_flags(ThemeInfo self)`<br/>Virtual function docs:<br/>Initializes some flags in the LevelGenSystem, also dark level flag in state.level_flags.
[CallbackId](#Aliases) | [set_post_init_flags(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_init_flags) | Hooks after the virtual function.<br/>The callback signature is `nil init_flags(ThemeInfo self)`<br/>Virtual function docs:<br/>Initializes some flags in the LevelGenSystem, also dark level flag in state.level_flags.
[CallbackId](#Aliases) | [set_pre_init_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_init_level) | Hooks before the virtual function.<br/>The callback signature is `bool init_level(ThemeInfo self)`<br/>Virtual function docs:<br/>Adds the entrance room and sets spawn_room_x/y. Sets the level size and toast for echoes feeling. Sets some other level_flags, shop related flags and shop_type.
[CallbackId](#Aliases) | [set_post_init_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_init_level) | Hooks after the virtual function.<br/>The callback signature is `nil init_level(ThemeInfo self)`<br/>Virtual function docs:<br/>Adds the entrance room and sets spawn_room_x/y. Sets the level size and toast for echoes feeling. Sets some other level_flags, shop related flags and shop_type.
[CallbackId](#Aliases) | [set_pre_init_rooms(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_init_rooms) | Hooks before the virtual function.<br/>The callback signature is `bool init_rooms(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_init_rooms(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_init_rooms) | Hooks after the virtual function.<br/>The callback signature is `nil init_rooms(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_generate_path(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_generate_path) | Hooks before the virtual function.<br/>The callback signature is `bool generate_path(ThemeInfo self, bool reset)`<br/>Virtual function docs:<br/>Generates and adds the path rooms and exit room<br/>Params: reset to start over from the beginning if other rooms didn't fit
[CallbackId](#Aliases) | [set_post_generate_path(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_generate_path) | Hooks after the virtual function.<br/>The callback signature is `nil generate_path(ThemeInfo self, bool reset)`<br/>Virtual function docs:<br/>Generates and adds the path rooms and exit room<br/>Params: reset to start over from the beginning if other rooms didn't fit
[CallbackId](#Aliases) | [set_pre_special_rooms(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_special_rooms) | Hooks before the virtual function.<br/>The callback signature is `bool special_rooms(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_special_rooms(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_special_rooms) | Hooks after the virtual function.<br/>The callback signature is `nil special_rooms(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_player_coffin(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_player_coffin) | Hooks before the virtual function.<br/>The callback signature is `bool player_coffin(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_player_coffin(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_player_coffin) | Hooks after the virtual function.<br/>The callback signature is `nil player_coffin(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_dirk_coffin(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_dirk_coffin) | Hooks before the virtual function.<br/>The callback signature is `bool dirk_coffin(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_dirk_coffin(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_dirk_coffin) | Hooks after the virtual function.<br/>The callback signature is `nil dirk_coffin(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_idol(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_idol) | Hooks before the virtual function.<br/>The callback signature is `bool idol(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_idol(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_idol) | Hooks after the virtual function.<br/>The callback signature is `nil idol(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_vault(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_vault) | Hooks before the virtual function.<br/>The callback signature is `bool vault(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_vault(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_vault) | Hooks after the virtual function.<br/>The callback signature is `nil vault(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_coffin(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_coffin) | Hooks before the virtual function.<br/>The callback signature is `bool coffin(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_coffin(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_coffin) | Hooks after the virtual function.<br/>The callback signature is `nil coffin(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_feeling(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_feeling) | Hooks before the virtual function.<br/>The callback signature is `bool feeling(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_feeling(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_feeling) | Hooks after the virtual function.<br/>The callback signature is `nil feeling(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_spawn_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_level) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_level(ThemeInfo self)`<br/>Virtual function docs:<br/>Calls many other theme functions to spawn the floor, enemies, items etc, but not background and players. (Disable this to only spawn background and players.)
[CallbackId](#Aliases) | [set_post_spawn_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_level) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_level(ThemeInfo self)`<br/>Virtual function docs:<br/>Calls many other theme functions to spawn the floor, enemies, items etc, but not background and players. (Disable this to only spawn background and players.)
[CallbackId](#Aliases) | [set_pre_spawn_border(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_border) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_border(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns the border entities (some floor or teleportingborder)
[CallbackId](#Aliases) | [set_post_spawn_border(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_border) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_border(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns the border entities (some floor or teleportingborder)
[CallbackId](#Aliases) | [set_pre_post_process_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_post_process_level) | Hooks before the virtual function.<br/>The callback signature is `bool post_process_level(ThemeInfo self)`<br/>Virtual function docs:<br/>Theme specific specialties like randomizing ushabti and Coco coffin location, spawns impostor lakes
[CallbackId](#Aliases) | [set_post_post_process_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_post_process_level) | Hooks after the virtual function.<br/>The callback signature is `nil post_process_level(ThemeInfo self)`<br/>Virtual function docs:<br/>Theme specific specialties like randomizing ushabti and Coco coffin location, spawns impostor lakes
[CallbackId](#Aliases) | [set_pre_spawn_traps(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_traps) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_traps(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns theme specific random traps, pushblocks and critters. Sets special exit doors.
[CallbackId](#Aliases) | [set_post_spawn_traps(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_traps) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_traps(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns theme specific random traps, pushblocks and critters. Sets special exit doors.
[CallbackId](#Aliases) | [set_pre_post_process_entities(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_post_process_entities) | Hooks before the virtual function.<br/>The callback signature is `bool post_process_entities(ThemeInfo self)`<br/>Virtual function docs:<br/>Fixes textures on pleasure palace ladders, adds some decorations
[CallbackId](#Aliases) | [set_post_post_process_entities(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_post_process_entities) | Hooks after the virtual function.<br/>The callback signature is `nil post_process_entities(ThemeInfo self)`<br/>Virtual function docs:<br/>Fixes textures on pleasure palace ladders, adds some decorations
[CallbackId](#Aliases) | [set_pre_spawn_procedural(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_procedural) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_procedural(ThemeInfo self)`<br/>Virtual function docs:<br/>Adds legs under platforms, random pots, goldbars, monsters, compass indicator, initialises quests, random shadows...
[CallbackId](#Aliases) | [set_post_spawn_procedural(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_procedural) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_procedural(ThemeInfo self)`<br/>Virtual function docs:<br/>Adds legs under platforms, random pots, goldbars, monsters, compass indicator, initialises quests, random shadows...
[CallbackId](#Aliases) | [set_pre_spawn_background(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_background) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_background(ThemeInfo self)`<br/>Virtual function docs:<br/>Adds the main level background , e.g. CO stars / Duat moon / Plain backwall for other themes
[CallbackId](#Aliases) | [set_post_spawn_background(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_background) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_background(ThemeInfo self)`<br/>Virtual function docs:<br/>Adds the main level background , e.g. CO stars / Duat moon / Plain backwall for other themes
[CallbackId](#Aliases) | [set_pre_spawn_lights(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_lights) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_lights(ThemeInfo self)`<br/>Virtual function docs:<br/>Adds room lights to udjat chest room or black market
[CallbackId](#Aliases) | [set_post_spawn_lights(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_lights) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_lights(ThemeInfo self)`<br/>Virtual function docs:<br/>Adds room lights to udjat chest room or black market
[CallbackId](#Aliases) | [set_pre_spawn_transition(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_transition) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_transition(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns the transition tunnel and players in it
[CallbackId](#Aliases) | [set_post_spawn_transition(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_transition) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_transition(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns the transition tunnel and players in it
[CallbackId](#Aliases) | [set_pre_post_transition(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_post_transition) | Hooks before the virtual function.<br/>The callback signature is `bool post_transition(ThemeInfo self)`<br/>Virtual function docs:<br/>Handles loading the next level screen from a transition screen
[CallbackId](#Aliases) | [set_post_post_transition(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_post_transition) | Hooks after the virtual function.<br/>The callback signature is `nil post_transition(ThemeInfo self)`<br/>Virtual function docs:<br/>Handles loading the next level screen from a transition screen
[CallbackId](#Aliases) | [set_pre_spawn_players(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_players) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_players(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns the players with inventory at `state.level_gen.spawn_x/y`. Also shop and kali background and probably other stuff for some stupid reason.
[CallbackId](#Aliases) | [set_post_spawn_players(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_players) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_players(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns the players with inventory at `state.level_gen.spawn_x/y`. Also shop and kali background and probably other stuff for some stupid reason.
[CallbackId](#Aliases) | [set_pre_spawn_effects(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_effects) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_effects(ThemeInfo self)`<br/>Virtual function docs:<br/>Sets the camera bounds and position. Spawns jelly and orbs and the flag in coop. Sets timers/conditions for more jellies and ghosts. Enables the special fog/ember/ice etc particle effects. Spawns beg and handles it's quest flags
[CallbackId](#Aliases) | [set_post_spawn_effects(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_effects) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_effects(ThemeInfo self)`<br/>Virtual function docs:<br/>Sets the camera bounds and position. Spawns jelly and orbs and the flag in coop. Sets timers/conditions for more jellies and ghosts. Enables the special fog/ember/ice etc particle effects. Spawns beg and handles it's quest flags
[CallbackId](#Aliases) | [set_pre_theme_id(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_theme_id) | Hooks before the virtual function.<br/>The callback signature is `optional<int> theme_id(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_theme_id(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_theme_id) | Hooks after the virtual function.<br/>The callback signature is `nil theme_id(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_base_id(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_base_id) | Hooks before the virtual function.<br/>The callback signature is `optional<int> base_id(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_base_id(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_base_id) | Hooks after the virtual function.<br/>The callback signature is `nil base_id(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_ent_floor_spreading(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_ent_floor_spreading) | Hooks before the virtual function.<br/>The callback signature is `optional<int> ent_floor_spreading(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_ent_floor_spreading(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_ent_floor_spreading) | Hooks after the virtual function.<br/>The callback signature is `nil ent_floor_spreading(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_ent_floor_spreading2(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_ent_floor_spreading2) | Hooks before the virtual function.<br/>The callback signature is `optional<int> ent_floor_spreading2(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_ent_floor_spreading2(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_ent_floor_spreading2) | Hooks after the virtual function.<br/>The callback signature is `nil ent_floor_spreading2(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_transition_styled_floor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_transition_styled_floor) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> transition_styled_floor(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_transition_styled_floor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_transition_styled_floor) | Hooks after the virtual function.<br/>The callback signature is `nil transition_styled_floor(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_transition_modifier(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_transition_modifier) | Hooks before the virtual function.<br/>The callback signature is `optional<int> transition_modifier(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_transition_modifier(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_transition_modifier) | Hooks after the virtual function.<br/>The callback signature is `nil transition_modifier(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_ent_transition_styled_floor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_ent_transition_styled_floor) | Hooks before the virtual function.<br/>The callback signature is `optional<int> ent_transition_styled_floor(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_ent_transition_styled_floor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_ent_transition_styled_floor) | Hooks after the virtual function.<br/>The callback signature is `nil ent_transition_styled_floor(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_ent_backwall(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_ent_backwall) | Hooks before the virtual function.<br/>The callback signature is `optional<int> ent_backwall(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_ent_backwall(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_ent_backwall) | Hooks after the virtual function.<br/>The callback signature is `nil ent_backwall(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_ent_border(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_ent_border) | Hooks before the virtual function.<br/>The callback signature is `optional<int> ent_border(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_ent_border(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_ent_border) | Hooks after the virtual function.<br/>The callback signature is `nil ent_border(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_ent_critter(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_ent_critter) | Hooks before the virtual function.<br/>The callback signature is `optional<int> ent_critter(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_ent_critter(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_ent_critter) | Hooks after the virtual function.<br/>The callback signature is `nil ent_critter(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_gravity(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_gravity) | Hooks before the virtual function.<br/>The callback signature is `optional<float> gravity(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_gravity(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_gravity) | Hooks after the virtual function.<br/>The callback signature is `nil gravity(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_player_damage(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_player_damage) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> player_damage(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_player_damage(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_player_damage) | Hooks after the virtual function.<br/>The callback signature is `nil player_damage(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_soot(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_soot) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> soot(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_soot(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_soot) | Hooks after the virtual function.<br/>The callback signature is `nil soot(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_texture_backlayer_lut(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_texture_backlayer_lut) | Hooks before the virtual function.<br/>The callback signature is `optional<int> texture_backlayer_lut(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_texture_backlayer_lut(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_texture_backlayer_lut) | Hooks after the virtual function.<br/>The callback signature is `nil texture_backlayer_lut(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_backlayer_light_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_backlayer_light_level) | Hooks before the virtual function.<br/>The callback signature is `optional<float> backlayer_light_level(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_backlayer_light_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_backlayer_light_level) | Hooks after the virtual function.<br/>The callback signature is `nil backlayer_light_level(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_loop(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_loop) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> loop(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_loop(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_loop) | Hooks after the virtual function.<br/>The callback signature is `nil loop(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_vault_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_vault_level) | Hooks before the virtual function.<br/>The callback signature is `optional<int> vault_level(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_vault_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_vault_level) | Hooks after the virtual function.<br/>The callback signature is `nil vault_level(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_theme_flag(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_theme_flag) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> theme_flag(ThemeInfo self, int)`
[CallbackId](#Aliases) | [set_post_theme_flag(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_theme_flag) | Hooks after the virtual function.<br/>The callback signature is `nil theme_flag(ThemeInfo self, int)`
[CallbackId](#Aliases) | [set_pre_texture_dynamic(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_texture_dynamic) | Hooks before the virtual function.<br/>The callback signature is `optional<int> texture_dynamic(ThemeInfo self, int)`
[CallbackId](#Aliases) | [set_post_texture_dynamic(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_texture_dynamic) | Hooks after the virtual function.<br/>The callback signature is `nil texture_dynamic(ThemeInfo self, int)`
[CallbackId](#Aliases) | [set_pre_pre_transition(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_pre_transition) | Hooks before the virtual function.<br/>The callback signature is `bool pre_transition(ThemeInfo self)`<br/>Virtual function docs:<br/>Sets state.level_next, world_next and theme_next (or state.win_state) based on level number. Runs when exiting a level.
[CallbackId](#Aliases) | [set_post_pre_transition(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_pre_transition) | Hooks after the virtual function.<br/>The callback signature is `nil pre_transition(ThemeInfo self)`<br/>Virtual function docs:<br/>Sets state.level_next, world_next and theme_next (or state.win_state) based on level number. Runs when exiting a level.
[CallbackId](#Aliases) | [set_pre_exit_room_y_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_exit_room_y_level) | Hooks before the virtual function.<br/>The callback signature is `optional<int> exit_room_y_level(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_exit_room_y_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_exit_room_y_level) | Hooks after the virtual function.<br/>The callback signature is `nil exit_room_y_level(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_shop_chance(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_shop_chance) | Hooks before the virtual function.<br/>The callback signature is `optional<int> shop_chance(ThemeInfo self)`
[CallbackId](#Aliases) | [set_post_shop_chance(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_shop_chance) | Hooks after the virtual function.<br/>The callback signature is `nil shop_chance(ThemeInfo self)`
[CallbackId](#Aliases) | [set_pre_spawn_decoration(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_decoration) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_decoration(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns some specific decoration, e.g. Vlad's big banner
[CallbackId](#Aliases) | [set_post_spawn_decoration(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_decoration) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_decoration(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns some specific decoration, e.g. Vlad's big banner
[CallbackId](#Aliases) | [set_pre_spawn_decoration2(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_decoration2) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_decoration2(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns some other specific decorations, e.g. grass, flowers, udjat room decal
[CallbackId](#Aliases) | [set_post_spawn_decoration2(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_decoration2) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_decoration2(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns some other specific decorations, e.g. grass, flowers, udjat room decal
[CallbackId](#Aliases) | [set_pre_spawn_extra(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_extra) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_extra(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns specific extra entities and decorations, like gold key, seaweed, lanterns, banners, signs, wires...
[CallbackId](#Aliases) | [set_post_spawn_extra(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_extra) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_extra(ThemeInfo self)`<br/>Virtual function docs:<br/>Spawns specific extra entities and decorations, like gold key, seaweed, lanterns, banners, signs, wires...
[CallbackId](#Aliases) | [set_pre_do_procedural_spawn(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_do_procedural_spawn) | Hooks before the virtual function.<br/>The callback signature is `bool do_procedural_spawn(ThemeInfo self, SpawnInfo info)`<br/>Virtual function docs:<br/>Spawns a single procedural entity, used in spawn_procedural (mostly monsters, scarab in dark levels etc.)
[CallbackId](#Aliases) | [set_post_do_procedural_spawn(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_do_procedural_spawn) | Hooks after the virtual function.<br/>The callback signature is `nil do_procedural_spawn(ThemeInfo self, SpawnInfo info)`<br/>Virtual function docs:<br/>Spawns a single procedural entity, used in spawn_procedural (mostly monsters, scarab in dark levels etc.)

# Entity types


## Background entities


### BGBackLayerDoor

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [illumination1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination1) | 
[Illumination](#Illumination) | [illumination2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination2) | 

### BGEggshipRoom

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Entity](#Entity) | [fx_shell](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_shell) | 
[Entity](#Entity) | [fx_door](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_door) | 
[Entity](#Entity) | [platform_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=platform_left) | 
[Entity](#Entity) | [platform_middle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=platform_middle) | 
[Entity](#Entity) | [platform_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=platform_right) | 
bool | [player_in](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_in) | 

### BGFloatingDebris

Derived from [Entity](#Entity) [BGSurfaceLayer](#BGSurfaceLayer)


Type | Name | Description
---- | ---- | -----------
float | [distance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=distance) | Distance it travels up and down from spawn position
float | [speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speed) | 
float | [sine_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_angle) | 

### BGMovingStar

Derived from [Entity](#Entity) [BGSurfaceStar](#BGSurfaceStar)


Type | Name | Description
---- | ---- | -----------
float | [falling_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=falling_speed) | Can make it rise if set to negative

### BGRelativeElement

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
float | [relative_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=relative_x) | 
float | [relative_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=relative_y) | 

### BGShootingStar

Derived from [Entity](#Entity) [BGRelativeElement](#BGRelativeElement)


Type | Name | Description
---- | ---- | -----------
float | [x_increment](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x_increment) | 
float | [y_increment](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_increment) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
int | [max_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=max_timer) | 
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | Gets smaller as the timer gets close to the max_timer

### BGShopEntrance

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
bool | [on_entering](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=on_entering) | 

### BGShopKeeperPrime

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
float | [normal_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=normal_y) | 
float | [sine_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_pos) | 
int | [bubbles_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bubbles_timer) | 
bool | [bubble_spawn_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bubble_spawn_trigger) | 
int | [bubble_spawn_delay](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bubble_spawn_delay) | 

### BGSurfaceLayer

Derived from [Entity](#Entity) [BGRelativeElement](#BGRelativeElement)


Type | Name | Description
---- | ---- | -----------
float | [relative_offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=relative_offset_x) | 
float | [relative_offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=relative_offset_y) | 

### BGSurfaceStar

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [blink_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blink_timer) | 
float | [relative_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=relative_x) | 
float | [relative_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=relative_y) | 

### BGTutorialSign

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
bool | [is_shown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_shown) | 

### DestructibleBG

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------

## Effect entities


### BurningRopeEffect

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### CursedEffect

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### FrostBreathEffect

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### OnFireEffect

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_smoke](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_smoke) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_flame](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_flame) | 
[Illumination](#Illumination) | [illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination) | 

### PoisonedEffect

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_burst](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_burst) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_base](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_base) | 
int | [burst_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=burst_timer) | 
bool | [burst_active](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=burst_active) | If forced to false, it will not play the sound or spawn burst particles

### WetEffect

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 

## Floor entities


### Altar

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | for normal altar: counts from 0 to 20 then 0, then 1 then 0 and sacrifice happens

### Arrowtrap

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
bool | [arrow_shot](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrow_shot) | 
nil | [rearm()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rearm) | 
nil | [trigger(int who_uid)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger) | The uid must be movable entity for ownership transfers

### BigSpearTrap

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
int | [spear_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spear_uid) | 
bool | [left_part](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left_part) | setting the left part to 0 or right part to 1 destroys the trap
nil | [trigger(int who_uid, bool left)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger) | The uid must be movable entity for ownership transfers, has to be called on the left part of the trap,

### CityOfGoldDoor

Derived from [Entity](#Entity) [Floor](#Floor) [Door](#Door) [ExitDoor](#ExitDoor) [DecoratedDoor](#DecoratedDoor)


Type | Name | Description
---- | ---- | -----------
bool | [unlocked](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unlocked) | 

### ConveyorBelt

Derived from [Entity](#Entity) [Floor](#Floor) [TransferFloor](#TransferFloor)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### DecoratedDoor

Derived from [Entity](#Entity) [Floor](#Floor) [Door](#Door) [ExitDoor](#ExitDoor)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [special_bg](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=special_bg) | 

### Door


```lua
--If you want the locked door to look like the closed exit door at Hundun

function close_hundun_door(door)
    door:unlock(false)
    for _, uid in pairs(get_entities_overlapping_grid(door.x, door.y, door.layer)) do
        ent = get_entity(uid)
        if ent.type.id == ENT_TYPE.BG_DOOR then
            ent:set_texture(TEXTURE.DATA_TEXTURES_DECO_EGGPLANT_0)
            return
        end
    end
end


```

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
int | [counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=counter) | 
[Entity](#Entity) | [fx_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_button) | 
int | [enter(Entity who)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enter) | Returns the entity state / behavior id to set the entity to after the entering animation.
float | [light_level()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light_level) | Returns the darkest light level used to fade the entity when entering or exiting. 0 = black, 1 = no change
bool | [is_unlocked()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_unlocked) | Should we display the button prompt when collided by player. Will always return `true` for exits, layers and others that the game never locks, even if you lock it with `unlock` function
bool | [can_enter(Entity player)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_enter) | Can the door actually be entered by player. Overrides the button prompt too if false.
nil | [unlock(bool unlock)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unlock) | Lock/Unlock doors
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_enter_attempt(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_enter_attempt) | Hooks before the virtual function.<br/>The callback signature is `bool enter_attempt(Door self, Entity who)`
[CallbackId](#Aliases) | [set_post_enter_attempt(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_enter_attempt) | Hooks after the virtual function.<br/>The callback signature is `nil enter_attempt(Door self, Entity who)`
[CallbackId](#Aliases) | [set_pre_hide_hud(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_hide_hud) | Hooks before the virtual function.<br/>The callback signature is `bool hide_hud(Door self, Entity who)`
[CallbackId](#Aliases) | [set_post_hide_hud(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_hide_hud) | Hooks after the virtual function.<br/>The callback signature is `nil hide_hud(Door self, Entity who)`
[CallbackId](#Aliases) | [set_pre_enter(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_enter) | Hooks before the virtual function.<br/>The callback signature is `optional<int> enter(Door self, Entity who)`<br/>Virtual function docs:<br/>Returns the entity state / behavior id to set the entity to after the entering animation.
[CallbackId](#Aliases) | [set_post_enter(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_enter) | Hooks after the virtual function.<br/>The callback signature is `nil enter(Door self, Entity who)`<br/>Virtual function docs:<br/>Returns the entity state / behavior id to set the entity to after the entering animation.
[CallbackId](#Aliases) | [set_pre_light_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_light_level) | Hooks before the virtual function.<br/>The callback signature is `optional<float> light_level(Door self)`<br/>Virtual function docs:<br/>Returns the darkest light level used to fade the entity when entering or exiting. 0 = black, 1 = no change
[CallbackId](#Aliases) | [set_post_light_level(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_light_level) | Hooks after the virtual function.<br/>The callback signature is `nil light_level(Door self)`<br/>Virtual function docs:<br/>Returns the darkest light level used to fade the entity when entering or exiting. 0 = black, 1 = no change
[CallbackId](#Aliases) | [set_pre_is_unlocked(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_is_unlocked) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> is_unlocked(Door self)`<br/>Virtual function docs:<br/>Should we display the button prompt when collided by player. Will always return `true` for exits, layers and others that the game never locks, even if you lock it with `unlock` function
[CallbackId](#Aliases) | [set_post_is_unlocked(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_is_unlocked) | Hooks after the virtual function.<br/>The callback signature is `nil is_unlocked(Door self)`<br/>Virtual function docs:<br/>Should we display the button prompt when collided by player. Will always return `true` for exits, layers and others that the game never locks, even if you lock it with `unlock` function
[CallbackId](#Aliases) | [set_pre_can_enter(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_can_enter) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> can_enter(Door self, Entity player)`<br/>Virtual function docs:<br/>Can the door actually be entered by player. Overrides the button prompt too if false.
[CallbackId](#Aliases) | [set_post_can_enter(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_can_enter) | Hooks after the virtual function.<br/>The callback signature is `nil can_enter(Door self, Entity player)`<br/>Virtual function docs:<br/>Can the door actually be entered by player. Overrides the button prompt too if false.

### EggShipDoor

Derived from [Entity](#Entity) [Floor](#Floor) [Door](#Door)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### EggShipDoorS

Derived from [Entity](#Entity) [Floor](#Floor) [Door](#Door) [EggShipDoor](#EggShipDoor)


Type | Name | Description
---- | ---- | -----------
bool | [entered](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entered) | 

### ExitDoor

Derived from [Entity](#Entity) [Floor](#Floor) [Door](#Door)


Type | Name | Description
---- | ---- | -----------
bool | [entered](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=entered) | if true entering it does not load the transition
bool | [special_door](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=special_door) | use provided world/level/theme
int | [level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
int | [world](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world) | 
int | [theme](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme) | 
nil | [set_target(int ww, int l, int t)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_target) | 
tuple&lt;int, int, int&gt; | [get_target()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_target) | Get target world, level, theme of this door. If the `special_door` is false, it returns the StateMemory world_next, level_next, theme_next

### Floor

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [deco_top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deco_top) | 
int | [deco_bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deco_bottom) | 
int | [deco_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deco_left) | 
int | [deco_right](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deco_right) | 
nil | [fix_border_tile_animation()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fix_border_tile_animation) | Sets `animation_frame` of the floor for types `FLOOR_BORDERTILE`, `FLOOR_BORDERTILE_METAL` and `FLOOR_BORDERTILE_OCTOPUS`.
nil | [fix_decorations(bool fix_also_neighbors, bool fix_styled_floor)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fix_decorations) | Used to add decoration to a floor entity after it was spawned outside of level gen, is not necessary when spawning during level gen.<br/>Set `fix_also_neighbors` to `true` to fix the neighboring floor tile decorations on the border of the two tiles.<br/>Set `fix_styled_floor` to `true` to fix decorations on `FLOORSTYLED_*` entities, those usually only have decorations when broken.
nil | [add_decoration(FLOOR_SIDE side)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_decoration) | Explicitly add a decoration on the given side. Corner decorations only exist for `FLOOR_BORDERTILE` and `FLOOR_BORDERTILE_OCTOPUS`.
nil | [remove_decoration(FLOOR_SIDE side)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=remove_decoration) | Explicitly remove a decoration on the given side. Corner decorations only exist for `FLOOR_BORDERTILE` and `FLOOR_BORDERTILE_OCTOPUS`.
nil | [decorate_internal()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=decorate_internal) | 
[ENT_TYPE](#ENT_TYPE) | [get_floor_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_floor_type) | Returns it's [ENT_TYPE](#ENT_TYPE) except for FLOOR_PEN (returns FLOORSTYLED_MINEWOOD) and FLOOR_QUICKSAND, FLOOR_TOMB, FLOOR_EMPRESS_GRAVE which return FLOOR_GENERIC
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_floor_update(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_floor_update) | Hooks before the virtual function.<br/>The callback signature is `bool floor_update(Floor self)`
[CallbackId](#Aliases) | [set_post_floor_update(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_floor_update) | Hooks after the virtual function.<br/>The callback signature is `nil floor_update(Floor self)`

### ForceField

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [first_item_beam](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=first_item_beam) | 
[Entity](#Entity) | [fx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
bool | [is_on](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_on) | 
nil | [activate_laserbeam(bool turn_on)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=activate_laserbeam) | 

### Generator

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
int | [spawned_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawned_uid) | 
int | [set_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_timer) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
int | [start_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_counter) | Applicable only for [ENT_TYPE](#ENT_TYPE)`.FLOOR_SUNCHALLENGE_GENERATOR`
bool | [on_off](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=on_off) | Applicable only for [ENT_TYPE](#ENT_TYPE)`.FLOOR_SUNCHALLENGE_GENERATOR`

### HorizontalForceField

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [first_item_beam](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=first_item_beam) | 
[Entity](#Entity) | [fx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
bool | [is_on](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_on) | 

### JungleSpearTrap

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
nil | [trigger(int who_uid, int direction)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger) | The uid must be movable entity for ownership transfers, direction: 1 = left, 2 = right, 3 = up, 4 = down

### LaserTrap

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | counts up from 0 after triggering, cannot shoot again until 360
nil | [trigger(int who_uid)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger) | The uid must be movable entity for ownership transfers

### LockedDoor

Derived from [Entity](#Entity) [Floor](#Floor) [Door](#Door)


Type | Name | Description
---- | ---- | -----------
bool | [unlocked](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unlocked) | 

### MainExit

Derived from [Entity](#Entity) [Floor](#Floor) [Door](#Door) [ExitDoor](#ExitDoor)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Entity](#Entity) | [door_blocker](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door_blocker) | Normally `FX_MAIN_EXIT_DOOR` but setting any entity here will block the door

### MotherStatue

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
array&lt;bool, 4&gt; | [players_standing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players_standing) | Table of player1_standing, player2_standing, ... etc.
bool | [player1_standing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player1_standing) | 
bool | [player2_standing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player2_standing) | 
bool | [player3_standing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player3_standing) | 
bool | [player4_standing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player4_standing) | 
array&lt;bool, 4&gt; | [players_health_received](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players_health_received) | Table of player1_health_received, player2_health_received, ... etc.
bool | [player1_health_received](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player1_health_received) | 
bool | [player2_health_received](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player2_health_received) | 
bool | [player3_health_received](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player3_health_received) | 
bool | [player4_health_received](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player4_health_received) | 
array&lt;int, 4&gt; | [players_health_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=players_health_timer) | Table of player1_health_timer, player2_health_timer, ... etc.
int | [player1_health_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player1_health_timer) | 
int | [player2_health_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player2_health_timer) | 
int | [player3_health_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player3_health_timer) | 
int | [player4_health_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player4_health_timer) | 
int | [eggplantchild_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=eggplantchild_timer) | 
bool | [eggplantchild_detected](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=eggplantchild_detected) | 

### Pipe

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
int | [direction_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=direction_type) | 3 - straight_horizontal, 4 - blocked, 5 - down_left_turn, 6 - down_right_turn, 8 - blocked, 9 - up_left_turn, 10 - up_right_turn, 12 - straight_vertical
bool | [end_pipe](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=end_pipe) | 

### PoleDeco

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
int | [deco_up](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deco_up) | 
int | [deco_down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deco_down) | 

### QuickSand

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------

### SlidingWallCeiling

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [attached_piece](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attached_piece) | 
int | [active_floor_part_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=active_floor_part_uid) | 
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | 1 - going up / is at the top, 2 - pause
[SoundMeta](#SoundMeta) | [ball_rise](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ball_rise) | 
[SoundMeta](#SoundMeta) | [ball_drop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ball_drop) | 

### SparkTrap

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [spark_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spark_uid) | 

### SpikeballTrap

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Entity](#Entity) | [chain](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chain) | 
[Entity](#Entity) | [end_piece](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=end_piece) | 
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | 0 - none, 1 - start, 2 - going_down, 3 - going_up, 4 - pause; going_up is only right when timer is 0, otherwise it just sits at the bottom
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | for the start and retract

### StickyTrap

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [attached_piece_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attached_piece_uid) | 
int | [ball_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ball_uid) | 
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | 0 - none, 1 - start, 2 - going down, 3 - is at the bottom, 4 - going up, 5 - pause
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### TeleportingBorder

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
int | [direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=direction) | 0 - right, 1 - left, 2 - bottom, 3 - top, 4 - disable

### TentacleBottom

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
int | [attached_piece_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attached_piece_uid) | 
int | [tentacle_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tentacle_uid) | 
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | 0 - none, 1 - start, 2 - moving up, 3 - at the top, 4 - moving down 5 - pause

### TimedForceField

Derived from [Entity](#Entity) [Floor](#Floor) [ForceField](#ForceField)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
bool | [pause](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause) | 

### TotemTrap

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [spawn_entity_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_entity_type) | 
[SOUNDID](#Aliases) | [first_sound_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=first_sound_id) | 
nil | [trigger(int who_uid, bool left)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger) | The uid must be movable entity for ownership transfers

### TransferFloor

Derived from [Entity](#Entity) [Floor](#Floor)


Type | Name | Description
---- | ---- | -----------
map&lt;int, int&gt; | [transferred_entities](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=transferred_entities) | Index is the uid, value is frame the entity entered the floor (time_level), use `pairs` to loop thru

## Generic entities


### BoulderSpawner

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | Can be set negative for longer time period, spawns boulder at 150, setting it higher with count to overflow
int | [owner_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owner_uid) | UID of entity that triggered the trap.
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### CameraFlash

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [illumination1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination1) | 
[Illumination](#Illumination) | [illumination2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination2) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### CinematicAnchor

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [blackbar_top](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blackbar_top) | 
[Entity](#Entity) | [blackbar_bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blackbar_bottom) | 
float | [roll_in](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=roll_in) | 0.0 to 1.0

### CrossBeam

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [attached_to_side_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attached_to_side_uid) | 
int | [attached_to_top_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attached_to_top_uid) | 

### DMAlienBlast

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [owner_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owner_uid) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Entity](#Entity) | [reticule_internal](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=reticule_internal) | 
[Entity](#Entity) | [reticule_external](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=reticule_external) | 

### DMSpawning

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
float | [spawn_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_x) | 
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 
float | [sine_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_pos) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### DecoRegeneratingBlock

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------

### DustWallApep

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 

### EggplantThrower

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------

### Entity


Type | Name | Description
---- | ---- | -----------
[EntityDB](#EntityDB) | [type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=type) | Type of the entity, contains special properties etc. If you want to edit them just for this entity look at the [EntityDB](#EntityDB)
[Entity](#Entity) | [overlay](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=overlay) | 
[ENT_FLAG](#ENT_FLAG) | [flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flags) | see [flags.hpp](https://github.com/spelunky-fyi/overlunky/blob/main/src/game_api/flags.hpp) entity_flags
[ENT_MORE_FLAG](#ENT_MORE_FLAG) | [more_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=more_flags) | see [flags.hpp](https://github.com/spelunky-fyi/overlunky/blob/main/src/game_api/flags.hpp) more_flags
int | [uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=uid) | Unique id of the entity, save it to variable to check this entity later (don't use the whole [Entity](#Entity) type as it will be replaced with a different one when this is destroyed)
int | [animation_frame](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=animation_frame) | Number (id) of the sprite in the texture
int | [draw_depth](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=draw_depth) | Depth level that this entity is drawn on.<br/>Don't edit this directly, use `set_draw_depth` function
float | [x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x) | Position of the entity in the world, or relative to overlay if attached to something. Use `get_absolute_position` to get real position of anything in the game world.
float | [y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y) | Position of the entity in the world, or relative to overlay if attached to something. Use `get_absolute_position` to get real position of anything in the game world.
float | [abs_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=abs_x) | Absolute position in the world, even if overlaid. Might be a frame off since it's updated with `apply_movement` function and so it does not update if game moves the entity in different way after movement is processed.<br/>Use `get_absolute_position` for precise. Read only.
float | [abs_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=abs_y) | Absolute position in the world, even if overlaid. Might be a frame off since it's updated with `apply_movement` function and so it does not update if game moves the entity in different way after movement is processed.<br/>Use `get_absolute_position` for precise. Read only.
int | [layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=layer) | Use `set_layer` to change
float | [width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=width) | Width of the sprite
float | [height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=height) | Height of the sprite
float | [special_offsetx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=special_offsetx) | Special offset used for entities attached to others (or picked by others) that need to flip to the other side when the parent flips sides
float | [special_offsety](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=special_offsety) | Special offset used for entities attached to others (or picked by others) that need to flip to the other side when the parent flips sides
float | [tile_width](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tile_width) | Size of the sprite in the texture
float | [tile_height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tile_height) | Size of the sprite in the texture
float | [angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=angle) | 
[Color](#Color) | [color](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=color) | 
float | [hitboxx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hitboxx) | Half of the width of the hitbox
float | [hitboxy](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hitboxy) | Half of the height of the hitbox
[SHAPE](#SHAPE) | [shape](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shape) | 
bool | [hitbox_enabled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hitbox_enabled) | 
float | [offsetx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offsetx) | Offset of the hitbox in relation to the entity position
float | [offsety](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offsety) | Offset of the hitbox in relation to the entity position
[RenderInfo](#RenderInfo) | [rendering_info](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rendering_info) | 
any | [user_data](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=user_data) | You can put any arbitrary lua object here for custom entities or player stats, which is then saved across level transitions for players and carried items, mounts etc... This field is local to the script and multiple scripts can write different things in the same entity. The data is saved right before [ON](#ON).PRE_LOAD_SCREEN from a level and loaded right before [ON](#ON).POST_LOAD_SCREEN to a level or transition. It is not available yet in post_entity_spawn, but that is a good place to initialize it for new custom entities. See example for more.<br/> 
[Entity](#Entity) | [topmost()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=topmost) | Returns the top entity in a chain (overlay)
bool | [overlaps_with(AABB hitbox)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=overlaps_with) | 
bool | [overlaps_with(float rect_left, float rect_bottom, float rect_right, float rect_top)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=overlaps_with) | Deprecated<br/>Use `overlaps_with(AABB hitbox)` instead
bool | [overlaps_with(Entity other)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=overlaps_with) | 
[TEXTURE](#TEXTURE) | [get_texture()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_texture) | 
bool | [set_texture(TEXTURE texture_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_texture) | Changes the entity texture, check the [textures.txt](game_data/textures.txt) for available vanilla textures or use [define_texture](#define_texture) to make custom one
nil | [set_draw_depth(int draw_depth, optional<int> unknown)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_draw_depth) | optional unknown - game usually sets it to 0, doesn't appear to have any special effect (needs more reverse engineering) 
nil | [reset_draw_depth()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=reset_draw_depth) | 
float | [friction()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=friction) | Friction of this entity, affects it's contact with other entities (how fast it slows down on the floor, how fast it can move but also the other way around for floors/activefloors: how other entities can move on it)
nil | [liberate_from_shop(bool clear_parrent)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=liberate_from_shop) | `clear_parent` used only for CHAR_* entities, sets the `linked_companion_parent` to -1. It's not called when item is bought
[Entity](#Entity) | [get_held_entity()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_held_entity) | 
nil | [set_layer(LAYER layer)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_layer) | Moves the entity to specified layer with all it's items, nothing else happens, so this does not emulate a door transition
nil | [apply_layer()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=apply_layer) | Adds the entity to its own layer, to add it to entity lookup tables without waiting for a state update
nil | [remove()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=remove) | Moves the entity to the limbo-layer where it can later be retrieved from again via `respawn`
nil | [respawn(LAYER layer_to)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=respawn) | Moves the entity from the limbo-layer (where it was previously put by `remove`) to `layer`
nil | [kill(bool destroy_corpse, Entity responsible)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kill) | Kills the entity, you can set responsible to `nil` to ignore it
nil | [destroy()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destroy) | Completely removes the entity from existence
nil | [activate(Entity activator)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=activate) | Activates a button prompt (with the Use door/Buy button), e.g. buy shop item, activate drill, read sign, interact in camp, ... `get_entity(<udjat socket uid>):activate(players[1])` (make sure player 1 has the udjat eye though)
nil | [perform_teleport(int delta_x, int delta_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=perform_teleport) | Performs a teleport as if the entity had a teleporter and used it. The delta coordinates are where you want the entity to teleport to relative to its current position, in tiles (so integers, not floats). Positive numbers = to the right and up, negative left and down.
bool | [trigger_action(Entity user)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger_action) | Triggers weapons and other held items like teleporter, mattock etc. You can check the [virtual-availability.md](https://github.com/spelunky-fyi/overlunky/blob/main/docs/virtual-availability.md), if entity has `open` in the `on_open` you can use this function, otherwise it does nothing. Returns false if action could not be performed (cooldown is not 0, no arrow loaded in etc. the animation could still be played thou)
int | [get_metadata()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_metadata) | e.g. for turkey: stores health, poison/curse state, for mattock: remaining swings (returned value is transferred)
nil | [apply_metadata(int metadata)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=apply_metadata) | 
nil | [set_invisible(bool value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_invisible) | 
vector&lt;int&gt; | [get_items()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_items) | 
bool | [is_in_liquid()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_in_liquid) | Returns true if entity is in water/lava
bool | [is_cursed()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_cursed) | 
bool | [is_movable()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_movable) | 
bool | [can_be_pushed()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_be_pushed) | 
nil | [kill_recursive(bool destroy_corpse, Entity responsible, optional<MASK> mask, array<ENT_TYPE> ent_types, RECURSIVE_MODE rec_mode)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kill_recursive) | Kill entity along with all entities attached to it. Be aware that for example killing push block with this function will also kill anything on top of it, any items, players, monsters etc.<br/>To avoid that, you can inclusively or exclusively limit certain [MASK](#MASK) and [ENT_TYPE](#ENT_TYPE). Note: the function will first check mask, if the entity doesn't match, it will look in the provided [ENT_TYPE](#ENT_TYPE)'s<br/>destroy_corpse and responsible are the standard parameters for the kill function
nil | [kill_recursive(bool destroy_corpse, Entity responsible)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kill_recursive) | Short for using [RECURSIVE_MODE](#RECURSIVE_MODE).NONE
nil | [destroy_recursive(optional<MASK> mask, array<ENT_TYPE> ent_types, RECURSIVE_MODE rec_mode)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destroy_recursive) | Destroy entity along with all entities attached to it. Be aware that for example destroying push block with this function will also destroy anything on top of it, any items, players, monsters etc.<br/>To avoid that, you can inclusively or exclusively limit certain [MASK](#MASK) and [ENT_TYPE](#ENT_TYPE). Note: the function will first check the mask, if the entity doesn't match, it will look in the provided [ENT_TYPE](#ENT_TYPE)'s
nil | [destroy_recursive()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=destroy_recursive) | Short for using [RECURSIVE_MODE](#RECURSIVE_MODE).NONE
nil | [update()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=update) | 
nil | [flip(bool left)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flip) | 
nil | [remove_item(Entity entity, bool autokill_check)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=remove_item) | Can be called multiple times for the same entity (for example when play throws/drops entity from it's hands)
nil | [apply_db()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=apply_db) | Applies changes made in `entity.type`
[Vec2](#Vec2) | [get_absolute_velocity()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_absolute_velocity) | Get's the velocity relative to the game world, only for movable or liquid entities
[Vec2](#Vec2) | [get_absolute_position()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_absolute_position) | Get the absolute position of an entity in the game world
[AABB](#AABB) | [get_hitbox(optional<bool> use_render_pos)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_hitbox) | `use_render_pos` default is `false`
nil | [attach(Entity new_overlay)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attach) | Attach to other entity (at the current relative position to it)
nil | [detach(optional<bool> check_autokill)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=detach) | Detach from overlay
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_dtor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_dtor) | Hooks before the virtual function.<br/>The callback signature is `nil dtor(Entity self)`
[CallbackId](#Aliases) | [set_post_dtor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_dtor) | Hooks after the virtual function.<br/>The callback signature is `nil dtor(Entity self)`
[CallbackId](#Aliases) | [set_pre_create_rendering_info(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_create_rendering_info) | Hooks before the virtual function.<br/>The callback signature is `bool create_rendering_info(Entity self)`
[CallbackId](#Aliases) | [set_post_create_rendering_info(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_create_rendering_info) | Hooks after the virtual function.<br/>The callback signature is `nil create_rendering_info(Entity self)`
[CallbackId](#Aliases) | [set_pre_update_state_machine(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_update_state_machine) | Hooks before the virtual function.<br/>The callback signature is `bool update_state_machine(Entity self)`
[CallbackId](#Aliases) | [set_post_update_state_machine(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_update_state_machine) | Hooks after the virtual function.<br/>The callback signature is `nil update_state_machine(Entity self)`
[CallbackId](#Aliases) | [set_pre_kill(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_kill) | Hooks before the virtual function.<br/>The callback signature is `bool kill(Entity self, bool destroy_corpse, Entity responsible)`<br/>Virtual function docs:<br/>Kills the entity, you can set responsible to `nil` to ignore it
[CallbackId](#Aliases) | [set_post_kill(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_kill) | Hooks after the virtual function.<br/>The callback signature is `nil kill(Entity self, bool destroy_corpse, Entity responsible)`<br/>Virtual function docs:<br/>Kills the entity, you can set responsible to `nil` to ignore it
[CallbackId](#Aliases) | [set_pre_on_collision1(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_on_collision1) | Hooks before the virtual function.<br/>The callback signature is `bool on_collision1(Entity self, Entity other_entity)`<br/>Virtual function docs:<br/>Collisions with stuff that blocks you, like walls, floors, etc. Triggers for entities in it's EntityDB.collision_mask
[CallbackId](#Aliases) | [set_post_on_collision1(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_on_collision1) | Hooks after the virtual function.<br/>The callback signature is `nil on_collision1(Entity self, Entity other_entity)`<br/>Virtual function docs:<br/>Collisions with stuff that blocks you, like walls, floors, etc. Triggers for entities in it's EntityDB.collision_mask
[CallbackId](#Aliases) | [set_pre_destroy(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_destroy) | Hooks before the virtual function.<br/>The callback signature is `bool destroy(Entity self)`<br/>Virtual function docs:<br/>Completely removes the entity from existence
[CallbackId](#Aliases) | [set_post_destroy(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_destroy) | Hooks after the virtual function.<br/>The callback signature is `nil destroy(Entity self)`<br/>Virtual function docs:<br/>Completely removes the entity from existence
[CallbackId](#Aliases) | [set_pre_generate_damage_particles(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_generate_damage_particles) | Hooks before the virtual function.<br/>The callback signature is `bool generate_damage_particles(Entity self, Entity victim, DAMAGE_TYPE damage, bool killing)`
[CallbackId](#Aliases) | [set_post_generate_damage_particles(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_generate_damage_particles) | Hooks after the virtual function.<br/>The callback signature is `nil generate_damage_particles(Entity self, Entity victim, DAMAGE_TYPE damage, bool killing)`
[CallbackId](#Aliases) | [set_pre_can_be_pushed(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_can_be_pushed) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> can_be_pushed(Entity self)`
[CallbackId](#Aliases) | [set_post_can_be_pushed(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_can_be_pushed) | Hooks after the virtual function.<br/>The callback signature is `nil can_be_pushed(Entity self)`
[CallbackId](#Aliases) | [set_pre_is_in_liquid(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_is_in_liquid) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> is_in_liquid(Entity self)`<br/>Virtual function docs:<br/>Returns true if entity is in water/lava
[CallbackId](#Aliases) | [set_post_is_in_liquid(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_is_in_liquid) | Hooks after the virtual function.<br/>The callback signature is `nil is_in_liquid(Entity self)`<br/>Virtual function docs:<br/>Returns true if entity is in water/lava
[CallbackId](#Aliases) | [set_pre_set_invisible(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_set_invisible) | Hooks before the virtual function.<br/>The callback signature is `bool set_invisible(Entity self, bool value)`
[CallbackId](#Aliases) | [set_post_set_invisible(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_set_invisible) | Hooks after the virtual function.<br/>The callback signature is `nil set_invisible(Entity self, bool value)`
[CallbackId](#Aliases) | [set_pre_flip(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_flip) | Hooks before the virtual function.<br/>The callback signature is `bool flip(Entity self, bool left)`
[CallbackId](#Aliases) | [set_post_flip(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_flip) | Hooks after the virtual function.<br/>The callback signature is `nil flip(Entity self, bool left)`
[CallbackId](#Aliases) | [set_pre_set_draw_depth(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_set_draw_depth) | Hooks before the virtual function.<br/>The callback signature is `bool set_draw_depth(Entity self, int draw_depth, int b3f)`
[CallbackId](#Aliases) | [set_post_set_draw_depth(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_set_draw_depth) | Hooks after the virtual function.<br/>The callback signature is `nil set_draw_depth(Entity self, int draw_depth, int b3f)`
[CallbackId](#Aliases) | [set_pre_reset_draw_depth(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_reset_draw_depth) | Hooks before the virtual function.<br/>The callback signature is `bool reset_draw_depth(Entity self)`
[CallbackId](#Aliases) | [set_post_reset_draw_depth(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_reset_draw_depth) | Hooks after the virtual function.<br/>The callback signature is `nil reset_draw_depth(Entity self)`
[CallbackId](#Aliases) | [set_pre_friction(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_friction) | Hooks before the virtual function.<br/>The callback signature is `optional<float> friction(Entity self)`<br/>Virtual function docs:<br/>Friction of this entity, affects it's contact with other entities (how fast it slows down on the floor, how fast it can move but also the other way around for floors/activefloors: how other entities can move on it)
[CallbackId](#Aliases) | [set_post_friction(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_friction) | Hooks after the virtual function.<br/>The callback signature is `nil friction(Entity self)`<br/>Virtual function docs:<br/>Friction of this entity, affects it's contact with other entities (how fast it slows down on the floor, how fast it can move but also the other way around for floors/activefloors: how other entities can move on it)
[CallbackId](#Aliases) | [set_pre_set_as_sound_source(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_set_as_sound_source) | Hooks before the virtual function.<br/>The callback signature is `bool set_as_sound_source(Entity self, SoundMeta soundmeta)`
[CallbackId](#Aliases) | [set_post_set_as_sound_source(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_set_as_sound_source) | Hooks after the virtual function.<br/>The callback signature is `nil set_as_sound_source(Entity self, SoundMeta soundmeta)`
[CallbackId](#Aliases) | [set_pre_remove_item(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_remove_item) | Hooks before the virtual function.<br/>The callback signature is `bool remove_item(Entity self, Entity entity, bool autokill_check)`<br/>Virtual function docs:<br/>Can be called multiple times for the same entity (for example when play throws/drops entity from it's hands)
[CallbackId](#Aliases) | [set_post_remove_item(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_remove_item) | Hooks after the virtual function.<br/>The callback signature is `nil remove_item(Entity self, Entity entity, bool autokill_check)`<br/>Virtual function docs:<br/>Can be called multiple times for the same entity (for example when play throws/drops entity from it's hands)
[CallbackId](#Aliases) | [set_pre_get_held_entity(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_get_held_entity) | Hooks before the virtual function.<br/>The callback signature is `optional<Entity> get_held_entity(Entity self)`
[CallbackId](#Aliases) | [set_post_get_held_entity(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_get_held_entity) | Hooks after the virtual function.<br/>The callback signature is `nil get_held_entity(Entity self)`
[CallbackId](#Aliases) | [set_pre_trigger_action(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_trigger_action) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> trigger_action(Entity self, Entity user)`<br/>Virtual function docs:<br/>Triggers weapons and other held items like teleporter, mattock etc. You can check the [virtual-availability.md](https://github.com/spelunky-fyi/overlunky/blob/main/docs/virtual-availability.md), if entity has `open` in the `on_open` you can use this function, otherwise it does nothing. Returns false if action could not be performed (cooldown is not 0, no arrow loaded in etc. the animation could still be played thou)
[CallbackId](#Aliases) | [set_post_trigger_action(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_trigger_action) | Hooks after the virtual function.<br/>The callback signature is `nil trigger_action(Entity self, Entity user)`<br/>Virtual function docs:<br/>Triggers weapons and other held items like teleporter, mattock etc. You can check the [virtual-availability.md](https://github.com/spelunky-fyi/overlunky/blob/main/docs/virtual-availability.md), if entity has `open` in the `on_open` you can use this function, otherwise it does nothing. Returns false if action could not be performed (cooldown is not 0, no arrow loaded in etc. the animation could still be played thou)
[CallbackId](#Aliases) | [set_pre_activate(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_activate) | Hooks before the virtual function.<br/>The callback signature is `bool activate(Entity self, Entity activator)`<br/>Virtual function docs:<br/>Activates a button prompt (with the Use door/Buy button), e.g. buy shop item, activate drill, read sign, interact in camp, ... `get_entity(<udjat socket uid>):activate(players[1])` (make sure player 1 has the udjat eye though)
[CallbackId](#Aliases) | [set_post_activate(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_activate) | Hooks after the virtual function.<br/>The callback signature is `nil activate(Entity self, Entity activator)`<br/>Virtual function docs:<br/>Activates a button prompt (with the Use door/Buy button), e.g. buy shop item, activate drill, read sign, interact in camp, ... `get_entity(<udjat socket uid>):activate(players[1])` (make sure player 1 has the udjat eye though)
[CallbackId](#Aliases) | [set_pre_on_collision2(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_on_collision2) | Hooks before the virtual function.<br/>The callback signature is `bool on_collision2(Entity self, Entity other_entity)`<br/>Virtual function docs:<br/>More like on_overlap, triggers when entities touch/overlap each other. Triggers for entities in it's EntityDB.collision2_mask
[CallbackId](#Aliases) | [set_post_on_collision2(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_on_collision2) | Hooks after the virtual function.<br/>The callback signature is `nil on_collision2(Entity self, Entity other_entity)`<br/>Virtual function docs:<br/>More like on_overlap, triggers when entities touch/overlap each other. Triggers for entities in it's EntityDB.collision2_mask
[CallbackId](#Aliases) | [set_pre_get_metadata(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_get_metadata) | Hooks before the virtual function.<br/>The callback signature is `optional<int> get_metadata(Entity self)`<br/>Virtual function docs:<br/>e.g. for turkey: stores health, poison/curse state, for mattock: remaining swings (returned value is transferred)
[CallbackId](#Aliases) | [set_post_get_metadata(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_get_metadata) | Hooks after the virtual function.<br/>The callback signature is `nil get_metadata(Entity self)`<br/>Virtual function docs:<br/>e.g. for turkey: stores health, poison/curse state, for mattock: remaining swings (returned value is transferred)
[CallbackId](#Aliases) | [set_pre_apply_metadata(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_apply_metadata) | Hooks before the virtual function.<br/>The callback signature is `bool apply_metadata(Entity self, int metadata)`
[CallbackId](#Aliases) | [set_post_apply_metadata(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_apply_metadata) | Hooks after the virtual function.<br/>The callback signature is `nil apply_metadata(Entity self, int metadata)`
[CallbackId](#Aliases) | [set_pre_walked_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_walked_on) | Hooks before the virtual function.<br/>The callback signature is `bool walked_on(Entity self, Entity walker)`
[CallbackId](#Aliases) | [set_post_walked_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_walked_on) | Hooks after the virtual function.<br/>The callback signature is `nil walked_on(Entity self, Entity walker)`
[CallbackId](#Aliases) | [set_pre_walked_off(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_walked_off) | Hooks before the virtual function.<br/>The callback signature is `bool walked_off(Entity self, Entity walker)`
[CallbackId](#Aliases) | [set_post_walked_off(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_walked_off) | Hooks after the virtual function.<br/>The callback signature is `nil walked_off(Entity self, Entity walker)`
[CallbackId](#Aliases) | [set_pre_ledge_grab(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_ledge_grab) | Hooks before the virtual function.<br/>The callback signature is `bool ledge_grab(Entity self, Entity who)`
[CallbackId](#Aliases) | [set_post_ledge_grab(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_ledge_grab) | Hooks after the virtual function.<br/>The callback signature is `nil ledge_grab(Entity self, Entity who)`
[CallbackId](#Aliases) | [set_pre_stood_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_stood_on) | Hooks before the virtual function.<br/>The callback signature is `bool stood_on(Entity self, Entity entity, Vec2)`
[CallbackId](#Aliases) | [set_post_stood_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_stood_on) | Hooks after the virtual function.<br/>The callback signature is `nil stood_on(Entity self, Entity entity, Vec2)`
[CallbackId](#Aliases) | [set_pre_liberate_from_shop(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_liberate_from_shop) | Hooks before the virtual function.<br/>The callback signature is `bool liberate_from_shop(Entity self, bool clear_parrent)`<br/>Virtual function docs:<br/>`clear_parent` used only for CHAR_* entities, sets the `linked_companion_parent` to -1. It's not called when item is bought
[CallbackId](#Aliases) | [set_post_liberate_from_shop(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_liberate_from_shop) | Hooks after the virtual function.<br/>The callback signature is `nil liberate_from_shop(Entity self, bool clear_parrent)`<br/>Virtual function docs:<br/>`clear_parent` used only for CHAR_* entities, sets the `linked_companion_parent` to -1. It's not called when item is bought
[CallbackId](#Aliases) | [set_pre_init(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_init) | Hooks before the virtual function.<br/>The callback signature is `bool init(Entity self)`<br/>Virtual function docs:<br/>Applies changes made in `entity.type`
[CallbackId](#Aliases) | [set_post_init(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_init) | Hooks after the virtual function.<br/>The callback signature is `nil init(Entity self)`<br/>Virtual function docs:<br/>Applies changes made in `entity.type`

### IceSlidingSound

Derived from [Entity](#Entity) [LogicalSound](#LogicalSound)


Type | Name | Description
---- | ---- | -----------

### JungleTrapTrigger

Derived from [Entity](#Entity) [LogicalTrapTrigger](#LogicalTrapTrigger)


Type | Name | Description
---- | ---- | -----------

### Lava

Derived from [Entity](#Entity) [Liquid](#Liquid)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 

### LimbAnchor

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
float | [anchor_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=anchor_x) | Current position of the ankle/wrist of this limb anchor.
float | [anchor_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=anchor_y) | Current position of the ankle/wrist of this limb anchor.
float | [move_origin_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_origin_x) | Position of this limb anchor at the beginning of a movement.
float | [move_origin_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_origin_y) | Position of this limb anchor at the beginning of a movement.
float | [move_destination_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_destination_x) | Position of this limb anchor at the end of a movement.
float | [move_destination_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_destination_y) | Position of this limb anchor at the end of a movement.
int | [elapsed_move_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=elapsed_move_time) | Number of frames the limb has been moving from move_origin to move_destination.
int | [move_duration](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_duration) | Number of frames the limb should take to move from move_origin to move_destination.
bool | [flip_vertical](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flip_vertical) | 

### Liquid

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [fx_surface](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_surface) | 
int | [get_liquid_flags()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_liquid_flags) | 
nil | [set_liquid_flags(int flags)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_liquid_flags) | 

### MummyFliesSound

Derived from [Entity](#Entity) [LogicalSound](#LogicalSound)


Type | Name | Description
---- | ---- | -----------
int | [mummy_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mummy_uid) | 
int | [flies](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flies) | Numbers of flies spawned

### OuroboroCameraAnchor

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
float | [target_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_x) | 
float | [target_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_y) | 
float | [velocity_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocity_x) | 
float | [velocity_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocity_y) | 

### OuroboroCameraZoomin

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
float | [zoomin_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=zoomin_level) | Can be set to negative, seams to trigger the warp at some value

### PalaceSign

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | The neon buzz sound
[Illumination](#Illumination) | [illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination) | 
[Illumination](#Illumination) | [arrow_illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrow_illumination) | 
int | [arrow_change_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrow_change_timer) | 

### PipeTravelerSound

Derived from [Entity](#Entity) [LogicalSound](#LogicalSound)


Type | Name | Description
---- | ---- | -----------
bool | [enter_exit](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=enter_exit) | 

### Portal

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [transition_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=transition_timer) | 
int | [level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=level) | 
int | [world](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=world) | 
int | [theme](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=theme) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### QuickSandSound

Derived from [Entity](#Entity) [LogicalSound](#LogicalSound)


Type | Name | Description
---- | ---- | -----------

### RoomLight

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination) | 

### ShootingStarSpawner

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### SplashBubbleGenerator

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

## Logical entities


### LogicalAnchovyFlock

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
float | [current_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=current_speed) | Increases until max_speed reached
float | [max_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=max_speed) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### LogicalConveyorbeltSound

Derived from [Entity](#Entity) [LogicalSound](#LogicalSound)


Type | Name | Description
---- | ---- | -----------

### LogicalDoor

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [door_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door_type) | Spawns this entity when not covered by floor. Must be initialized to valid [ENT_TYPE](#ENT_TYPE) before revealed, or crashes the game.
[ENT_TYPE](#ENT_TYPE) | [platform_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=platform_type) | Spawns this entity below when tile below is uncovered. Doesn't spawn anything if it was never covered by floor, unless platform_spawned is set to false. Must be initialized to valid [ENT_TYPE](#ENT_TYPE) before revealed, or crashes the game.
bool | [visible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=visible) | Set automatically when not covered by floor.
bool | [platform_spawned](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=platform_spawned) | Set automatically when tile below is not covered by floor. Unset to force the platform to spawn if it was never covered in the first place.

### LogicalDrain

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | Little delay between pulling blob of liquid thru

### LogicalLiquidStreamSound

Derived from [Entity](#Entity) [LogicalSound](#LogicalSound) [LogicalStaticSound](#LogicalStaticSound)


Type | Name | Description
---- | ---- | -----------

### LogicalMiniGame

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | Delay between spawning ufo

### LogicalRegeneratingBlock

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### LogicalSound

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### LogicalStaticSound

Derived from [Entity](#Entity) [LogicalSound](#LogicalSound)


Type | Name | Description
---- | ---- | -----------

### LogicalTrapTrigger

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
int | [min_empty_distance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=min_empty_distance) | Used in [BigSpearTrap](#BigSpearTrap) when it has to have minimum 2 free spaces to be able to trigger, value in tiles
int | [trigger_distance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger_distance) | Value in tiles
bool | [vertical](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vertical) | 

## Monsters, Inc.


### Alien

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | 
int | [shudder_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shudder_timer) | 
int | [leg_shake_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=leg_shake_timer) | 

### Ammit

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 

### Anubis

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [spawn_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_x) | 
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 
float | [attack_proximity_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_proximity_y) | 
float | [attack_proximity_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_proximity_x) | 
int | [ai_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ai_timer) | 
int | [next_attack_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=next_attack_timer) | 
int | [psychic_orbs_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=psychic_orbs_counter) | 
bool | [awake](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=awake) | 

### ApepHead

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [ApepPart](#ApepPart)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound1) | 
[SoundMeta](#SoundMeta) | [sound2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound2) | 
float | [distance_traveled](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=distance_traveled) | 
int | [tail_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tail_uid) | 
int | [fx_mouthpiece1_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_mouthpiece1_uid) | 
int | [fx_mouthpiece2_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_mouthpiece2_uid) | 

### ApepPart

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [y_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_pos) | 
float | [sine_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_angle) | 
int | [sync_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sync_timer) | or pause timer, used to sync the body parts moving up and down

### Axolotl

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Mount](#Mount)


Type | Name | Description
---- | ---- | -----------
int | [attack_cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_cooldown) | 
bool | [can_teleport](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_teleport) | 

### Bat

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [spawn_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_x) | 
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 

### Bee

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
bool | [can_rest](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_rest) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [fly_hang_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fly_hang_timer) | 
int | [targeting_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=targeting_timer) | 
int | [walk_start_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_start_time) | 
int | [walk_end_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_end_time) | 
float | [wobble_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wobble_x) | 
float | [wobble_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wobble_y) | 

### Beg

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [NPC](#NPC)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
int | [disappear_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=disappear_timer) | 

### Bodyguard

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [NPC](#NPC)


Type | Name | Description
---- | ---- | -----------
int | [position_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=position_state) | 0 - none, 1 - Tusk dice shop, 2 - Entrance to pleasure palace, 3 - Basement entrance to pleasure palace
bool | [message_shown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=message_shown) | 

### CatMummy

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [jump_height_multiplier](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_height_multiplier) | Set in process_input when jump is triggered to be used when applying velocity for the jump.
int | [attack_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_timer) | 

### Caveman

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
int | [wake_up_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wake_up_timer) | 
int | [can_pick_up_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_pick_up_timer) | 0 = can pick something up, when holding forced to 179, after tripping and regaining consciousness counts down to 0
int | [aggro_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=aggro_timer) | keeps resetting when angry and a player is nearby

### CavemanShopkeeper

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
bool | [tripping](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tripping) | 
bool | [shop_entered](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shop_entered) | 

### Cobra

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [spit_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spit_timer) | 

### Crabman

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
int | [invincibility_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=invincibility_timer) | 
int | [poison_attack_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=poison_attack_timer) | 
int | [attacking_claw_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attacking_claw_uid) | 
bool | [at_maximum_attack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=at_maximum_attack) | 

### Critter

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [last_picked_up_by_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_picked_up_by_uid) | 
int | [holding_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=holding_state) | 

### CritterBeetle

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
bool | [pause](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause) | used when he's getting eaten

### CritterButterfly

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
int | [change_direction_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=change_direction_timer) | 
int | [vertical_flight_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vertical_flight_direction) | 

### CritterCrab

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
bool | [walking_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walking_left) | 
bool | [unfriendly](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unfriendly) | moves away from its target instead of towards it

### CritterDrone

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
float | [applied_hor_momentum](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=applied_hor_momentum) | 
float | [applied_ver_momentum](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=applied_ver_momentum) | 
bool | [unfriendly](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unfriendly) | moves away from its target instead of towards it
int | [move_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_timer) | 

### CritterFirefly

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
float | [sine_amplitude](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_amplitude) | 
float | [sine_frequency](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_frequency) | 
float | [sine_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_angle) | 
int | [change_direction_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=change_direction_timer) | 
int | [sit_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sit_timer) | 
int | [sit_cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sit_cooldown_timer) | 

### CritterFish

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
int | [swim_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=swim_pause_timer) | 
bool | [player_in_proximity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_in_proximity) | 

### CritterLocust

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | 

### CritterPenguin

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | 

### CritterSlime

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
float | [x_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x_direction) | 
float | [y_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_direction) | 
float | [pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pos_x) | 
float | [pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pos_y) | 
float | [rotation_center_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_center_x) | 
float | [rotation_center_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_center_y) | 
float | [rotation_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_angle) | 
float | [rotation_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_speed) | 
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 

### CritterSnail

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Critter](#Critter)


Type | Name | Description
---- | ---- | -----------
float | [x_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x_direction) | 
float | [y_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_direction) | 
float | [pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pos_x) | 
float | [pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pos_y) | 
float | [rotation_center_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_center_x) | 
float | [rotation_center_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_center_y) | 
float | [rotation_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_angle) | 
float | [rotation_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_speed) | 

### Crocman

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
int | [teleport_cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=teleport_cooldown) | 

### EggplantMinister

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
int | [squish_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=squish_timer) | 

### FireFrog

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Frog](#Frog)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### Firebug

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [fire_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fire_timer) | 
bool | [going_up](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=going_up) | 
bool | [detached_from_chain](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=detached_from_chain) | 

### FirebugUnchained

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
float | [max_flight_height](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=max_flight_height) | 
int | [ai_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ai_timer) | 
int | [walking_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walking_timer) | 

### Fish

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [change_direction_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=change_direction_timer) | 

### ForestSister

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [NPC](#NPC)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 

### Frog

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [grub_being_eaten_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=grub_being_eaten_uid) | 
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | 
bool | [pause](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pause) | 

### Ghist

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [body_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=body_uid) | 
int | [idle_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=idle_timer) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [transparency](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=transparency) | 
int | [fadeout](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fadeout) | 

### Ghost

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [split_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=split_timer) | for SMALL_HAPPY this is also the sequence timer of its various states
int | [wobble_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wobble_timer) | 
int | [pace_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pace_timer) | Controls ghost pacing when all players are dead.
float | [velocity_multiplier](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocity_multiplier) | 
[GHOST_BEHAVIOR](#GHOST_BEHAVIOR) | [ghost_behaviour](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ghost_behaviour) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
[Entity](#Entity) | [linked_ghost](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=linked_ghost) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
bool | [blown_by_player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blown_by_player) | 
bool | [happy_dancing_clockwise](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=happy_dancing_clockwise) | 
float | [target_dist_visibility_factor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_dist_visibility_factor) | 
float | [target_layer_visibility_factor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_layer_visibility_factor) | 

### GiantFish

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [change_direction_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=change_direction_timer) | when bouncing into a wall
int | [lose_interest_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lose_interest_timer) | delay in-between attacks

### GiantFly

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [head_entity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=head_entity) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 
float | [sine_amplitude](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_amplitude) | 
float | [sine_frequency](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_frequency) | 
float | [delta_y_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=delta_y_angle) | 
int | [sine_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_counter) | 

### GiantFrog

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [door_front_layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door_front_layer) | 
[Entity](#Entity) | [door_back_layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door_back_layer) | 
[Entity](#Entity) | [platform](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=platform) | 
int | [attack_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_timer) | 
int | [frogs_ejected_in_cycle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=frogs_ejected_in_cycle) | 
int | [invincibility_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=invincibility_timer) | 
int | [mouth_close_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mouth_close_timer) | 
bool | [mouth_open_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=mouth_open_trigger) | opens the mouth and starts mouth_close_timer, used when detecting grub in the mouth area

### GoldMonkey

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | 
int | [poop_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=poop_timer) | 
int | [poop_count](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=poop_count) | 

### Grub

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [rotation_delta](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_delta) | 
bool | [drop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=drop) | 
bool | [rotation_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_direction) | Counter-clockwise if true.
int | [wall_collision_cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wall_collision_cooldown) | Delay after colliding into a wall before it will change its movement direction again.
int | [rotation_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_timer) | Will randomly pick a new direction and angle when this timer elapses.
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | alternates between walking and pausing every time it reaches zero.
int | [turn_into_fly_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=turn_into_fly_timer) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### HangSpider

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [dangle_jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dangle_jump_timer) | 
float | [ceiling_pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ceiling_pos_x) | 
float | [ceiling_pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ceiling_pos_y) | 

### Hermitcrab

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [carried_entity_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=carried_entity_type) | 
int | [carried_entity_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=carried_entity_uid) | 
int | [walk_spit_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_spit_timer) | 
bool | [is_active](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_active) | whether it is hidden behind the carried block or not, if true you can damage him
bool | [is_inactive](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_inactive) | 
bool | [spawn_new_carried_item](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_new_carried_item) | defaults to true, when toggled to false, a new carried item spawns
bool | [going_up](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=going_up) | Whether the hermit crab is moving up when climbing a pole.

### HornedLizard

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [eaten_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=eaten_uid) | dungbeetle being eaten
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | alternates between walking and pausing when timer reaches zero
int | [attack_cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_cooldown_timer) | won't attack until timer reaches zero
int | [blood_squirt_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=blood_squirt_timer) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 

### Hundun

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [applied_hor_velocity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=applied_hor_velocity) | 
float | [applied_ver_velocity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=applied_ver_velocity) | 
int | [birdhead_entity_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=birdhead_entity_uid) | 
int | [snakehead_entity_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=snakehead_entity_uid) | 
float | [y_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_level) | current floor level
int | [bounce_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bounce_timer) | 
int | [fireball_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fireball_timer) | 
bool | [birdhead_defeated](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=birdhead_defeated) | 
bool | [snakehead_defeated](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=snakehead_defeated) | 
int | [hundun_flags](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hundun_flags) | 1:  Will move to the left, 2: Birdhead emerged, 3: Snakehead emerged, 4: Top level arena reached, 5: Birdhead shot last - to alternate the heads shooting fireballs
float | [y_limit](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_limit) | This is custom variable, you need [activate_hundun_hack](#activate_hundun_hack) to use it
float | [rising_speed_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rising_speed_x) | This is custom variable, you need [activate_hundun_hack](#activate_hundun_hack) to use it
float | [rising_speed_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rising_speed_y) | This is custom variable, you need [activate_hundun_hack](#activate_hundun_hack) to use it
float | [bird_head_spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bird_head_spawn_y) | This is custom variable, you need [activate_hundun_hack](#activate_hundun_hack) to use it
float | [snake_head_spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=snake_head_spawn_y) | This is custom variable, you need [activate_hundun_hack](#activate_hundun_hack) to use it

### HundunHead

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [attack_position_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_position_x) | Position where the head will move on attack
float | [attack_position_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_position_y) | 
int | [egg_crack_effect_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=egg_crack_effect_uid) | 
int | [targeted_player_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=targeted_player_uid) | 
int | [looking_for_target_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=looking_for_target_timer) | also cooldown before attack
int | [invincibility_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=invincibility_timer) | 

### Imp

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [carrying_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=carrying_uid) | 
float | [patrol_y_level](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=patrol_y_level) | 

### Jiangshi

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [wait_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wait_timer) | wait time between jumps
int | [jump_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_counter) | only female aka assassin: when 0 will jump up into ceiling
bool | [on_ceiling](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=on_ceiling) | only female aka assassin

### JumpDog

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
int | [squish_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=squish_timer) | 

### Kingu

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound1) | initialized when breaking the shell (sliding down sound maybe?)
[SoundMeta](#SoundMeta) | [sound2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound2) | Turning into stone sound
float | [climb_direction_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=climb_direction_x) | 
float | [climb_direction_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=climb_direction_y) | 
int | [climb_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=climb_pause_timer) | 
int | [shell_invincibility_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shell_invincibility_timer) | 
int | [monster_spawn_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=monster_spawn_timer) | 
int | [initial_shell_health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=initial_shell_health) | [Excalibur](#Excalibur) wipes out immediately, bombs take off 11 points, when 0 vulnerable to whip
bool | [player_seen_by_kingu](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_seen_by_kingu) | 

### Lahamu

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Entity](#Entity) | [eyeball](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=eyeball) | 
int | [attack_cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_cooldown_timer) | 
bool | [has_logged_to_journal](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=has_logged_to_journal) | 

### Lamassu

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Entity](#Entity) | [attack_effect_entity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_effect_entity) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
int | [flight_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flight_timer) | 
int | [attack_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_timer) | 
float | [attack_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_angle) | 
bool | [was_flying](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=was_flying) | 

### Lavamander

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [shoot_lava_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shoot_lava_timer) | when this timer reaches zero, it appears on the surface/shoots lava, triggers on player proximity
int | [jump_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_pause_timer) | 
int | [lava_detection_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lava_detection_timer) | 
bool | [is_hot](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_hot) | 
int | [player_detect_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_detect_state) | 0 - didn't see player, 1 - saw player, 2 - spitted lava; probably used so he won't spit imminently after seeing the player

### Leprechaun

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [hump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hump_timer) | 
int | [target_in_sight_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_in_sight_timer) | 
int | [gold](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gold) | amount of gold he picked up, will be drooped on death
int | [timer_after_humping](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer_after_humping) | 
bool | [jump_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_trigger) | Triggers a jump on the next frame.
vector&lt;[ENT_TYPE](#ENT_TYPE)&gt; | [collected_treasure](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collected_treasure) | 

### MagmaMan

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | 
int | [alive_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=alive_timer) | 

### Mantrap

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | alternates between walking and pausing every time it reaches zero
int | [eaten_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=eaten_uid) | the uid of the entity the mantrap has eaten, in case it can break out, like a shopkeeper

### Mech

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Mount](#Mount)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [crouch_walk_sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crouch_walk_sound) | 
[SoundMeta](#SoundMeta) | [explosion_sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=explosion_sound) | 
int | [gun_cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gun_cooldown) | 
bool | [walking](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walking) | 
bool | [breaking_wall](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=breaking_wall) | 

### MegaJellyfish

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [flipper1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flipper1) | 
[Entity](#Entity) | [flipper2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flipper2) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [orb_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=orb_uid) | game checks if this uid, and two following exist, if not, the Jellyfish starts chasing player
int | [tail_bg_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tail_bg_uid) | 
float | [applied_velocity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=applied_velocity) | 
float | [wagging_tail_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wagging_tail_counter) | 
int | [flipper_distance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flipper_distance) | only applies to door-blocking one
int | [velocity_application_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocity_application_timer) | 

### Mole

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [burrowing_sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=burrowing_sound) | 
[SoundMeta](#SoundMeta) | [nonburrowing_sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=nonburrowing_sound) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [burrowing_particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=burrowing_particle) | 
float | [burrow_dir_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=burrow_dir_x) | 
float | [burrow_dir_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=burrow_dir_y) | 
int | [burrowing_in_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=burrowing_in_uid) | stores the last uid as well
int | [counter_burrowing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=counter_burrowing) | 
int | [counter_nonburrowing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=counter_nonburrowing) | 
int | [countdown_for_appearing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=countdown_for_appearing) | 
int | [digging_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=digging_state) | 0 - non_burrowed, 1 - unknown, 2 - burrowed, 3 - state_change

### Monkey

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | 
bool | [on_vine](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=on_vine) | 

### Monster

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable)


Type | Name | Description
---- | ---- | -----------
int | [chased_target_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chased_target_uid) | 
int | [target_selection_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_selection_timer) | 

### Mosquito

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [direction_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=direction_x) | 
float | [direction_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=direction_y) | 
float | [stuck_rel_pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stuck_rel_pos_x) | 
float | [stuck_rel_pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stuck_rel_pos_y) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### Mount

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable)


Type | Name | Description
---- | ---- | -----------
int | [rider_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rider_uid) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
bool | [can_doublejump](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_doublejump) | 
bool | [tamed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tamed) | 
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
int | [taming_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=taming_timer) | 
bool | [used_double_jump()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=used_double_jump) | 
nil | [remove_rider()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=remove_rider) | 
nil | [carry(Movable rider)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=carry) | 
nil | [tame(bool value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tame) | 
[Vec2](#Vec2) | [get_rider_offset(Vec2 offset)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_rider_offset) | 
[Vec2](#Vec2) | [get_rider_offset_crouching(Vec2 value)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_rider_offset_crouching) | 
[SOUNDID](#Aliases) | [get_jump_sound(bool double_jump)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_jump_sound) | 
[SOUNDID](#Aliases) | [get_attack_sound()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_attack_sound) | 
[SOUNDID](#Aliases) | [get_mounting_sound()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_mounting_sound) | 
[SOUNDID](#Aliases) | [get_walking_sound()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_walking_sound) | 
[SOUNDID](#Aliases) | [get_untamed_loop_sound()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_untamed_loop_sound) | 

### Mummy

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 

### NPC

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [climb_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=climb_direction) | 
int | [target_in_sight_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_in_sight_timer) | 
int | [ai_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ai_state) | 
bool | [aggro](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=aggro) | for bodyguard and shopkeeperclone it spawns a weapon as well
bool | [should_attack_on_sight()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=should_attack_on_sight) | 
[ENT_TYPE](#ENT_TYPE) | [weapon_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=weapon_type) | 

### Necromancer

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
float | [red_skeleton_spawn_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=red_skeleton_spawn_x) | 
float | [red_skeleton_spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=red_skeleton_spawn_y) | 
int | [resurrection_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=resurrection_uid) | 
int | [target_layer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_layer) | 
int | [resurrection_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=resurrection_timer) | 

### Octopus

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------

### Olmite

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
bool | [armor_on](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=armor_on) | 
bool | [in_stack](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=in_stack) | disables the attack, stun, lock's looking left flag between stack
bool | [in_stack2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=in_stack2) | is set to false couple frame after being detached from stack
int | [on_top_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=on_top_uid) | 
float | [y_offset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_offset) | 
int | [attack_cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_cooldown_timer) | 

### OsirisHand

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [attack_cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_cooldown_timer) | 

### OsirisHead

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [right_hand_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right_hand_uid) | right from his perspective
int | [left_hand_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left_hand_uid) | 
bool | [moving_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=moving_left) | 
int | [oscillation_phase](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=oscillation_phase) | 
int | [invincibility_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=invincibility_timer) | 

### Pet

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [fx_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_button) | 
int | [petting_by_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=petting_by_uid) | person whos petting it, only in the camp
int | [yell_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=yell_counter) | counts up to 400 (6.6 sec), when 0 the pet yells out
int | [sit_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sit_timer) | When sitting after colliding with a player in the camp.
int | [sit_cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sit_cooldown_timer) | Cooldown before sitting again when colliding with a player in the camp.
int | [func_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=func_timer) | used when free running in the camp
int | [active_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=active_state) | -1 = sitting and yelling, 0 = either running, dead or picked up
int | [petted_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=petted_counter) | number of times petted in the camp

### Player

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable)


Type | Name | Description
---- | ---- | -----------
[Inventory](#Inventory) | [inventory](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inventory) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [linked_companion_parent](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=linked_companion_parent) | entity uid
int | [linked_companion_child](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=linked_companion_child) | entity uid
[Ai](#Ai) | [ai](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ai) | 
[PlayerSlot](#PlayerSlot) | [input](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=input) | 
[Entity](#Entity) | [basecamp_button_entity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=basecamp_button_entity) | Used in base camp to talk with the [NPC](#NPC)'s
[SoundMeta](#SoundMeta) | [special_sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=special_sound) | For Lise System walking and looking up sounds
int | [jump_lock_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_lock_timer) | Increases when holding jump button in the air, set to max while jumping. If this isn't 0, a jump will only be<br/>registered if the jump button was not held on the previous frame.
int | [coyote_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=coyote_timer) | can jump while airborne if greater than 0
int | [swim_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=swim_timer) | Timer between strokes when holding jump button in water.
int | [hired_hand_name](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hired_hand_name) | 0-25 alphabetical index of hired hand names.
int | [kapala_blood_amount()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kapala_blood_amount) | 
string | [get_name()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_name) | Get the full name of the character, this will be the modded name not only the vanilla name.
string | [get_short_name()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_short_name) | Get the short name of the character, this will be the modded name not only the vanilla name.
[Color](#Color) | [get_heart_color()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_heart_color) | Get the heart color of the character, this will be the modded heart color not only the vanilla heart color.
bool | [is_female()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_female) | Check whether the character is female, will be `true` if the character was modded to be female as well.
nil | [set_heart_color(Color hcolor)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_heart_color) | Set the heart color for the character.
nil | [let_go()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=let_go) | Drops from ladders, ropes and ledge grabs

### PowerupCapable

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
nil | [remove_powerup(ENT_TYPE powerup_type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=remove_powerup) | Removes a currently applied powerup. Specify `ENT_TYPE.ITEM_POWERUP_xxx`, not `ENT_TYPE.ITEM_PICKUP_xxx`! Removing the Eggplant crown does not seem to undo the throwing of eggplants, the other powerups seem to work.
nil | [give_powerup(ENT_TYPE powerup_type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=give_powerup) | Gives the player/monster the specified powerup. Specify `ENT_TYPE.ITEM_POWERUP_xxx`, not `ENT_TYPE.ITEM_PICKUP_xxx`! Giving true crown to a monster crashes the game.
bool | [has_powerup(ENT_TYPE powerup_type)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=has_powerup) | Checks whether the player/monster has a certain powerup
vector&lt;[ENT_TYPE](#ENT_TYPE)&gt; | [get_powerups()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_powerups) | Return all powerups that the entity has
nil | [unequip_backitem()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unequip_backitem) | Unequips the currently worn backitem
int | [worn_backitem()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=worn_backitem) | Returns the uid of the currently worn backitem, or -1 if wearing nothing
nil | [set_jetpack_fuel(int fuel)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_jetpack_fuel) | 
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_blood_collision(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_blood_collision) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> blood_collision(PowerupCapable self)`<br/>Virtual function docs:<br/>only triggers when entity has kapala
[CallbackId](#Aliases) | [set_post_blood_collision(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_blood_collision) | Hooks after the virtual function.<br/>The callback signature is `nil blood_collision(PowerupCapable self)`<br/>Virtual function docs:<br/>only triggers when entity has kapala

### ProtoShopkeeper

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [movement_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=movement_state) | 1: "Headpulse/explosion related, 2: Walking, 3: Headpulse/explosion related, 4: Crawling, 6: Headpulse/explosion related
int | [walk_pause_explode_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_explode_timer) | 
int | [walking_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walking_speed) | 0 = slow, 4 = fast

### Qilin

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Mount](#Mount)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [fly_gallop_sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fly_gallop_sound) | 
int | [attack_cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_cooldown) | 

### Quillback

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 
bool | [broke_block](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=broke_block) | 
int | [post_hit_wall_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=post_hit_wall_direction) | 
bool | [seen_player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seen_player) | 

### Robot

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Illumination](#Illumination) | [emitted_light_explosion](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light_explosion) | 

### Rockdog

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Mount](#Mount)


Type | Name | Description
---- | ---- | -----------
int | [attack_cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_cooldown) | 

### RoomOwner

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [room_index](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=room_index) | 
float | [climb_y_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=climb_y_direction) | 
int | [ai_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ai_state) | 
int | [patrol_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=patrol_timer) | 
int | [lose_interest_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lose_interest_timer) | 
int | [countdown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=countdown_timer) | can't shot when the timer is running
bool | [is_patrolling](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_patrolling) | 
bool | [aggro_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=aggro_trigger) | setting this makes him angry, if it's shopkeeper you get 2 aggro points
bool | [was_hurt](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=was_hurt) | also is set true if you set aggro to true, get's trigger even when whipping
bool | [should_attack_on_sight()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=should_attack_on_sight) | 
bool | [is_angry_flag_set()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_angry_flag_set) | 
[ENT_TYPE](#ENT_TYPE) | [weapon_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=weapon_type) | 

### Scarab

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | how long to stay in current position

### Scorpion

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
int | [jump_cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_cooldown_timer) | 

### Shopkeeper

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [RoomOwner](#RoomOwner)


Type | Name | Description
---- | ---- | -----------
int | [name](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=name) | 0 - Ali, 1 - Bob, 2 - Comso ... and so one, anything above 28 is just random string, can crash the game
int | [shotgun_attack_delay](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shotgun_attack_delay) | can't shot when the timer is running
bool | [has_key](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=has_key) | will drop key after stun/kill
bool | [is_ear](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_ear) | 
bool | [shop_owner](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shop_owner) | 

### Skeleton

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [explosion_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=explosion_timer) | -1 = never explodes

### Sorceress

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
int | [inbetween_attack_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inbetween_attack_timer) | 
float | [in_air_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=in_air_timer) | 
[Illumination](#Illumination) | [halo_emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=halo_emitted_light) | 
[Entity](#Entity) | [fx_entity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_entity) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [hover_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=hover_timer) | 

### Spider

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [ceiling_pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ceiling_pos_x) | 
float | [ceiling_pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ceiling_pos_y) | 
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | For the giant spider, some times he shot web instead of jumping
float | [trigger_distance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger_distance) | only in the x coordinate
bool | [on_ceiling()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=on_ceiling) | 

### Tadpole

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [acceleration_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=acceleration_timer) | 
bool | [player_spotted](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_spotted) | 

### Terra

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [fx_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_button) | 
float | [x_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x_pos) | 
int | [abuse_speechbubble_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=abuse_speechbubble_timer) | 

### Tiamat

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | Turning into stone sound
int | [fx_tiamat_head](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_tiamat_head) | 
int | [fx_tiamat_arm_right1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_tiamat_arm_right1) | 
int | [fx_tiamat_arm_right2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_tiamat_arm_right2) | 
int | [frown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=frown_timer) | 
int | [damage_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=damage_timer) | 
int | [attack_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_timer) | 
float | [tail_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tail_angle) | 
float | [tail_radian](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tail_radian) | 
float | [tail_move_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tail_move_speed) | 
float | [right_arm_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right_arm_angle) | 
float | [attack_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_x) | This is custom variable, you need [activate_tiamat_position_hack](#activate_tiamat_position_hack) to use it
float | [attack_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_y) | This is custom variable, you need [activate_tiamat_position_hack](#activate_tiamat_position_hack) to use it

### Tun

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [RoomOwner](#RoomOwner)


Type | Name | Description
---- | ---- | -----------
int | [arrows_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=arrows_left) | 
int | [reload_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=reload_timer) | when 0, a new arrow is loaded into the bow; resets when she finds an arrow on the ground
bool | [challenge_fee_paid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=challenge_fee_paid) | affect only the speech bubble
bool | [congrats_challenge](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=congrats_challenge) | congrats message shown after exiting a challenge
bool | [murdered](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=murdered) | 
bool | [shop_entered](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shop_entered) | 
bool | [tiamat_encounter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=tiamat_encounter) | if set to false, greets you with 'you've done well to reach this place'

### UFO

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [patrol_distance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=patrol_distance) | 
int | [attack_cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_cooldown_timer) | 
bool | [is_rising](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_rising) | 

### Vampire

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
float | [jump_trigger_distance_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_trigger_distance_x) | 
float | [jump_trigger_distance_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_trigger_distance_y) | 
float | [sleep_pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sleep_pos_x) | 
float | [sleep_pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sleep_pos_y) | 
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 

### VanHorsing

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [NPC](#NPC)


Type | Name | Description
---- | ---- | -----------
bool | [show_text](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=show_text) | if set to true, he will say "I've been hunting this fiend a long time!" when on screen
bool | [special_message_shown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=special_message_shown) | one way door message has been shown

### Vlad

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [Vampire](#Vampire)


Type | Name | Description
---- | ---- | -----------
int | [teleport_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=teleport_timer) | triggers when [Vlad](#Vlad) teleports, when timer running he can't teleport and will stun when hit
bool | [aggro](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=aggro) | or is awake

### Waddler

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [RoomOwner](#RoomOwner)


Type | Name | Description
---- | ---- | -----------
bool | [player_detected](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_detected) | 
bool | [on_the_ground](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=on_the_ground) | 
int | [air_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=air_timer) | 

### WalkingMonster

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [chatting_to_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=chatting_to_uid) | 
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | alternates between walking and pausing every time it reaches zero
int | [cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cooldown_timer) | used for chatting with other monsters, attack cooldowns etc.

### WitchDoctor

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [WalkingMonster](#WalkingMonster)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [skull_regen_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=skull_regen_timer) | 

### WitchDoctorSkull

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [witch_doctor_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=witch_doctor_uid) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
float | [rotation_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_angle) | 

### Yama

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
bool | [message_shown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=message_shown) | 

### Yang

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster) [RoomOwner](#RoomOwner)


Type | Name | Description
---- | ---- | -----------
set&lt;int&gt; | [turkeys_in_den](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=turkeys_in_den) | Table of uids of the turkeys, goes only up to 3, is nil when yang is angry
bool | [first_message_shown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=first_message_shown) | I'm looking for turkeys, wanna help?
bool | [quest_incomplete](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=quest_incomplete) | Is set to false when the quest is over ([Yang](#Yang) dead or second turkey delivered)
bool | [special_message_shown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=special_message_shown) | Tusk palace/black market/one way door - message shown

### YetiKing

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_fog](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_fog) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_dust](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_dust) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_sparkles](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_sparkles) | 

### YetiQueen

Derived from [Entity](#Entity) [Movable](#Movable) [PowerupCapable](#PowerupCapable) [Monster](#Monster)


Type | Name | Description
---- | ---- | -----------
int | [walk_pause_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=walk_pause_timer) | 

## Movable entities


### AcidBubble

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [speed_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speed_x) | 
float | [speed_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speed_y) | 
float | [float_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=float_counter) | 

### AnkhPowerup

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Entity](#Entity) | [player](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player) | 
[Entity](#Entity) | [fx_glow](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_glow) | 
int | [timer1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer1) | 
int | [timer2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer2) | 
int | [timer3](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer3) | 
bool | [music_on_off](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=music_on_off) | 

### Arrow

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
int | [flame_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flame_uid) | 
bool | [is_on_fire](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_on_fire) | 
bool | [is_poisoned](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_poisoned) | 
bool | [shot_from_trap](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shot_from_trap) | 
nil | [poison_arrow(bool poisoned)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=poison_arrow) | 
nil | [light_up(bool lit)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light_up) | 

### AxolotlShot

Derived from [Entity](#Entity) [Movable](#Movable) [Projectile](#Projectile)


Type | Name | Description
---- | ---- | -----------
int | [trapped_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trapped_uid) | 
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | 
float | [swing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=swing) | 
float | [swing_periodicity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=swing_periodicity) | 
float | [distance_after_capture](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=distance_after_capture) | 

### Backpack

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup)


Type | Name | Description
---- | ---- | -----------
bool | [explosion_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=explosion_trigger) | More like on fire trigger, the explosion happens when the timer reaches > 29
int | [explosion_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=explosion_timer) | 
nil | [trigger_explosion()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger_explosion) | 
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_trigger_explosion(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_trigger_explosion) | Hooks before the virtual function.<br/>The callback signature is `bool trigger_explosion(Backpack self)`
[CallbackId](#Aliases) | [set_post_trigger_explosion(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_trigger_explosion) | Hooks after the virtual function.<br/>The callback signature is `nil trigger_explosion(Backpack self)`

### Birdies

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### Bomb

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
float | [scale_hor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale_hor) | 1.25 = default regular bomb, 1.875 = default giant bomb, > 1.25 generates ENT_TYPE_FX_POWEREDEXPLOSION
float | [scale_ver](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=scale_ver) | 
bool | [is_big_bomb](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_big_bomb) | is bomb from powerpack

### BoneBlock

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### Boombox

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [fx_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_button) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [music_note1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=music_note1) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [music_note2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=music_note2) | 
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 
int | [station](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=station) | 
int | [station_change_delay](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=station_change_delay) | 
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | 
int | [jump_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_state) | 

### Boomerang

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [trail](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trail) | 
float | [distance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=distance) | 
float | [rotation](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation) | 
int | [returns_to_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=returns_to_uid) | 

### Boulder

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [is_rolling](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_rolling) | is set to 1 when the boulder first hits the ground

### Bow

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
float | [get_arrow_special_offset()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_arrow_special_offset) | When laying on the ground

### Bullet

Derived from [Entity](#Entity) [Movable](#Movable) [Projectile](#Projectile)


Type | Name | Description
---- | ---- | -----------

### Button

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [button_sprite](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=button_sprite) | Only one can be set:<br/>1 - pad: A, key: Z<br/>2 - pad: X, key: X<br/>4 - pad: B, key: C<br/>8 - pad: Y, key: D<br/>16 - pad: LB, key: L Shift<br/>32 - pad: RB, key: A<br/>64 - pad: menu?, key: (none)<br/>128 - pad: copy?, key: Tab
float | [visibility](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=visibility) | 
bool | [is_visible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_visible) | It's false for selldialog used in shops
bool | [player_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_trigger) | It's set true even if player does not see the button, like the drill or COG door
int | [seen](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=seen) | <br/>-1 - hasn't been seen<br/>0 - last seen by player 1<br/>1 - last seen by player 2<br/>2 - last seen by player 3<br/>3 - last seen by player 4

### Cape

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup) [Backpack](#Backpack)


Type | Name | Description
---- | ---- | -----------
bool | [floating_down](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=floating_down) | 

### Chain

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [attached_to_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attached_to_uid) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### ChainedPushBlock

Derived from [Entity](#Entity) [Movable](#Movable) [PushBlock](#PushBlock)


Type | Name | Description
---- | ---- | -----------
bool | [is_chained](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_chained) | 

### Chest

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [leprechaun](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=leprechaun) | 
bool | [bomb](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bomb) | size of the bomb is random, if set both true only leprechaun spawns

### ClamBase

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [treasure_type](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=treasure_type) | 
int | [treasure_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=treasure_uid) | 
float | [treasure_x_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=treasure_x_pos) | 
float | [treasure_y_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=treasure_y_pos) | 
int | [top_part_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_part_uid) | 

### Claw

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [crabman_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=crabman_uid) | 
float | [spawn_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_x) | 
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 

### ClimbableRope

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [segment_nr_inverse](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=segment_nr_inverse) | 
int | [burn_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=burn_timer) | entity is killed after 20
[Entity](#Entity) | [above_part](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=above_part) | 
[Entity](#Entity) | [below_part](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=below_part) | 
int | [segment_nr](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=segment_nr) | 

### CloneGunShot

Derived from [Entity](#Entity) [Movable](#Movable) [Projectile](#Projectile) [LightShot](#LightShot)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 

### Coffin

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [inside](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inside) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
bool | [player_respawn](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_respawn) | 

### Coin

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [nominal_price](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=nominal_price) | 

### Container

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [inside](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inside) | 

### CookFire

Derived from [Entity](#Entity) [Movable](#Movable) [Torch](#Torch)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particles_smoke](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particles_smoke) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particles_flames](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particles_flames) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particles_warp](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particles_warp) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### CrushElevator

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [y_limit](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_limit) | This is custom variable, you need [activate_crush_elevator_hack](#activate_crush_elevator_hack) to use it
float | [speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speed) | This is custom variable, you need [activate_crush_elevator_hack](#activate_crush_elevator_hack) to use it

### Crushtrap

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [dirx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dirx) | 
float | [diry](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=diry) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | counts from 30 to 0 before moving, after it stops, counts from 60 to 0 before it can be triggered again
int | [bounce_back_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bounce_back_timer) | counts from 7 to 0 after it hits the wall and moves away until the timer hits 0, then moves back and counts from 255 until it hits the wall again, if needed it will start the counter again for another bounce

### CursedPot

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [smoke](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=smoke) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [smoke2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=smoke2) | 

### CustomMovableBehavior

Opaque handle to a custom movable behavior from a script mod
Derived from [MovableBehavior](#MovableBehavior)


Type | Name | Description
---- | ---- | -----------
[VanillaMovableBehavior](#VanillaMovableBehavior) | [base_behavior](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=base_behavior) | 
nil | [set_force_state(function force_state)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_force_state) | Set the `force_state` function of a `CustomMovableBehavior`, this will be called every frame when<br/>the movable is updated. If an `force_state` is already set it will be overridden. The signature<br/>of the function is `bool force_state(Movable movable, function base_fun)`, when the function returns `true` the movable will<br/>enter this behavior. If no base behavior is set `base_fun` will be `nil`.
nil | [set_on_enter(function on_enter)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_on_enter) | Set the `on_enter` function of a `CustomMovableBehavior`, this will be called when the movable<br/>enters the state. If an `on_enter` is already set it will be overridden. The signature of the<br/>function is `nil on_enter(Movable movable, function base_fun))`. If no base behavior is set `base_fun` will be `nil`.
nil | [set_on_exit(function on_exit)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_on_exit) | Set the `on_exit` function of a `CustomMovableBehavior`, this will be called when the movable<br/>leaves the state. If an `on_exit` is already set it will be overridden. The signature of the<br/>function is `nil on_exit(Movable movable, function base_fun))`. If no base behavior is set `base_fun` will be `nil`.
nil | [set_update_logic(function update_logic)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_update_logic) | Set the `update_logic` function of a `CustomMovableBehavior`, this will be called every frame when<br/>the movable is updated. If an `update_logic` is already set it will be overridden. The signature<br/>of the function is `nil update_logic(Movable movable, function base_fun))`, use it to change the color, texture,<br/>some timers, etc. of the movable. If no base behavior is set `base_fun` will be `nil`.
nil | [set_update_world(function update_world)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_update_world) | Set the `update_world` function of a `CustomMovableBehavior`, this will be called every frame when<br/>the movable is updated. If an `update_world` is already set it will be overridden. The signature<br/>of the function is `nil update_world(Movable movable, function base_fun))`, use this to update the move, velocity,<br/>current_animation, etc. of the movable, then call `mov:generic_update_world` to update the movable. If no<br/>base behavior is set `base_fun` will be `nil`.
nil | [set_get_next_state_id(function get_next_state_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_get_next_state_id) | Set the `get_next_state_id` function of a `CustomMovableBehavior`, this will be called every frame when<br/>the movable is updated. If an `get_next_state_id` is already set it will be overridden. The signature<br/>of the function is `int get_next_state_id(Movable movable, function base_fun))`, use this to move to another state, return `nil`.<br/>or this behaviors `state_id` to remain in this behavior. If no base behavior is set `base_fun` will be `nil`.

### Drill

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound1](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound1) | 
[SoundMeta](#SoundMeta) | [sound2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound2) | 
[Entity](#Entity) | [top_chain_piece](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=top_chain_piece) | 
nil | [trigger(optional<bool> play_sound_effect)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger) | 

### DummyPurchasableEntity

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [replace_entity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=replace_entity) | 
bool | [exploding](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=exploding) | 
int | [explosion_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=explosion_timer) | Explodes when timer reaches 30
nil | [trigger_explosion(Entity who)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trigger_explosion) | Transfers ownership etc. for who to blame, sets the exploding bool
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_trigger_explosion(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_trigger_explosion) | Hooks before the virtual function.<br/>The callback signature is `bool trigger_explosion(DummyPurchasableEntity self, Entity who)`<br/>Virtual function docs:<br/>Transfers ownership etc. for who to blame, sets the exploding bool
[CallbackId](#Aliases) | [set_post_trigger_explosion(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_trigger_explosion) | Hooks after the virtual function.<br/>The callback signature is `nil trigger_explosion(DummyPurchasableEntity self, Entity who)`<br/>Virtual function docs:<br/>Transfers ownership etc. for who to blame, sets the exploding bool

### EggSac

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### EggshipCenterJetFlame

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 
bool | [smoke_on](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=smoke_on) | 

### Elevator

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | pause timer, counts down 60 to 0
bool | [moving_up](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=moving_up) | 

### EmpressGrave

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [fx_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_button) | 
[Entity](#Entity) | [ghost](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ghost) | 

### Excalibur

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [in_stone](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=in_stone) | 

### Explosion

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 

### FallingPlatform

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
float | [shaking_factor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shaking_factor) | 
float | [y_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_pos) | 

### Fireball

Derived from [Entity](#Entity) [Movable](#Movable) [Projectile](#Projectile) [LightShot](#LightShot) [SoundShot](#SoundShot)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 

### Flame

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 

### FlameSize

Derived from [Entity](#Entity) [Movable](#Movable) [Flame](#Flame)


Type | Name | Description
---- | ---- | -----------
float | [flame_size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flame_size) | if changed, gradually goes down (0.03 per frame) to the default size, it's the base value for `entity.width` and `entity.height`

### Fly

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### FlyHead

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [vored_entity_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=vored_entity_uid) | 

### FrozenLiquid

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### FxAlienBlast

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### FxAnkhBrokenPiece

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### FxAnkhRotatingSpark

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [radius](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=radius) | 
float | [inclination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inclination) | 
float | [speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speed) | 0 - 1.0
float | [sine_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_angle) | 
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | 

### FxCompass

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [sine_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_angle) | Counts form 0 to 2*pi, responsible for moving back and forth
float | [visibility](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=visibility) | 
bool | [is_active](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_active) | [Player](#Player) has compass

### FxEmpress

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [sine_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_angle) | 

### FxFireflyLight

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination) | 
int | [light_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light_timer) | 
int | [cooldown_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cooldown_timer) | Timer between light flashes

### FxHundunNeckPiece

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [kill_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=kill_timer) | Short timer after the head is dead

### FxJellyfishStar

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [rotation_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_angle) | 
float | [radius](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=radius) | 
float | [speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speed) | 

### FxJetpackFlame

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_smoke](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_smoke) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle_flame](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle_flame) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Illumination](#Illumination) | [illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination) | 

### FxKinguSliding

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 

### FxLamassuAttack

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [attack_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_angle) | 

### FxMainExitDoor

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | When breaking open in tutorial

### FxNecromancerANKH

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### FxOuroboroDragonPart

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speed) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 

### FxOuroboroOccluder

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### FxPickupEffect

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 
float | [visibility](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=visibility) | 

### FxPlayerIndicator

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [attached_to](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attached_to) | 
float | [pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pos_x) | 
float | [pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pos_y) | 

### FxQuickSand

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### FxSaleContainer

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [fx_value](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_value) | 
[Entity](#Entity) | [fx_icon](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_icon) | 
[Entity](#Entity) | [fx_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_button) | 
float | [shake_amplitude](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake_amplitude) | For effect when you don't have enough money
bool | [sound_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound_trigger) | Also sound_played, keeps re-triggering from time to time
int | [pop_in_out_procentage](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pop_in_out_procentage) | 

### FxShotgunBlast

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination) | 

### FxSorceressAttack

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | 

### FxSparkSmall

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### FxSpringtrapRing

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
[Illumination](#Illumination) | [illumination](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=illumination) | 

### FxTiamatHead

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### FxTiamatTail

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [angle_two](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=angle_two) | Added _two just to not shadow angle in entity, it's angle but the pivot point is at the edge
float | [x_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x_pos) | 
float | [y_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_pos) | 

### FxTiamatTorso

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
float | [torso_target_size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=torso_target_size) | Slowly increases/decreases to the given value

### FxTornJournalPage

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [page_number](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=page_number) | Only in tutorial

### FxUnderwaterBubble

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [bubble_source_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bubble_source_uid) | 
int | [direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=direction) | 1 / -1
bool | [pop](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pop) | Setting it true makes it disappear/fade away
bool | [inverted](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inverted) | 

### FxVatBubble

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [max_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=max_y) | 

### FxWaterDrop

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [inverted](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inverted) | 
int | [droplet_source_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=droplet_source_uid) | 

### FxWebbedEffect

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [visible](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=visible) | 

### FxWitchdoctorHint

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### GhostBreath

Derived from [Entity](#Entity) [Movable](#Movable) [Projectile](#Projectile)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
bool | [big_cloud](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=big_cloud) | 

### GiantClamTop

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [close_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=close_timer) | 
int | [open_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=open_timer) | 

### Goldbar

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### Gun

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
int | [cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cooldown) | 
int | [shots](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shots) | used only for webgun
int | [shots2](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shots2) | used only for clonegun
int | [in_chamber](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=in_chamber) | Only for webgun, uid of the webshot entity

### HangAnchor

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [spider_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spider_uid) | 

### HangStrand

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [start_pos_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=start_pos_y) | 

### Honey

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [wiggle_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wiggle_timer) | 

### Hoverpack

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup) [Backpack](#Backpack)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
bool | [is_on](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_on) | 

### HundunChest

Derived from [Entity](#Entity) [Movable](#Movable) [Treasure](#Treasure)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### Idol

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [trap_triggered](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=trap_triggered) | if you set it to true for the ice caves or volcano idol, the trap won't trigger
int | [touch](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=touch) | changes to 0 when first picked up by player and back to -1 if HH picks it up
float | [spawn_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_x) | 
float | [spawn_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_y) | 

### Jetpack

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup) [Backpack](#Backpack)


Type | Name | Description
---- | ---- | -----------
bool | [flame_on](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flame_on) | 
int | [fuel](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fuel) | 
float | [acceleration()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=acceleration) | 
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_acceleration(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_acceleration) | Hooks before the virtual function.<br/>The callback signature is `optional<float> acceleration(Jetpack self)`
[CallbackId](#Aliases) | [set_post_acceleration(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_acceleration) | Hooks after the virtual function.<br/>The callback signature is `nil acceleration(Jetpack self)`

### JungleSpearCosmetic

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [move_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_x) | 
float | [move_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_y) | 

### KapalaPowerup

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup)


Type | Name | Description
---- | ---- | -----------
int | [amount_of_blood](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=amount_of_blood) | 

### LampFlame

Derived from [Entity](#Entity) [Movable](#Movable) [Flame](#Flame)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [flame_particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flame_particle) | 

### Landmine

Derived from [Entity](#Entity) [Movable](#Movable) [LightEmitter](#LightEmitter)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | explodes at 57, if you set it to 58 will count to overflow

### LaserBeam

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [sparks](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sparks) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 

### Leaf

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [fade_away_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fade_away_counter) | counts to 100.0 then the leaf fades away
int | [swing_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=swing_direction) | 
bool | [fade_away_trigger](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fade_away_trigger) | 

### LightArrow

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable) [Arrow](#Arrow)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 

### LightArrowPlatform

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 

### LightEmitter

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 

### LightShot

Derived from [Entity](#Entity) [Movable](#Movable) [Projectile](#Projectile)


Type | Name | Description
---- | ---- | -----------
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 

### LiquidSurface

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [glow_radius](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=glow_radius) | 
float | [sine_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_pos) | 
float | [sine_pos_increment](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sine_pos_increment) | 

### Mattock

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
int | [remaining](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=remaining) | 

### MegaJellyfishEye

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### MiniGameAsteroid

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [spin_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spin_speed) | 

### MiniGameShip

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
float | [velocity_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocity_x) | 
float | [velocity_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocity_y) | 
float | [swing](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=swing) | 
float | [up_down_normal](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=up_down_normal) | 0.0 - down, 1.0 - up, 0.5 - idle

### MiniGameShipOffset

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [offset_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_x) | 
float | [offset_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=offset_y) | 
float | [normal_y_offset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=normal_y_offset) | Is added to offset_y

### Movable

Derived from [Entity](#Entity)


Type | Name | Description
---- | ---- | -----------
[Vec2](#Vec2) | [move](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move) | {movex, movey}
float | [movex](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=movex) | Move directions (-1.0 to 1.0) that represent in whit direction the entity want's to move
float | [movey](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=movey) | Move directions (-1.0 to 1.0) that represent in whit direction the entity want's to move
[BUTTON](#BUTTON) | [buttons](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons) | 
[BUTTON](#BUTTON) | [buttons_previous](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=buttons_previous) | 
int | [stand_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stand_counter) | 
float | [jump_height_multiplier](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_height_multiplier) | [EntityDB](#EntityDB).jump gets multiplied by this to get the jump
int | [price](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=price) | 
int | [owner_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=owner_uid) | 
int | [last_owner_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_owner_uid) | 
[Animation](#Animation) | [current_animation](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=current_animation) | 
int | [idle_counter](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=idle_counter) | 
int | [standing_on_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=standing_on_uid) | 
float | [velocityx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocityx) | speed, can be relative to the platform you standing on (pushblocks, elevators), use [get_velocity](#get_velocity) to get accurate speed in the game world
float | [velocityy](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=velocityy) | speed, can be relative to the platform you standing on (pushblocks, elevators), use [get_velocity](#get_velocity) to get accurate speed in the game world
int | [holding_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=holding_uid) | 
int | [state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=state) | 
int | [last_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=last_state) | 
int | [move_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_state) | 
int | [health](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=health) | 
int | [stun_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stun_timer) | 
int | [stun_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stun_state) | 
int | [lock_input_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=lock_input_timer) | Related to taking damage, also drops you from ladder/rope, can't be set while on the ground unless you're on a mount
int | [wet_effect_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wet_effect_timer) | 
int | [poison_tick_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=poison_tick_timer) | Used to apply damage from poison, can be set to -1 to cure poison, to set poison use [poison_entity](#poison_entity)
int | [falling_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=falling_timer) | 
int | [dark_shadow_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dark_shadow_timer) | 
int | [onfire_effect_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=onfire_effect_timer) | 
int | [exit_invincibility_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=exit_invincibility_timer) | 
int | [invincibility_frames_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=invincibility_frames_timer) | 
int | [frozen_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=frozen_timer) | 
int | [dont_damage_owner_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dont_damage_owner_timer) | When > 0, will not deal damage to the owner_uid, so that throwing an object does not harm yourself.
int | [knockback_invincibility_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=knockback_invincibility_timer) | Will not apply velocity from various sources when >0. Can be ignored by certain damage flags, so will not be invincible from knockback<br/>of all damage types.
int | [reset_owner_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=reset_owner_timer) | Timer for resetting owner_uid.
int | [exit_gold_invincibility_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=exit_gold_invincibility_timer) | When > 0, money intersecting a door or at a pipe entrance will not be collected. Also gives iframes from monster collision.
bool | [is_poisoned()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_poisoned) | 
bool | [is_button_pressed(BUTTON button)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_button_pressed) | 
bool | [is_button_held(BUTTON button)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_button_held) | 
bool | [is_button_released(BUTTON button)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_button_released) | 
nil | [stun(int framecount)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=stun) | 
nil | [freeze(int framecount, bool ignore_lava)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=freeze) | Sets the `frozen_timer`, the param `ignore_lava` doesn't do much, just skips the liquid check,<br/>if in lava the game will set `frozen_timer` to 0 immediately most of the time
nil | [light_on_fire(int time)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light_on_fire) | Does not damage entity
nil | [set_cursed(bool b, bool effect)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_cursed) | 
nil | [drop()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=drop) | Called when dropping or throwing
nil | [pick_up(Entity entity_to_pick_up)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=pick_up) | 
[Entity](#Entity) | [standing_on()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=standing_on) | 
bool | [collect_treasure(int value, ENT_TYPE treasure)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=collect_treasure) | Adds or subtracts the specified amount of money to the movable's (player's) inventory. Shows the calculation animation in the HUD. Adds treasure to the inventory list shown on transition. Use the global add_money to add money without adding specific treasure.
bool | [can_jump()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_jump) | Return true if the entity is allowed to jump, even midair. Return false and can't jump, except from ladders apparently.
bool | [is_on_fire()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_on_fire) | 
bool | [is_powerup_capable()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_powerup_capable) | 
bool | [can_be_picked_up_by(Entity entity_picking_up, bool)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_be_picked_up_by) | 
bool | [can_break_block(bool horizontal, Entity block)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_break_block) | 
nil | [break_block(bool camera_shake, Entity block)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=break_block) | 
bool | [damage(Entity damage_dealer, int damage_amount, DAMAGE_TYPE damage_flags, Vec2 velocity, int unknown_damage_phase, int stun_amount, int iframes, bool unknown_is_final)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=damage) | Damage the movable by the specified amount, stuns and gives it invincibility for the specified amount of frames and applies the velocities. `damage_dealer` can be set to nil.<br/>Returns: true if entity was affected (for stuff like: if pot was thrown into entity, should that pot break after hit), false if the event should be ignored by damage_dealer
vector&lt;int&gt; | [get_all_behaviors()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_all_behaviors) | Get all available behavior ids
bool | [set_behavior(int behavior_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_behavior) | Set behavior, this is more than just state as it's an active function, for example climbing ladder is a behavior and it doesn't actually need ladder/rope entity<br/>Returns false if entity doesn't have this behavior id
int | [get_behavior()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_behavior) | Get the current behavior id
nil | [set_gravity(float gravity)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_gravity) | Force the gravity for this entity. Will override anything set by special states like swimming too, unless you reset it. Default 1.0
nil | [reset_gravity()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=reset_gravity) | Remove the gravity hook and reset to defaults
nil | [set_position(float to_x, float to_y)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_position) | Set the absolute position of an entity and offset all rendering related things accordingly to teleport without any interpolation or graphical glitches. If the camera is focused on the entity, it is also moved.
nil | [process_input()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=process_input) | 
float | [calculate_jump_velocity(bool dont_ignore_liquid)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=calculate_jump_velocity) | 
nil | [apply_velocity(Vec2 velocities, bool ignore_weight)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=apply_velocity) | Mostly used for ragdoll by the game
int | [get_damage()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_damage) | Returns the damage that the entity deals
bool | [attack(Entity victim)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack) | Runs on contact damage, returns false if there wasn't any interaction (called from on_collision2, will be called as long as the hitboxes overlap)
bool | [thrown_into(Entity victim)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=thrown_into) | Same as above, but for being thrown into something and potentially dealing damage that way
[SOUNDID](#Aliases) | [get_damage_sound(DAMAGE_TYPE damage)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_damage_sound) | returns sound id for the damage taken, return 0 to make it silence
nil | [copy_extra_info(Entity clone, int some_entity_uid)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=copy_extra_info) | Entities must be of the same type!
[CutsceneBehavior](#CutsceneBehavior) | [cutscene](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cutscene) | 
nil | [clear_cutscene()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_cutscene) | 
[VanillaMovableBehavior](#VanillaMovableBehavior) | [get_base_behavior(int state_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_base_behavior) | Gets a vanilla behavior from this movable, needs to be called before `clear_behaviors`<br/>but the returned values are still valid after a call to `clear_behaviors`
nil | [add_behavior(MovableBehavior behavior)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=add_behavior) | Add a behavior to this movable, can be either a `VanillaMovableBehavior` or a<br/>`CustomMovableBehavior`
nil | [clear_behavior(MovableBehavior behavior)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_behavior) | Clear a specific behavior of this movable, can be either a `VanillaMovableBehavior` or a<br/>`CustomMovableBehavior`, a behavior with this behaviors `state_id` may be required to<br/>run this movables statemachine without crashing, so add a new one if you are not sure
nil | [clear_behaviors()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_behaviors) | Clears all behaviors of this movable, need to call `add_behavior` to avoid crashing
nil | [generic_update_world(bool disable_gravity)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=generic_update_world) | Move a movable according to its velocity, can disable gravity<br/>Will also update `movable.animation_frame` and various timers and counters
nil | [generic_update_world()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=generic_update_world) | Move a movable according to its velocity, update physics, gravity, etc.<br/>Will also update `movable.animation_frame` and various timers and counters
nil | [generic_update_world(Vec2 move, float sprint_factor, bool disable_gravity, bool on_rope)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=generic_update_world) | Move a movable according to its velocity and `move`, if the movables `BUTTON.RUN` is<br/>held apply `sprint_factor` on `move.x`, can disable gravity or lock its horizontal<br/>movement via `on_rope`. Use this for example to update a custom enemy type.<br/>Will also update `movable.animation_frame` and various timers and counters
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_can_jump(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_can_jump) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> can_jump(Movable self)`<br/>Virtual function docs:<br/>Return true if the entity is allowed to jump, even midair. Return false and can't jump, except from ladders apparently.
[CallbackId](#Aliases) | [set_post_can_jump(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_can_jump) | Hooks after the virtual function.<br/>The callback signature is `nil can_jump(Movable self)`<br/>Virtual function docs:<br/>Return true if the entity is allowed to jump, even midair. Return false and can't jump, except from ladders apparently.
[CallbackId](#Aliases) | [set_pre_sprint_factor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_sprint_factor) | Hooks before the virtual function.<br/>The callback signature is `optional<float> sprint_factor(Movable self)`
[CallbackId](#Aliases) | [set_post_sprint_factor(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_sprint_factor) | Hooks after the virtual function.<br/>The callback signature is `nil sprint_factor(Movable self)`
[CallbackId](#Aliases) | [set_pre_calculate_jump_velocity(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_calculate_jump_velocity) | Hooks before the virtual function.<br/>The callback signature is `optional<float> calculate_jump_velocity(Movable self, bool dont_ignore_liquid)`
[CallbackId](#Aliases) | [set_post_calculate_jump_velocity(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_calculate_jump_velocity) | Hooks after the virtual function.<br/>The callback signature is `nil calculate_jump_velocity(Movable self, bool dont_ignore_liquid)`
[CallbackId](#Aliases) | [set_pre_apply_velocity(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_apply_velocity) | Hooks before the virtual function.<br/>The callback signature is `bool apply_velocity(Movable self, Vec2 velocities, bool ignore_weight)`<br/>Virtual function docs:<br/>Mostly used for ragdoll by the game
[CallbackId](#Aliases) | [set_post_apply_velocity(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_apply_velocity) | Hooks after the virtual function.<br/>The callback signature is `nil apply_velocity(Movable self, Vec2 velocities, bool ignore_weight)`<br/>Virtual function docs:<br/>Mostly used for ragdoll by the game
[CallbackId](#Aliases) | [set_pre_get_damage(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_get_damage) | Hooks before the virtual function.<br/>The callback signature is `optional<int> get_damage(Movable self)`<br/>Virtual function docs:<br/>Returns the damage that the entity deals
[CallbackId](#Aliases) | [set_post_get_damage(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_get_damage) | Hooks after the virtual function.<br/>The callback signature is `nil get_damage(Movable self)`<br/>Virtual function docs:<br/>Returns the damage that the entity deals
[CallbackId](#Aliases) | [set_pre_is_on_fire(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_is_on_fire) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> is_on_fire(Movable self)`
[CallbackId](#Aliases) | [set_post_is_on_fire(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_is_on_fire) | Hooks after the virtual function.<br/>The callback signature is `nil is_on_fire(Movable self)`
[CallbackId](#Aliases) | [set_pre_attack(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_attack) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> attack(Movable self, Entity victim)`<br/>Virtual function docs:<br/>Runs on contact damage, returns false if there wasn't any interaction (called from on_collision2, will be called as long as the hitboxes overlap)
[CallbackId](#Aliases) | [set_post_attack(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_attack) | Hooks after the virtual function.<br/>The callback signature is `nil attack(Movable self, Entity victim)`<br/>Virtual function docs:<br/>Runs on contact damage, returns false if there wasn't any interaction (called from on_collision2, will be called as long as the hitboxes overlap)
[CallbackId](#Aliases) | [set_pre_thrown_into(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_thrown_into) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> thrown_into(Movable self, Entity victim)`<br/>Virtual function docs:<br/>Same as above, but for being thrown into something and potentially dealing damage that way
[CallbackId](#Aliases) | [set_post_thrown_into(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_thrown_into) | Hooks after the virtual function.<br/>The callback signature is `nil thrown_into(Movable self, Entity victim)`<br/>Virtual function docs:<br/>Same as above, but for being thrown into something and potentially dealing damage that way
[CallbackId](#Aliases) | [set_pre_damage(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_damage) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> damage(Movable self, Entity damage_dealer, int damage_amount, DAMAGE_TYPE damage_flags, Vec2 velocity, int unknown_damage_phase, int stun_amount, int iframes, bool unknown_is_final)`<br/>Virtual function docs:<br/>Damage the movable by the specified amount, stuns and gives it invincibility for the specified amount of frames and applies the velocities. `damage_dealer` can be set to nil.<br/>Returns: true if entity was affected (for stuff like: if pot was thrown into entity, should that pot break after hit), false if the event should be ignored by damage_dealer
[CallbackId](#Aliases) | [set_post_damage(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_damage) | Hooks after the virtual function.<br/>The callback signature is `nil damage(Movable self, Entity damage_dealer, int damage_amount, DAMAGE_TYPE damage_flags, Vec2 velocity, int unknown_damage_phase, int stun_amount, int iframes, bool unknown_is_final)`<br/>Virtual function docs:<br/>Damage the movable by the specified amount, stuns and gives it invincibility for the specified amount of frames and applies the velocities. `damage_dealer` can be set to nil.<br/>Returns: true if entity was affected (for stuff like: if pot was thrown into entity, should that pot break after hit), false if the event should be ignored by damage_dealer
[CallbackId](#Aliases) | [set_pre_on_hit(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_on_hit) | Hooks before the virtual function.<br/>The callback signature is `bool on_hit(Movable self, Entity damage_dealer)`<br/>Virtual function docs:<br/>Hit by broken arrows etc that don't deal damage, calls damage with 0 damage.
[CallbackId](#Aliases) | [set_post_on_hit(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_on_hit) | Hooks after the virtual function.<br/>The callback signature is `nil on_hit(Movable self, Entity damage_dealer)`<br/>Virtual function docs:<br/>Hit by broken arrows etc that don't deal damage, calls damage with 0 damage.
[CallbackId](#Aliases) | [set_pre_get_damage_sound(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_get_damage_sound) | Hooks before the virtual function.<br/>The callback signature is `optional<SOUNDID> get_damage_sound(Movable self, DAMAGE_TYPE damage)`<br/>Virtual function docs:<br/>returns sound id for the damage taken, return 0 to make it silence
[CallbackId](#Aliases) | [set_post_get_damage_sound(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_get_damage_sound) | Hooks after the virtual function.<br/>The callback signature is `nil get_damage_sound(Movable self, DAMAGE_TYPE damage)`<br/>Virtual function docs:<br/>returns sound id for the damage taken, return 0 to make it silence
[CallbackId](#Aliases) | [set_pre_stun(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_stun) | Hooks before the virtual function.<br/>The callback signature is `bool stun(Movable self, int framecount)`
[CallbackId](#Aliases) | [set_post_stun(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_stun) | Hooks after the virtual function.<br/>The callback signature is `nil stun(Movable self, int framecount)`
[CallbackId](#Aliases) | [set_pre_freeze(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_freeze) | Hooks before the virtual function.<br/>The callback signature is `bool freeze(Movable self, int framecount, bool ignore_lava)`<br/>Virtual function docs:<br/>Sets the `frozen_timer`, the param `ignore_lava` doesn't do much, just skips the liquid check,<br/>if in lava the game will set `frozen_timer` to 0 immediately most of the time
[CallbackId](#Aliases) | [set_post_freeze(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_freeze) | Hooks after the virtual function.<br/>The callback signature is `nil freeze(Movable self, int framecount, bool ignore_lava)`<br/>Virtual function docs:<br/>Sets the `frozen_timer`, the param `ignore_lava` doesn't do much, just skips the liquid check,<br/>if in lava the game will set `frozen_timer` to 0 immediately most of the time
[CallbackId](#Aliases) | [set_pre_light_on_fire(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_light_on_fire) | Hooks before the virtual function.<br/>The callback signature is `bool light_on_fire(Movable self, int time)`<br/>Virtual function docs:<br/>Does not damage entity
[CallbackId](#Aliases) | [set_post_light_on_fire(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_light_on_fire) | Hooks after the virtual function.<br/>The callback signature is `nil light_on_fire(Movable self, int time)`<br/>Virtual function docs:<br/>Does not damage entity
[CallbackId](#Aliases) | [set_pre_set_cursed(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_set_cursed) | Hooks before the virtual function.<br/>The callback signature is `bool set_cursed(Movable self, bool b, bool effect)`
[CallbackId](#Aliases) | [set_post_set_cursed(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_set_cursed) | Hooks after the virtual function.<br/>The callback signature is `nil set_cursed(Movable self, bool b, bool effect)`
[CallbackId](#Aliases) | [set_pre_web_collision(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_web_collision) | Hooks before the virtual function.<br/>The callback signature is `bool web_collision(Movable self, bool bool)`
[CallbackId](#Aliases) | [set_post_web_collision(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_web_collision) | Hooks after the virtual function.<br/>The callback signature is `nil web_collision(Movable self, bool bool)`
[CallbackId](#Aliases) | [set_pre_check_out_of_bounds(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_check_out_of_bounds) | Hooks before the virtual function.<br/>The callback signature is `bool check_out_of_bounds(Movable self)`<br/>Virtual function docs:<br/>Disable to not get killed outside level bounds.
[CallbackId](#Aliases) | [set_post_check_out_of_bounds(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_check_out_of_bounds) | Hooks after the virtual function.<br/>The callback signature is `nil check_out_of_bounds(Movable self)`<br/>Virtual function docs:<br/>Disable to not get killed outside level bounds.
[CallbackId](#Aliases) | [set_pre_set_standing_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_set_standing_on) | Hooks before the virtual function.<br/>The callback signature is `bool set_standing_on(Movable self, int entity_uid)`
[CallbackId](#Aliases) | [set_post_set_standing_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_set_standing_on) | Hooks after the virtual function.<br/>The callback signature is `nil set_standing_on(Movable self, int entity_uid)`
[CallbackId](#Aliases) | [set_pre_standing_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_standing_on) | Hooks before the virtual function.<br/>The callback signature is `optional<Entity> standing_on(Movable self)`
[CallbackId](#Aliases) | [set_post_standing_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_standing_on) | Hooks after the virtual function.<br/>The callback signature is `nil standing_on(Movable self)`
[CallbackId](#Aliases) | [set_pre_stomped_by(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_stomped_by) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> stomped_by(Movable self, Entity stomper)`
[CallbackId](#Aliases) | [set_post_stomped_by(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_stomped_by) | Hooks after the virtual function.<br/>The callback signature is `nil stomped_by(Movable self, Entity stomper)`
[CallbackId](#Aliases) | [set_pre_thrown_by(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_thrown_by) | Hooks before the virtual function.<br/>The callback signature is `bool thrown_by(Movable self, Entity thrower)`
[CallbackId](#Aliases) | [set_post_thrown_by(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_thrown_by) | Hooks after the virtual function.<br/>The callback signature is `nil thrown_by(Movable self, Entity thrower)`
[CallbackId](#Aliases) | [set_pre_cloned_to(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_cloned_to) | Hooks before the virtual function.<br/>The callback signature is `bool cloned_to(Movable self, Entity clone, int some_entity_uid)`<br/>Virtual function docs:<br/>Entities must be of the same type!
[CallbackId](#Aliases) | [set_post_cloned_to(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_cloned_to) | Hooks after the virtual function.<br/>The callback signature is `nil cloned_to(Movable self, Entity clone, int some_entity_uid)`<br/>Virtual function docs:<br/>Entities must be of the same type!
[CallbackId](#Aliases) | [set_pre_pick_up(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_pick_up) | Hooks before the virtual function.<br/>The callback signature is `bool pick_up(Movable self, Entity entity_to_pick_up)`
[CallbackId](#Aliases) | [set_post_pick_up(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_pick_up) | Hooks after the virtual function.<br/>The callback signature is `nil pick_up(Movable self, Entity entity_to_pick_up)`
[CallbackId](#Aliases) | [set_pre_can_be_picked_up_by(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_can_be_picked_up_by) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> can_be_picked_up_by(Movable self, Entity entity_picking_up, bool)`
[CallbackId](#Aliases) | [set_post_can_be_picked_up_by(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_can_be_picked_up_by) | Hooks after the virtual function.<br/>The callback signature is `nil can_be_picked_up_by(Movable self, Entity entity_picking_up, bool)`
[CallbackId](#Aliases) | [set_pre_drop(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_drop) | Hooks before the virtual function.<br/>The callback signature is `bool drop(Movable self)`<br/>Virtual function docs:<br/>Called when dropping or throwing
[CallbackId](#Aliases) | [set_post_drop(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_drop) | Hooks after the virtual function.<br/>The callback signature is `nil drop(Movable self)`<br/>Virtual function docs:<br/>Called when dropping or throwing
[CallbackId](#Aliases) | [set_pre_collect_treasure(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_collect_treasure) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> collect_treasure(Movable self, int value, ENT_TYPE treasure)`<br/>Virtual function docs:<br/>Adds or subtracts the specified amount of money to the movable's (player's) inventory. Shows the calculation animation in the HUD. Adds treasure to the inventory list shown on transition. Use the global add_money to add money without adding specific treasure.
[CallbackId](#Aliases) | [set_post_collect_treasure(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_collect_treasure) | Hooks after the virtual function.<br/>The callback signature is `nil collect_treasure(Movable self, int value, ENT_TYPE treasure)`<br/>Virtual function docs:<br/>Adds or subtracts the specified amount of money to the movable's (player's) inventory. Shows the calculation animation in the HUD. Adds treasure to the inventory list shown on transition. Use the global add_money to add money without adding specific treasure.
[CallbackId](#Aliases) | [set_pre_apply_movement(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_apply_movement) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> apply_movement(Movable self, int, int, int)`
[CallbackId](#Aliases) | [set_post_apply_movement(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_apply_movement) | Hooks after the virtual function.<br/>The callback signature is `nil apply_movement(Movable self, int, int, int)`
[CallbackId](#Aliases) | [set_pre_is_powerup_capable(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_is_powerup_capable) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> is_powerup_capable(Movable self)`
[CallbackId](#Aliases) | [set_post_is_powerup_capable(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_is_powerup_capable) | Hooks after the virtual function.<br/>The callback signature is `nil is_powerup_capable(Movable self)`
[CallbackId](#Aliases) | [set_pre_initialize(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_initialize) | Hooks before the virtual function.<br/>The callback signature is `bool initialize(Movable self)`
[CallbackId](#Aliases) | [set_post_initialize(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_initialize) | Hooks after the virtual function.<br/>The callback signature is `nil initialize(Movable self)`
[CallbackId](#Aliases) | [set_pre_process_input(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_process_input) | Hooks before the virtual function.<br/>The callback signature is `bool process_input(Movable self)`
[CallbackId](#Aliases) | [set_post_process_input(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_process_input) | Hooks after the virtual function.<br/>The callback signature is `nil process_input(Movable self)`
[CallbackId](#Aliases) | [set_pre_picked_up(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_picked_up) | Hooks before the virtual function.<br/>The callback signature is `bool picked_up(Movable self)`<br/>Virtual function docs:<br/>Called for entity that just has been picked up
[CallbackId](#Aliases) | [set_post_picked_up(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_picked_up) | Hooks after the virtual function.<br/>The callback signature is `nil picked_up(Movable self)`<br/>Virtual function docs:<br/>Called for entity that just has been picked up
[CallbackId](#Aliases) | [set_pre_release(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_release) | Hooks before the virtual function.<br/>The callback signature is `bool release(Movable self)`<br/>Virtual function docs:<br/>Called for entity that just has been thrown/dropped
[CallbackId](#Aliases) | [set_post_release(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_release) | Hooks after the virtual function.<br/>The callback signature is `nil release(Movable self)`<br/>Virtual function docs:<br/>Called for entity that just has been thrown/dropped
[CallbackId](#Aliases) | [set_pre_generate_landing_effects(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_generate_landing_effects) | Hooks before the virtual function.<br/>The callback signature is `bool generate_landing_effects(Movable self)`<br/>Virtual function docs:<br/>Only for landing on the floor or activefloor, generates "poof" particle and plays sfx (note: when stunned, sfx is played by the damage function)
[CallbackId](#Aliases) | [set_post_generate_landing_effects(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_generate_landing_effects) | Hooks after the virtual function.<br/>The callback signature is `nil generate_landing_effects(Movable self)`<br/>Virtual function docs:<br/>Only for landing on the floor or activefloor, generates "poof" particle and plays sfx (note: when stunned, sfx is played by the damage function)
[CallbackId](#Aliases) | [set_pre_fall(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_fall) | Hooks before the virtual function.<br/>The callback signature is `bool fall(Movable self, float float)`<br/>Virtual function docs:<br/>Applies gravity to entity. Disable to float like on hoverpack.
[CallbackId](#Aliases) | [set_post_fall(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_fall) | Hooks after the virtual function.<br/>The callback signature is `nil fall(Movable self, float float)`<br/>Virtual function docs:<br/>Applies gravity to entity. Disable to float like on hoverpack.
[CallbackId](#Aliases) | [set_pre_apply_friction(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_apply_friction) | Hooks before the virtual function.<br/>The callback signature is `bool apply_friction(Movable self, float, bool vertical, float)`
[CallbackId](#Aliases) | [set_post_apply_friction(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_apply_friction) | Hooks after the virtual function.<br/>The callback signature is `nil apply_friction(Movable self, float, bool vertical, float)`
[CallbackId](#Aliases) | [set_pre_can_break_block(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_can_break_block) | Hooks before the virtual function.<br/>The callback signature is `optional<bool> can_break_block(Movable self, bool horizontal, Entity block)`
[CallbackId](#Aliases) | [set_post_can_break_block(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_can_break_block) | Hooks after the virtual function.<br/>The callback signature is `nil can_break_block(Movable self, bool horizontal, Entity block)`
[CallbackId](#Aliases) | [set_pre_break_block(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_break_block) | Hooks before the virtual function.<br/>The callback signature is `bool break_block(Movable self, bool camera_shake, Entity block)`
[CallbackId](#Aliases) | [set_post_break_block(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_break_block) | Hooks after the virtual function.<br/>The callback signature is `nil break_block(Movable self, bool camera_shake, Entity block)`
[CallbackId](#Aliases) | [set_pre_crush(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_crush) | Hooks before the virtual function.<br/>The callback signature is `bool crush(Movable self, Entity entity)`
[CallbackId](#Aliases) | [set_post_crush(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_crush) | Hooks after the virtual function.<br/>The callback signature is `nil crush(Movable self, Entity entity)`
[CallbackId](#Aliases) | [set_pre_body_destruction(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_body_destruction) | Hooks before the virtual function.<br/>The callback signature is `bool body_destruction(Movable self)`
[CallbackId](#Aliases) | [set_post_body_destruction(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_body_destruction) | Hooks after the virtual function.<br/>The callback signature is `nil body_destruction(Movable self)`

### MovingIcon

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [movement_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=movement_timer) | Used to move it up and down in sync with others

### Olmec

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [target_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_uid) | 
int | [attack_phase](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_phase) | 0 = stomp, 1 = bombs, 2 = stomp+ufos, 3 = in lava
int | [attack_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attack_timer) | in phase 0/2: time spent looking for player, in phase 1: time between bomb salvo
int | [ai_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ai_timer) | general timer that counts down whenever olmec is active
int | [move_direction](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=move_direction) | -1 = left, 0 = down, 1 = right, phase 0/2: depends on target, phase 1: travel direction
int | [jump_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=jump_timer) | 
int | [phase1_amount_of_bomb_salvos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=phase1_amount_of_bomb_salvos) | 
int | [unknown_attack_state](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=unknown_attack_state) | 
int | [broken_floaters()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=broken_floaters) | 

### OlmecCannon

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 
int | [bombs_left](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs_left) | 
nil | [spawn_projectile()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=spawn_projectile) | 
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_spawn_projectile(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_spawn_projectile) | Hooks before the virtual function.<br/>The callback signature is `bool spawn_projectile(OlmecCannon self)`
[CallbackId](#Aliases) | [set_post_spawn_projectile(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_spawn_projectile) | Hooks after the virtual function.<br/>The callback signature is `nil spawn_projectile(OlmecCannon self)`

### OlmecFloater

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [both_floaters_intact](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=both_floaters_intact) | 
bool | [on_breaking](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=on_breaking) | 

### OlmecShip

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Entity](#Entity) | [door_fx](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=door_fx) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [smoke](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=smoke) | 
int | [flight_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flight_time) | 
bool | [has_spawned_jetflames](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=has_spawned_jetflames) | 

### Orb

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### ParachutePowerup

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup)


Type | Name | Description
---- | ---- | -----------
int | [falltime_deploy](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=falltime_deploy) | this gets compared with entity's falling_timer
bool | [deployed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deployed) | 
nil | [deploy()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=deploy) | 
int | [gold_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gold_timer) | Timer for spawning a single gold nugget.
int | [gold_spawning_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=gold_spawning_time) | Time until gold nuggets stop spawning.

### PlayerBag

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [bombs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bombs) | 
int | [ropes](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ropes) | 

### PlayerGhost

Derived from [Entity](#Entity) [Movable](#Movable) [LightEmitter](#LightEmitter)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [sparkles_particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sparkles_particle) | 
[PlayerSlot](#PlayerSlot) | [player_inputs](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=player_inputs) | 
[Inventory](#Inventory) | [inventory](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inventory) | 
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [body_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=body_uid) | Is not set to -1 when crushed
int | [shake_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake_timer) | 
int | [boost_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=boost_timer) | 

### Pot

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [inside](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inside) | 
bool | [dont_transfer_dmg](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dont_transfer_dmg) | 

### Powerup

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_putting_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_putting_on) | Hooks before the virtual function.<br/>The callback signature is `bool putting_on(Powerup self, PowerupCapable who)`<br/>Virtual function docs:<br/>only for backpacks
[CallbackId](#Aliases) | [set_post_putting_on(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_putting_on) | Hooks after the virtual function.<br/>The callback signature is `nil putting_on(Powerup self, PowerupCapable who)`<br/>Virtual function docs:<br/>only for backpacks
[CallbackId](#Aliases) | [set_pre_putting_off(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_putting_off) | Hooks before the virtual function.<br/>The callback signature is `bool putting_off(Powerup self, PowerupCapable who)`<br/>Virtual function docs:<br/>only for backpacks
[CallbackId](#Aliases) | [set_post_putting_off(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_putting_off) | Hooks after the virtual function.<br/>The callback signature is `nil putting_off(Powerup self, PowerupCapable who)`<br/>Virtual function docs:<br/>only for backpacks

### Present

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
[ENT_TYPE](#ENT_TYPE) | [inside](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inside) | 

### PrizeDispenser

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
array&lt;int, 6&gt; | [item_ids](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=item_ids) | Id's of the items (not types), by default 0-24, look at [change_diceshop_prizes](#change_diceshop_prizes) for the list of default prizes<br/>so for example: id 0 equals ITEM_PICKUP_BOMBBAG, id 1 equals ITEM_PICKUP_BOMBBOX etc. Game generates 6 but uses max 5 for Tusk dice shop
int | [prizes_spawned](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=prizes_spawned) | 

### Projectile

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### PunishBall

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [attached_to_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=attached_to_uid) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | counts down from 20 while the ball is eligible to break a floor and tries to break it at 0
float | [x_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=x_pos) | 
float | [y_pos](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=y_pos) | 

### Purchasable

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
nil | [equip(Entity who)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=equip) | Is called after purchase, changes the [DummyPurchasableEntity](#DummyPurchasableEntity) into the real entity plus tries to equip it, or pick it up (for stuff like weapons), or give the powerup.<br/>Nothing else happens, by itself it does not remove item from shop etc.
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_equip(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_equip) | Hooks before the virtual function.<br/>The callback signature is `bool equip(Purchasable self, Entity who)`<br/>Virtual function docs:<br/>Is called after purchase, changes the DummyPurchasableEntity into the real entity plus tries to equip it, or pick it up (for stuff like weapons), or give the powerup.<br/>Nothing else happens, by itself it does not remove item from shop etc.
[CallbackId](#Aliases) | [set_post_equip(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_equip) | Hooks after the virtual function.<br/>The callback signature is `nil equip(Purchasable self, Entity who)`<br/>Virtual function docs:<br/>Is called after purchase, changes the DummyPurchasableEntity into the real entity plus tries to equip it, or pick it up (for stuff like weapons), or give the powerup.<br/>Nothing else happens, by itself it does not remove item from shop etc.

### PushBlock

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [dust_particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dust_particle) | 
float | [dest_pos_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dest_pos_x) | 

### RegenBlock

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [on_breaking](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=on_breaking) | 

### RollingItem

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
float | [roll_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=roll_speed) | 
nil | [give_powerup(Entity who, bool play_sfx)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=give_powerup) | Skip this function for item to be unpickable
[CallbackId](#Aliases) | [set_pre_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_virtual) | Hooks before the virtual function at index `entry`.
[CallbackId](#Aliases) | [set_post_virtual(ENTITY_OVERRIDE entry, function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_virtual) | Hooks after the virtual function at index `entry`.
nil | [clear_virtual(CallbackId callback_id)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=clear_virtual) | Clears the hook given by `callback_id`, alternatively use `clear_callback()` inside the hook.
[CallbackId](#Aliases) | [set_pre_give_powerup(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_pre_give_powerup) | Hooks before the virtual function.<br/>The callback signature is `bool give_powerup(RollingItem self, Entity who, bool play_sfx)`<br/>Virtual function docs:<br/>Skip this function for item to be unpickable
[CallbackId](#Aliases) | [set_post_give_powerup(function fun)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=set_post_give_powerup) | Hooks after the virtual function.<br/>The callback signature is `nil give_powerup(RollingItem self, Entity who, bool play_sfx)`<br/>Virtual function docs:<br/>Skip this function for item to be unpickable

### Rubble

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------

### Scepter

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [cooldown](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cooldown) | 

### ScepterShot

Derived from [Entity](#Entity) [Movable](#Movable) [LightEmitter](#LightEmitter)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
float | [speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speed) | 
int | [idle_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=idle_timer) | short timer before it goes after target

### Shield

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
float | [shake](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shake) | 

### SkullDropTrap

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
int | [left_skull_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left_skull_uid) | 
int | [middle_skull_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=middle_skull_uid) | 
int | [right_skull_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right_skull_uid) | 
int | [left_skull_drop_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=left_skull_drop_time) | 
int | [middle_skull_drop_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=middle_skull_drop_time) | 
int | [right_skull_drop_time](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=right_skull_drop_time) | 
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | counts from 60 to 0, 3 times, the last time dropping the skulls, then random longer timer for reset

### SleepBubble

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [show_hide_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=show_hide_timer) | 

### SnapTrap

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [bait_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bait_uid) | 
int | [reload_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=reload_timer) | 

### SoundShot

Derived from [Entity](#Entity) [Movable](#Movable) [Projectile](#Projectile) [LightShot](#LightShot)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### Spark

Derived from [Entity](#Entity) [Movable](#Movable) [Flame](#Flame)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=particle) | 
[Entity](#Entity) | [fx_entity](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_entity) | 
float | [rotation_center_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_center_x) | 
float | [rotation_center_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_center_y) | 
float | [rotation_angle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=rotation_angle) | 
float | [size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size) | slowly goes down to default 1.0, is 0.0 when not on screen
float | [size_multiply](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size_multiply) | 0.0 when not on screen
float | [next_size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=next_size) | width and height will be set to `next_size * size_multiply` next frame
int | [size_change_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=size_change_timer) | very short timer before next size change, giving a pulsing effect
float | [speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=speed) | This is custom variable, you need [activate_sparktraps_hack](#activate_sparktraps_hack) to use it
float | [distance](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=distance) | This is custom variable, you need [activate_sparktraps_hack](#activate_sparktraps_hack) to use it

### Spear

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SOUNDID](#Aliases) | [sound_id](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound_id) | 

### SpecialShot

Derived from [Entity](#Entity) [Movable](#Movable) [LightEmitter](#LightEmitter)


Type | Name | Description
---- | ---- | -----------
float | [target_x](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_x) | 
float | [target_y](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=target_y) | 

### StretchChain

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [at_end_of_chain_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=at_end_of_chain_uid) | 
float | [dot_offset](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dot_offset) | 
int | [position_in_chain](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=position_in_chain) | 
int | [inverse_doubled_position_in_chain](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=inverse_doubled_position_in_chain) | 
bool | [is_dot_hidden](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_dot_hidden) | 

### Switch

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### TV

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
[Entity](#Entity) | [fx_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_button) | 
[Illumination](#Illumination) | [emitted_light](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=emitted_light) | 
int | [station](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=station) | 

### Teleporter

Derived from [Entity](#Entity) [Movable](#Movable) [Purchasable](#Purchasable)


Type | Name | Description
---- | ---- | -----------
int | [teleport_number](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=teleport_number) | 

### TeleporterBackpack

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup) [Backpack](#Backpack)


Type | Name | Description
---- | ---- | -----------
int | [teleport_number](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=teleport_number) | 

### Telescope

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [fx_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_button) | 
[Entity](#Entity) | [camera_anchor](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=camera_anchor) | 
int | [looked_through_by_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=looked_through_by_uid) | 

### Tentacle

Derived from [Entity](#Entity) [Movable](#Movable) [Chain](#Chain)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [bottom](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bottom) | 

### ThinIce

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [strength](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=strength) | counts down when standing on, maximum is 134 as based of this value it changes animation_frame, and above that value it changes to wrong sprite

### TiamatShot

Derived from [Entity](#Entity) [Movable](#Movable) [LightEmitter](#LightEmitter)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### TimedPowderkeg

Derived from [Entity](#Entity) [Movable](#Movable) [PushBlock](#PushBlock)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | timer till explosion, -1 = pause, counts down

### TimedShot

Derived from [Entity](#Entity) [Movable](#Movable) [Projectile](#Projectile) [LightShot](#LightShot)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### Torch

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [flame_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flame_uid) | 
bool | [is_lit](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=is_lit) | It's used just to check, to light/extinguish use `light_up` function
nil | [light_up(bool lit)](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=light_up) | 
[ENT_TYPE](#ENT_TYPE) | [get_flame_type()](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=get_flame_type) | 

### TorchFlame

Derived from [Entity](#Entity) [Movable](#Movable) [Flame](#Flame)


Type | Name | Description
---- | ---- | -----------
[ParticleEmitterInfo](#ParticleEmitterInfo) | [smoke_particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=smoke_particle) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [flame_particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flame_particle) | 
[ParticleEmitterInfo](#ParticleEmitterInfo) | [warp_particle](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=warp_particle) | 
float | [flame_size](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flame_size) | 

### TrapPart

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [ceiling](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ceiling) | 

### Treasure

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [cashed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=cashed) | spawns a dust effect and adds money for the total

### TreasureHook

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 

### TrueCrownPowerup

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup)


Type | Name | Description
---- | ---- | -----------
int | [timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=timer) | 

### UdjatSocket

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
[Entity](#Entity) | [fx_button](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=fx_button) | 

### UnchainedSpikeBall

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [bounce](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=bounce) | 

### Ushabti

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [wiggle_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=wiggle_timer) | 
int | [shine_timer](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shine_timer) | 

### VanillaMovableBehavior

Opaque handle to a movable behavior from the vanilla game
Derived from [MovableBehavior](#MovableBehavior)


Type | Name | Description
---- | ---- | -----------

### VladsCape

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup) [Backpack](#Backpack) [Cape](#Cape)


Type | Name | Description
---- | ---- | -----------
bool | [can_double_jump](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=can_double_jump) | 

### WallTorch

Derived from [Entity](#Entity) [Movable](#Movable) [Torch](#Torch)


Type | Name | Description
---- | ---- | -----------
bool | [dropped_gold](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=dropped_gold) | if false, it will drop gold when light up

### Web

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
float | [decay_rate](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=decay_rate) | Is subtracted from the color alpha every frame after the `stand_counter` is more than 300.<br/>Entity automatically dies when the alpha is less than 0.1

### WebShot

Derived from [Entity](#Entity) [Movable](#Movable) [Projectile](#Projectile)


Type | Name | Description
---- | ---- | -----------
bool | [shot](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=shot) | if false, it's attached to the gun

### Whip

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
bool | [flaming](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=flaming) | 

### WoodenlogTrap

Derived from [Entity](#Entity) [Movable](#Movable)


Type | Name | Description
---- | ---- | -----------
int | [ceiling_1_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ceiling_1_uid) | 
int | [ceiling_2_uid](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=ceiling_2_uid) | 
float | [falling_speed](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=falling_speed) | 

### YellowCape

Derived from [Entity](#Entity) [Movable](#Movable) [Powerup](#Powerup) [Backpack](#Backpack) [Cape](#Cape)


Type | Name | Description
---- | ---- | -----------
[SoundMeta](#SoundMeta) | [sound](https://github.com/spelunky-fyi/overlunky/search?l=Lua&q=sound) | 
